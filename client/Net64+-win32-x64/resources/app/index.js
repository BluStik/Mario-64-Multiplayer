!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=192)}([function(e,t,r){"use strict";var n,o,s=r(97),i=s.Reader,a=s.Writer,c=s.util,l=s.roots.default||(s.roots.default={});l.ClientServerMessage=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.compression=0,e.prototype.uncompressedSize=0,e.prototype.compressedData=c.newBuffer([]),e.prototype.data=null,Object.defineProperty(e.prototype,"message",{get:c.oneOfGetter(t=["compressedData","data"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.compression&&e.hasOwnProperty("compression")&&t.uint32(8).int32(e.compression),null!=e.uncompressedSize&&e.hasOwnProperty("uncompressedSize")&&t.uint32(16).uint32(e.uncompressedSize),null!=e.compressedData&&e.hasOwnProperty("compressedData")&&t.uint32(26).bytes(e.compressedData),null!=e.data&&e.hasOwnProperty("data")&&l.ClientServer.encode(e.data,t.uint32(34).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.ClientServerMessage;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.compression=e.int32();break;case 2:n.uncompressedSize=e.uint32();break;case 3:n.compressedData=e.bytes();break;case 4:n.data=l.ClientServer.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.compression&&e.hasOwnProperty("compression"))switch(e.compression){default:return"compression: enum value expected";case 0:case 1:case 2:}if(null!=e.uncompressedSize&&e.hasOwnProperty("uncompressedSize")&&!c.isInteger(e.uncompressedSize))return"uncompressedSize: integer expected";if(null!=e.compressedData&&e.hasOwnProperty("compressedData")&&(t.message=1,!(e.compressedData&&"number"==typeof e.compressedData.length||c.isString(e.compressedData))))return"compressedData: buffer expected";if(null!=e.data&&e.hasOwnProperty("data")){if(1===t.message)return"message: multiple values";t.message=1;var r=l.ClientServer.verify(e.data);if(r)return"data."+r}return null},e.fromObject=function(e){if(e instanceof l.ClientServerMessage)return e;var t=new l.ClientServerMessage;switch(e.compression){case"NONE":case 0:t.compression=0;break;case"ZSTD":case 1:t.compression=1;break;case"GZIP":case 2:t.compression=2}if(null!=e.uncompressedSize&&(t.uncompressedSize=e.uncompressedSize>>>0),null!=e.compressedData&&("string"==typeof e.compressedData?c.base64.decode(e.compressedData,t.compressedData=c.newBuffer(c.base64.length(e.compressedData)),0):e.compressedData.length&&(t.compressedData=e.compressedData)),null!=e.data){if("object"!=typeof e.data)throw TypeError(".ClientServerMessage.data: object expected");t.data=l.ClientServer.fromObject(e.data)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.compression=t.enums===String?"NONE":0,r.uncompressedSize=0),null!=e.compression&&e.hasOwnProperty("compression")&&(r.compression=t.enums===String?l.Compression[e.compression]:e.compression),null!=e.uncompressedSize&&e.hasOwnProperty("uncompressedSize")&&(r.uncompressedSize=e.uncompressedSize),null!=e.compressedData&&e.hasOwnProperty("compressedData")&&(r.compressedData=t.bytes===String?c.base64.encode(e.compressedData,0,e.compressedData.length):t.bytes===Array?Array.prototype.slice.call(e.compressedData):e.compressedData,t.oneofs&&(r.message="compressedData")),null!=e.data&&e.hasOwnProperty("data")&&(r.data=l.ClientServer.toObject(e.data,t),t.oneofs&&(r.message="data")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.ClientServer=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r,n;return e.prototype.messageType=0,e.prototype.handshake=null,e.prototype.ping=null,e.prototype.player=null,e.prototype.authenticate=null,e.prototype.playerData=null,e.prototype.metaData=null,e.prototype.chat=null,Object.defineProperty(e.prototype,"message",{get:c.oneOfGetter(t=["handshake","ping","player","authenticate","playerData","metaData","chat"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.messageType&&e.hasOwnProperty("messageType")&&t.uint32(8).int32(e.messageType),null!=e.handshake&&e.hasOwnProperty("handshake")&&l.ClientHandshake.encode(e.handshake,t.uint32(18).fork()).ldelim(),null!=e.ping&&e.hasOwnProperty("ping")&&l.Ping.encode(e.ping,t.uint32(26).fork()).ldelim(),null!=e.player&&e.hasOwnProperty("player")&&l.Player.encode(e.player,t.uint32(50).fork()).ldelim(),null!=e.authenticate&&e.hasOwnProperty("authenticate")&&l.Authenticate.encode(e.authenticate,t.uint32(58).fork()).ldelim(),null!=e.playerData&&e.hasOwnProperty("playerData")&&l.PlayerData.encode(e.playerData,t.uint32(1026).fork()).ldelim(),null!=e.metaData&&e.hasOwnProperty("metaData")&&l.MetaData.encode(e.metaData,t.uint32(1034).fork()).ldelim(),null!=e.chat&&e.hasOwnProperty("chat")&&l.Chat.encode(e.chat,t.uint32(1042).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.ClientServer;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.messageType=e.int32();break;case 2:n.handshake=l.ClientHandshake.decode(e,e.uint32());break;case 3:n.ping=l.Ping.decode(e,e.uint32());break;case 6:n.player=l.Player.decode(e,e.uint32());break;case 7:n.authenticate=l.Authenticate.decode(e,e.uint32());break;case 128:n.playerData=l.PlayerData.decode(e,e.uint32());break;case 129:n.metaData=l.MetaData.decode(e,e.uint32());break;case 130:n.chat=l.Chat.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.messageType&&e.hasOwnProperty("messageType"))switch(e.messageType){default:return"messageType: enum value expected";case 0:case 2:case 3:case 6:case 7:case 128:case 129:case 130:}if(null!=e.handshake&&e.hasOwnProperty("handshake")&&(t.message=1,r=l.ClientHandshake.verify(e.handshake)))return"handshake."+r;if(null!=e.ping&&e.hasOwnProperty("ping")){if(1===t.message)return"message: multiple values";if(t.message=1,r=l.Ping.verify(e.ping))return"ping."+r}if(null!=e.player&&e.hasOwnProperty("player")){if(1===t.message)return"message: multiple values";if(t.message=1,r=l.Player.verify(e.player))return"player."+r}if(null!=e.authenticate&&e.hasOwnProperty("authenticate")){if(1===t.message)return"message: multiple values";if(t.message=1,r=l.Authenticate.verify(e.authenticate))return"authenticate."+r}if(null!=e.playerData&&e.hasOwnProperty("playerData")){if(1===t.message)return"message: multiple values";if(t.message=1,r=l.PlayerData.verify(e.playerData))return"playerData."+r}if(null!=e.metaData&&e.hasOwnProperty("metaData")){if(1===t.message)return"message: multiple values";if(t.message=1,r=l.MetaData.verify(e.metaData))return"metaData."+r}if(null!=e.chat&&e.hasOwnProperty("chat")){if(1===t.message)return"message: multiple values";var r;if(t.message=1,r=l.Chat.verify(e.chat))return"chat."+r}return null},e.fromObject=function(e){if(e instanceof l.ClientServer)return e;var t=new l.ClientServer;switch(e.messageType){case"UNKNOWN":case 0:t.messageType=0;break;case"HANDSHAKE":case 2:t.messageType=2;break;case"PING":case 3:t.messageType=3;break;case"PLAYER_UPDATE":case 6:t.messageType=6;break;case"AUTHENTICATE":case 7:t.messageType=7;break;case"PLAYER_DATA":case 128:t.messageType=128;break;case"META_DATA":case 129:t.messageType=129;break;case"CHAT":case 130:t.messageType=130}if(null!=e.handshake){if("object"!=typeof e.handshake)throw TypeError(".ClientServer.handshake: object expected");t.handshake=l.ClientHandshake.fromObject(e.handshake)}if(null!=e.ping){if("object"!=typeof e.ping)throw TypeError(".ClientServer.ping: object expected");t.ping=l.Ping.fromObject(e.ping)}if(null!=e.player){if("object"!=typeof e.player)throw TypeError(".ClientServer.player: object expected");t.player=l.Player.fromObject(e.player)}if(null!=e.authenticate){if("object"!=typeof e.authenticate)throw TypeError(".ClientServer.authenticate: object expected");t.authenticate=l.Authenticate.fromObject(e.authenticate)}if(null!=e.playerData){if("object"!=typeof e.playerData)throw TypeError(".ClientServer.playerData: object expected");t.playerData=l.PlayerData.fromObject(e.playerData)}if(null!=e.metaData){if("object"!=typeof e.metaData)throw TypeError(".ClientServer.metaData: object expected");t.metaData=l.MetaData.fromObject(e.metaData)}if(null!=e.chat){if("object"!=typeof e.chat)throw TypeError(".ClientServer.chat: object expected");t.chat=l.Chat.fromObject(e.chat)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.messageType=t.enums===String?"UNKNOWN":0),null!=e.messageType&&e.hasOwnProperty("messageType")&&(r.messageType=t.enums===String?l.ClientServer.MessageType[e.messageType]:e.messageType),null!=e.handshake&&e.hasOwnProperty("handshake")&&(r.handshake=l.ClientHandshake.toObject(e.handshake,t),t.oneofs&&(r.message="handshake")),null!=e.ping&&e.hasOwnProperty("ping")&&(r.ping=l.Ping.toObject(e.ping,t),t.oneofs&&(r.message="ping")),null!=e.player&&e.hasOwnProperty("player")&&(r.player=l.Player.toObject(e.player,t),t.oneofs&&(r.message="player")),null!=e.authenticate&&e.hasOwnProperty("authenticate")&&(r.authenticate=l.Authenticate.toObject(e.authenticate,t),t.oneofs&&(r.message="authenticate")),null!=e.playerData&&e.hasOwnProperty("playerData")&&(r.playerData=l.PlayerData.toObject(e.playerData,t),t.oneofs&&(r.message="playerData")),null!=e.metaData&&e.hasOwnProperty("metaData")&&(r.metaData=l.MetaData.toObject(e.metaData,t),t.oneofs&&(r.message="metaData")),null!=e.chat&&e.hasOwnProperty("chat")&&(r.chat=l.Chat.toObject(e.chat,t),t.oneofs&&(r.message="chat")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.MessageType=(r={},(n=Object.create(r))[r[0]="UNKNOWN"]=0,n[r[2]="HANDSHAKE"]=2,n[r[3]="PING"]=3,n[r[6]="PLAYER_UPDATE"]=6,n[r[7]="AUTHENTICATE"]=7,n[r[128]="PLAYER_DATA"]=128,n[r[129]="META_DATA"]=129,n[r[130]="CHAT"]=130,n),e}(),l.ClientHandshake=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.major=0,e.prototype.minor=0,e.prototype.characterId=0,e.prototype.username="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.major&&e.hasOwnProperty("major")&&t.uint32(8).uint32(e.major),null!=e.minor&&e.hasOwnProperty("minor")&&t.uint32(16).uint32(e.minor),null!=e.characterId&&e.hasOwnProperty("characterId")&&t.uint32(24).uint32(e.characterId),null!=e.username&&e.hasOwnProperty("username")&&t.uint32(34).string(e.username),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.ClientHandshake;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.major=e.uint32();break;case 2:n.minor=e.uint32();break;case 3:n.characterId=e.uint32();break;case 4:n.username=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.major&&e.hasOwnProperty("major")&&!c.isInteger(e.major)?"major: integer expected":null!=e.minor&&e.hasOwnProperty("minor")&&!c.isInteger(e.minor)?"minor: integer expected":null!=e.characterId&&e.hasOwnProperty("characterId")&&!c.isInteger(e.characterId)?"characterId: integer expected":null!=e.username&&e.hasOwnProperty("username")&&!c.isString(e.username)?"username: string expected":null},e.fromObject=function(e){if(e instanceof l.ClientHandshake)return e;var t=new l.ClientHandshake;return null!=e.major&&(t.major=e.major>>>0),null!=e.minor&&(t.minor=e.minor>>>0),null!=e.characterId&&(t.characterId=e.characterId>>>0),null!=e.username&&(t.username=String(e.username)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.major=0,r.minor=0,r.characterId=0,r.username=""),null!=e.major&&e.hasOwnProperty("major")&&(r.major=e.major),null!=e.minor&&e.hasOwnProperty("minor")&&(r.minor=e.minor),null!=e.characterId&&e.hasOwnProperty("characterId")&&(r.characterId=e.characterId),null!=e.username&&e.hasOwnProperty("username")&&(r.username=e.username),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.Ping=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.Ping;e.pos<r;){var o=e.uint32();e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof l.Ping?e:new l.Ping},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.Player=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.username="",e.prototype.characterId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.username&&e.hasOwnProperty("username")&&t.uint32(10).string(e.username),null!=e.characterId&&e.hasOwnProperty("characterId")&&t.uint32(16).uint32(e.characterId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.Player;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.username=e.string();break;case 2:n.characterId=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.username&&e.hasOwnProperty("username")&&!c.isString(e.username)?"username: string expected":null!=e.characterId&&e.hasOwnProperty("characterId")&&!c.isInteger(e.characterId)?"characterId: integer expected":null},e.fromObject=function(e){if(e instanceof l.Player)return e;var t=new l.Player;return null!=e.username&&(t.username=String(e.username)),null!=e.characterId&&(t.characterId=e.characterId>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.username="",r.characterId=0),null!=e.username&&e.hasOwnProperty("username")&&(r.username=e.username),null!=e.characterId&&e.hasOwnProperty("characterId")&&(r.characterId=e.characterId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.Authenticate=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.password="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.password&&e.hasOwnProperty("password")&&t.uint32(10).string(e.password),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.Authenticate;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.password=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.password&&e.hasOwnProperty("password")&&!c.isString(e.password)?"password: string expected":null},e.fromObject=function(e){if(e instanceof l.Authenticate)return e;var t=new l.Authenticate;return null!=e.password&&(t.password=String(e.password)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.password=""),null!=e.password&&e.hasOwnProperty("password")&&(r.password=e.password),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.PlayerData=function(){function e(e){if(this.playerBytes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataLength=0,e.prototype.playerBytes=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.dataLength&&e.hasOwnProperty("dataLength")&&t.uint32(8).uint32(e.dataLength),null!=e.playerBytes&&e.playerBytes.length)for(var r=0;r<e.playerBytes.length;++r)l.PlayerBytes.encode(e.playerBytes[r],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.PlayerData;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.dataLength=e.uint32();break;case 2:n.playerBytes&&n.playerBytes.length||(n.playerBytes=[]),n.playerBytes.push(l.PlayerBytes.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataLength&&e.hasOwnProperty("dataLength")&&!c.isInteger(e.dataLength))return"dataLength: integer expected";if(null!=e.playerBytes&&e.hasOwnProperty("playerBytes")){if(!Array.isArray(e.playerBytes))return"playerBytes: array expected";for(var t=0;t<e.playerBytes.length;++t){var r=l.PlayerBytes.verify(e.playerBytes[t]);if(r)return"playerBytes."+r}}return null},e.fromObject=function(e){if(e instanceof l.PlayerData)return e;var t=new l.PlayerData;if(null!=e.dataLength&&(t.dataLength=e.dataLength>>>0),e.playerBytes){if(!Array.isArray(e.playerBytes))throw TypeError(".PlayerData.playerBytes: array expected");t.playerBytes=[];for(var r=0;r<e.playerBytes.length;++r){if("object"!=typeof e.playerBytes[r])throw TypeError(".PlayerData.playerBytes: object expected");t.playerBytes[r]=l.PlayerBytes.fromObject(e.playerBytes[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.playerBytes=[]),t.defaults&&(r.dataLength=0),null!=e.dataLength&&e.hasOwnProperty("dataLength")&&(r.dataLength=e.dataLength),e.playerBytes&&e.playerBytes.length){r.playerBytes=[];for(var n=0;n<e.playerBytes.length;++n)r.playerBytes[n]=l.PlayerBytes.toObject(e.playerBytes[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.PlayerBytes=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.playerId=0,e.prototype.playerData=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.playerId&&e.hasOwnProperty("playerId")&&t.uint32(8).uint32(e.playerId),null!=e.playerData&&e.hasOwnProperty("playerData")&&t.uint32(18).bytes(e.playerData),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.PlayerBytes;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.playerId=e.uint32();break;case 2:n.playerData=e.bytes();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.playerId&&e.hasOwnProperty("playerId")&&!c.isInteger(e.playerId)?"playerId: integer expected":null!=e.playerData&&e.hasOwnProperty("playerData")&&!(e.playerData&&"number"==typeof e.playerData.length||c.isString(e.playerData))?"playerData: buffer expected":null},e.fromObject=function(e){if(e instanceof l.PlayerBytes)return e;var t=new l.PlayerBytes;return null!=e.playerId&&(t.playerId=e.playerId>>>0),null!=e.playerData&&("string"==typeof e.playerData?c.base64.decode(e.playerData,t.playerData=c.newBuffer(c.base64.length(e.playerData)),0):e.playerData.length&&(t.playerData=e.playerData)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.playerId=0,t.bytes===String?r.playerData="":(r.playerData=[],t.bytes!==Array&&(r.playerData=c.newBuffer(r.playerData)))),null!=e.playerId&&e.hasOwnProperty("playerId")&&(r.playerId=e.playerId),null!=e.playerData&&e.hasOwnProperty("playerData")&&(r.playerData=t.bytes===String?c.base64.encode(e.playerData,0,e.playerData.length):t.bytes===Array?Array.prototype.slice.call(e.playerData):e.playerData),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.Meta=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.length=0,e.prototype.address=0,e.prototype.data=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.length&&e.hasOwnProperty("length")&&t.uint32(8).uint32(e.length),null!=e.address&&e.hasOwnProperty("address")&&t.uint32(16).uint32(e.address),null!=e.data&&e.hasOwnProperty("data")&&t.uint32(26).bytes(e.data),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.Meta;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.length=e.uint32();break;case 2:n.address=e.uint32();break;case 3:n.data=e.bytes();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.length&&e.hasOwnProperty("length")&&!c.isInteger(e.length)?"length: integer expected":null!=e.address&&e.hasOwnProperty("address")&&!c.isInteger(e.address)?"address: integer expected":null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||c.isString(e.data))?"data: buffer expected":null},e.fromObject=function(e){if(e instanceof l.Meta)return e;var t=new l.Meta;return null!=e.length&&(t.length=e.length>>>0),null!=e.address&&(t.address=e.address>>>0),null!=e.data&&("string"==typeof e.data?c.base64.decode(e.data,t.data=c.newBuffer(c.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.length=0,r.address=0,t.bytes===String?r.data="":(r.data=[],t.bytes!==Array&&(r.data=c.newBuffer(r.data)))),null!=e.length&&e.hasOwnProperty("length")&&(r.length=e.length),null!=e.address&&e.hasOwnProperty("address")&&(r.address=e.address),null!=e.data&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?c.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.MetaData=function(){function e(e){if(this.metaData=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.metaData=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.metaData&&e.metaData.length)for(var r=0;r<e.metaData.length;++r)l.Meta.encode(e.metaData[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.MetaData;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.metaData&&n.metaData.length||(n.metaData=[]),n.metaData.push(l.Meta.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.metaData&&e.hasOwnProperty("metaData")){if(!Array.isArray(e.metaData))return"metaData: array expected";for(var t=0;t<e.metaData.length;++t){var r=l.Meta.verify(e.metaData[t]);if(r)return"metaData."+r}}return null},e.fromObject=function(e){if(e instanceof l.MetaData)return e;var t=new l.MetaData;if(e.metaData){if(!Array.isArray(e.metaData))throw TypeError(".MetaData.metaData: array expected");t.metaData=[];for(var r=0;r<e.metaData.length;++r){if("object"!=typeof e.metaData[r])throw TypeError(".MetaData.metaData: object expected");t.metaData[r]=l.Meta.fromObject(e.metaData[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.metaData=[]),e.metaData&&e.metaData.length){r.metaData=[];for(var n=0;n<e.metaData.length;++n)r.metaData[n]=l.Meta.toObject(e.metaData[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.Chat=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r,n;return e.prototype.chatType=0,e.prototype.senderId=0,e.prototype.message="",e.prototype.global=null,e.prototype.private=null,e.prototype.command=null,Object.defineProperty(e.prototype,"messageType",{get:c.oneOfGetter(t=["global","private","command"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.chatType&&e.hasOwnProperty("chatType")&&t.uint32(8).int32(e.chatType),null!=e.senderId&&e.hasOwnProperty("senderId")&&t.uint32(16).uint32(e.senderId),null!=e.message&&e.hasOwnProperty("message")&&t.uint32(26).string(e.message),null!=e.global&&e.hasOwnProperty("global")&&l.ChatGlobal.encode(e.global,t.uint32(34).fork()).ldelim(),null!=e.private&&e.hasOwnProperty("private")&&l.ChatPrivate.encode(e.private,t.uint32(42).fork()).ldelim(),null!=e.command&&e.hasOwnProperty("command")&&l.ChatCommand.encode(e.command,t.uint32(2042).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.Chat;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.chatType=e.int32();break;case 2:n.senderId=e.uint32();break;case 3:n.message=e.string();break;case 4:n.global=l.ChatGlobal.decode(e,e.uint32());break;case 5:n.private=l.ChatPrivate.decode(e,e.uint32());break;case 255:n.command=l.ChatCommand.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.chatType&&e.hasOwnProperty("chatType"))switch(e.chatType){default:return"chatType: enum value expected";case 0:case 1:case 255:}if(null!=e.senderId&&e.hasOwnProperty("senderId")&&!c.isInteger(e.senderId))return"senderId: integer expected";if(null!=e.message&&e.hasOwnProperty("message")&&!c.isString(e.message))return"message: string expected";if(null!=e.global&&e.hasOwnProperty("global")&&(t.messageType=1,r=l.ChatGlobal.verify(e.global)))return"global."+r;if(null!=e.private&&e.hasOwnProperty("private")){if(1===t.messageType)return"messageType: multiple values";if(t.messageType=1,r=l.ChatPrivate.verify(e.private))return"private."+r}if(null!=e.command&&e.hasOwnProperty("command")){if(1===t.messageType)return"messageType: multiple values";var r;if(t.messageType=1,r=l.ChatCommand.verify(e.command))return"command."+r}return null},e.fromObject=function(e){if(e instanceof l.Chat)return e;var t=new l.Chat;switch(e.chatType){case"GLOBAL":case 0:t.chatType=0;break;case"PRIVATE":case 1:t.chatType=1;break;case"COMMAND":case 255:t.chatType=255}if(null!=e.senderId&&(t.senderId=e.senderId>>>0),null!=e.message&&(t.message=String(e.message)),null!=e.global){if("object"!=typeof e.global)throw TypeError(".Chat.global: object expected");t.global=l.ChatGlobal.fromObject(e.global)}if(null!=e.private){if("object"!=typeof e.private)throw TypeError(".Chat.private: object expected");t.private=l.ChatPrivate.fromObject(e.private)}if(null!=e.command){if("object"!=typeof e.command)throw TypeError(".Chat.command: object expected");t.command=l.ChatCommand.fromObject(e.command)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.chatType=t.enums===String?"GLOBAL":0,r.senderId=0,r.message=""),null!=e.chatType&&e.hasOwnProperty("chatType")&&(r.chatType=t.enums===String?l.Chat.ChatType[e.chatType]:e.chatType),null!=e.senderId&&e.hasOwnProperty("senderId")&&(r.senderId=e.senderId),null!=e.message&&e.hasOwnProperty("message")&&(r.message=e.message),null!=e.global&&e.hasOwnProperty("global")&&(r.global=l.ChatGlobal.toObject(e.global,t),t.oneofs&&(r.messageType="global")),null!=e.private&&e.hasOwnProperty("private")&&(r.private=l.ChatPrivate.toObject(e.private,t),t.oneofs&&(r.messageType="private")),null!=e.command&&e.hasOwnProperty("command")&&(r.command=l.ChatCommand.toObject(e.command,t),t.oneofs&&(r.messageType="command")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.ChatType=(r={},(n=Object.create(r))[r[0]="GLOBAL"]=0,n[r[1]="PRIVATE"]=1,n[r[255]="COMMAND"]=255,n),e}(),l.ChatGlobal=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.ChatGlobal;e.pos<r;){var o=e.uint32();e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof l.ChatGlobal?e:new l.ChatGlobal},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.ChatPrivate=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.receiverId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.receiverId&&e.hasOwnProperty("receiverId")&&t.uint32(8).uint32(e.receiverId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.ChatPrivate;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.receiverId=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.receiverId&&e.hasOwnProperty("receiverId")&&!c.isInteger(e.receiverId)?"receiverId: integer expected":null},e.fromObject=function(e){if(e instanceof l.ChatPrivate)return e;var t=new l.ChatPrivate;return null!=e.receiverId&&(t.receiverId=e.receiverId>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.receiverId=0),null!=e.receiverId&&e.hasOwnProperty("receiverId")&&(r.receiverId=e.receiverId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.ChatCommand=function(){function e(e){if(this.arguments=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.arguments=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.arguments&&e.arguments.length)for(var r=0;r<e.arguments.length;++r)t.uint32(10).string(e.arguments[r]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.ChatCommand;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.arguments&&n.arguments.length||(n.arguments=[]),n.arguments.push(e.string());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.arguments&&e.hasOwnProperty("arguments")){if(!Array.isArray(e.arguments))return"arguments: array expected";for(var t=0;t<e.arguments.length;++t)if(!c.isString(e.arguments[t]))return"arguments: string[] expected"}return null},e.fromObject=function(e){if(e instanceof l.ChatCommand)return e;var t=new l.ChatCommand;if(e.arguments){if(!Array.isArray(e.arguments))throw TypeError(".ChatCommand.arguments: array expected");t.arguments=[];for(var r=0;r<e.arguments.length;++r)t.arguments[r]=String(e.arguments[r])}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.arguments=[]),e.arguments&&e.arguments.length){r.arguments=[];for(var n=0;n<e.arguments.length;++n)r.arguments[n]=e.arguments[n]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.Compression=(n={},(o=Object.create(n))[n[0]="NONE"]=0,o[n[1]="ZSTD"]=1,o[n[2]="GZIP"]=2,o),e.exports=l},function(e,t){e.exports=require("electron")},function(e,t,r){"use strict";var n,o,s=r(97),i=s.Reader,a=s.Writer,c=s.util,l=s.roots.default||(s.roots.default={});l.ServerClientMessage=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.compression=0,e.prototype.uncompressedSize=0,e.prototype.compressedData=c.newBuffer([]),e.prototype.data=null,Object.defineProperty(e.prototype,"message",{get:c.oneOfGetter(t=["compressedData","data"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.compression&&e.hasOwnProperty("compression")&&t.uint32(8).int32(e.compression),null!=e.uncompressedSize&&e.hasOwnProperty("uncompressedSize")&&t.uint32(16).uint32(e.uncompressedSize),null!=e.compressedData&&e.hasOwnProperty("compressedData")&&t.uint32(26).bytes(e.compressedData),null!=e.data&&e.hasOwnProperty("data")&&l.ServerClient.encode(e.data,t.uint32(34).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.ServerClientMessage;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.compression=e.int32();break;case 2:n.uncompressedSize=e.uint32();break;case 3:n.compressedData=e.bytes();break;case 4:n.data=l.ServerClient.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.compression&&e.hasOwnProperty("compression"))switch(e.compression){default:return"compression: enum value expected";case 0:case 1:case 2:}if(null!=e.uncompressedSize&&e.hasOwnProperty("uncompressedSize")&&!c.isInteger(e.uncompressedSize))return"uncompressedSize: integer expected";if(null!=e.compressedData&&e.hasOwnProperty("compressedData")&&(t.message=1,!(e.compressedData&&"number"==typeof e.compressedData.length||c.isString(e.compressedData))))return"compressedData: buffer expected";if(null!=e.data&&e.hasOwnProperty("data")){if(1===t.message)return"message: multiple values";t.message=1;var r=l.ServerClient.verify(e.data);if(r)return"data."+r}return null},e.fromObject=function(e){if(e instanceof l.ServerClientMessage)return e;var t=new l.ServerClientMessage;switch(e.compression){case"NONE":case 0:t.compression=0;break;case"ZSTD":case 1:t.compression=1;break;case"GZIP":case 2:t.compression=2}if(null!=e.uncompressedSize&&(t.uncompressedSize=e.uncompressedSize>>>0),null!=e.compressedData&&("string"==typeof e.compressedData?c.base64.decode(e.compressedData,t.compressedData=c.newBuffer(c.base64.length(e.compressedData)),0):e.compressedData.length&&(t.compressedData=e.compressedData)),null!=e.data){if("object"!=typeof e.data)throw TypeError(".ServerClientMessage.data: object expected");t.data=l.ServerClient.fromObject(e.data)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.compression=t.enums===String?"NONE":0,r.uncompressedSize=0),null!=e.compression&&e.hasOwnProperty("compression")&&(r.compression=t.enums===String?l.Compression[e.compression]:e.compression),null!=e.uncompressedSize&&e.hasOwnProperty("uncompressedSize")&&(r.uncompressedSize=e.uncompressedSize),null!=e.compressedData&&e.hasOwnProperty("compressedData")&&(r.compressedData=t.bytes===String?c.base64.encode(e.compressedData,0,e.compressedData.length):t.bytes===Array?Array.prototype.slice.call(e.compressedData):e.compressedData,t.oneofs&&(r.message="compressedData")),null!=e.data&&e.hasOwnProperty("data")&&(r.data=l.ServerClient.toObject(e.data,t),t.oneofs&&(r.message="data")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.ServerClient=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r,n;return e.prototype.messageType=0,e.prototype.handshake=null,e.prototype.ping=null,e.prototype.serverMessage=null,e.prototype.playerListUpdate=null,e.prototype.playerUpdate=null,e.prototype.playerData=null,e.prototype.metaData=null,e.prototype.chat=null,Object.defineProperty(e.prototype,"message",{get:c.oneOfGetter(t=["handshake","ping","serverMessage","playerListUpdate","playerUpdate","playerData","metaData","chat"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.messageType&&e.hasOwnProperty("messageType")&&t.uint32(8).int32(e.messageType),null!=e.handshake&&e.hasOwnProperty("handshake")&&l.ServerHandshake.encode(e.handshake,t.uint32(18).fork()).ldelim(),null!=e.ping&&e.hasOwnProperty("ping")&&l.Ping.encode(e.ping,t.uint32(26).fork()).ldelim(),null!=e.serverMessage&&e.hasOwnProperty("serverMessage")&&l.ServerMessage.encode(e.serverMessage,t.uint32(34).fork()).ldelim(),null!=e.playerListUpdate&&e.hasOwnProperty("playerListUpdate")&&l.PlayerListUpdate.encode(e.playerListUpdate,t.uint32(42).fork()).ldelim(),null!=e.playerUpdate&&e.hasOwnProperty("playerUpdate")&&l.PlayerUpdate.encode(e.playerUpdate,t.uint32(50).fork()).ldelim(),null!=e.playerData&&e.hasOwnProperty("playerData")&&l.PlayerData.encode(e.playerData,t.uint32(1026).fork()).ldelim(),null!=e.metaData&&e.hasOwnProperty("metaData")&&l.MetaData.encode(e.metaData,t.uint32(1034).fork()).ldelim(),null!=e.chat&&e.hasOwnProperty("chat")&&l.Chat.encode(e.chat,t.uint32(1042).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.ServerClient;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.messageType=e.int32();break;case 2:n.handshake=l.ServerHandshake.decode(e,e.uint32());break;case 3:n.ping=l.Ping.decode(e,e.uint32());break;case 4:n.serverMessage=l.ServerMessage.decode(e,e.uint32());break;case 5:n.playerListUpdate=l.PlayerListUpdate.decode(e,e.uint32());break;case 6:n.playerUpdate=l.PlayerUpdate.decode(e,e.uint32());break;case 128:n.playerData=l.PlayerData.decode(e,e.uint32());break;case 129:n.metaData=l.MetaData.decode(e,e.uint32());break;case 130:n.chat=l.Chat.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.messageType&&e.hasOwnProperty("messageType"))switch(e.messageType){default:return"messageType: enum value expected";case 0:case 2:case 3:case 4:case 5:case 6:case 128:case 129:case 130:}if(null!=e.handshake&&e.hasOwnProperty("handshake")&&(t.message=1,r=l.ServerHandshake.verify(e.handshake)))return"handshake."+r;if(null!=e.ping&&e.hasOwnProperty("ping")){if(1===t.message)return"message: multiple values";if(t.message=1,r=l.Ping.verify(e.ping))return"ping."+r}if(null!=e.serverMessage&&e.hasOwnProperty("serverMessage")){if(1===t.message)return"message: multiple values";if(t.message=1,r=l.ServerMessage.verify(e.serverMessage))return"serverMessage."+r}if(null!=e.playerListUpdate&&e.hasOwnProperty("playerListUpdate")){if(1===t.message)return"message: multiple values";if(t.message=1,r=l.PlayerListUpdate.verify(e.playerListUpdate))return"playerListUpdate."+r}if(null!=e.playerUpdate&&e.hasOwnProperty("playerUpdate")){if(1===t.message)return"message: multiple values";if(t.message=1,r=l.PlayerUpdate.verify(e.playerUpdate))return"playerUpdate."+r}if(null!=e.playerData&&e.hasOwnProperty("playerData")){if(1===t.message)return"message: multiple values";if(t.message=1,r=l.PlayerData.verify(e.playerData))return"playerData."+r}if(null!=e.metaData&&e.hasOwnProperty("metaData")){if(1===t.message)return"message: multiple values";if(t.message=1,r=l.MetaData.verify(e.metaData))return"metaData."+r}if(null!=e.chat&&e.hasOwnProperty("chat")){if(1===t.message)return"message: multiple values";var r;if(t.message=1,r=l.Chat.verify(e.chat))return"chat."+r}return null},e.fromObject=function(e){if(e instanceof l.ServerClient)return e;var t=new l.ServerClient;switch(e.messageType){case"UNKNOWN":case 0:t.messageType=0;break;case"HANDSHAKE":case 2:t.messageType=2;break;case"PING":case 3:t.messageType=3;break;case"SERVER_MESSAGE":case 4:t.messageType=4;break;case"PLAYER_LIST_UPDATE":case 5:t.messageType=5;break;case"PLAYER_UPDATE":case 6:t.messageType=6;break;case"PLAYER_DATA":case 128:t.messageType=128;break;case"META_DATA":case 129:t.messageType=129;break;case"CHAT":case 130:t.messageType=130}if(null!=e.handshake){if("object"!=typeof e.handshake)throw TypeError(".ServerClient.handshake: object expected");t.handshake=l.ServerHandshake.fromObject(e.handshake)}if(null!=e.ping){if("object"!=typeof e.ping)throw TypeError(".ServerClient.ping: object expected");t.ping=l.Ping.fromObject(e.ping)}if(null!=e.serverMessage){if("object"!=typeof e.serverMessage)throw TypeError(".ServerClient.serverMessage: object expected");t.serverMessage=l.ServerMessage.fromObject(e.serverMessage)}if(null!=e.playerListUpdate){if("object"!=typeof e.playerListUpdate)throw TypeError(".ServerClient.playerListUpdate: object expected");t.playerListUpdate=l.PlayerListUpdate.fromObject(e.playerListUpdate)}if(null!=e.playerUpdate){if("object"!=typeof e.playerUpdate)throw TypeError(".ServerClient.playerUpdate: object expected");t.playerUpdate=l.PlayerUpdate.fromObject(e.playerUpdate)}if(null!=e.playerData){if("object"!=typeof e.playerData)throw TypeError(".ServerClient.playerData: object expected");t.playerData=l.PlayerData.fromObject(e.playerData)}if(null!=e.metaData){if("object"!=typeof e.metaData)throw TypeError(".ServerClient.metaData: object expected");t.metaData=l.MetaData.fromObject(e.metaData)}if(null!=e.chat){if("object"!=typeof e.chat)throw TypeError(".ServerClient.chat: object expected");t.chat=l.Chat.fromObject(e.chat)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.messageType=t.enums===String?"UNKNOWN":0),null!=e.messageType&&e.hasOwnProperty("messageType")&&(r.messageType=t.enums===String?l.ServerClient.MessageType[e.messageType]:e.messageType),null!=e.handshake&&e.hasOwnProperty("handshake")&&(r.handshake=l.ServerHandshake.toObject(e.handshake,t),t.oneofs&&(r.message="handshake")),null!=e.ping&&e.hasOwnProperty("ping")&&(r.ping=l.Ping.toObject(e.ping,t),t.oneofs&&(r.message="ping")),null!=e.serverMessage&&e.hasOwnProperty("serverMessage")&&(r.serverMessage=l.ServerMessage.toObject(e.serverMessage,t),t.oneofs&&(r.message="serverMessage")),null!=e.playerListUpdate&&e.hasOwnProperty("playerListUpdate")&&(r.playerListUpdate=l.PlayerListUpdate.toObject(e.playerListUpdate,t),t.oneofs&&(r.message="playerListUpdate")),null!=e.playerUpdate&&e.hasOwnProperty("playerUpdate")&&(r.playerUpdate=l.PlayerUpdate.toObject(e.playerUpdate,t),t.oneofs&&(r.message="playerUpdate")),null!=e.playerData&&e.hasOwnProperty("playerData")&&(r.playerData=l.PlayerData.toObject(e.playerData,t),t.oneofs&&(r.message="playerData")),null!=e.metaData&&e.hasOwnProperty("metaData")&&(r.metaData=l.MetaData.toObject(e.metaData,t),t.oneofs&&(r.message="metaData")),null!=e.chat&&e.hasOwnProperty("chat")&&(r.chat=l.Chat.toObject(e.chat,t),t.oneofs&&(r.message="chat")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.MessageType=(r={},(n=Object.create(r))[r[0]="UNKNOWN"]=0,n[r[2]="HANDSHAKE"]=2,n[r[3]="PING"]=3,n[r[4]="SERVER_MESSAGE"]=4,n[r[5]="PLAYER_LIST_UPDATE"]=5,n[r[6]="PLAYER_UPDATE"]=6,n[r[128]="PLAYER_DATA"]=128,n[r[129]="META_DATA"]=129,n[r[130]="CHAT"]=130,n),e}(),l.ServerHandshake=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.playerId=0,e.prototype.ip="",e.prototype.port=0,e.prototype.domain="",e.prototype.name="",e.prototype.description="",e.prototype.playerList=null,e.prototype.countryCode="",e.prototype.gameMode=0,e.prototype.passwordRequired=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.playerId&&e.hasOwnProperty("playerId")&&t.uint32(8).uint32(e.playerId),null!=e.ip&&e.hasOwnProperty("ip")&&t.uint32(18).string(e.ip),null!=e.port&&e.hasOwnProperty("port")&&t.uint32(24).uint32(e.port),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(34).string(e.domain),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(42).string(e.name),null!=e.description&&e.hasOwnProperty("description")&&t.uint32(50).string(e.description),null!=e.playerList&&e.hasOwnProperty("playerList")&&l.PlayerListUpdate.encode(e.playerList,t.uint32(58).fork()).ldelim(),null!=e.countryCode&&e.hasOwnProperty("countryCode")&&t.uint32(66).string(e.countryCode),null!=e.gameMode&&e.hasOwnProperty("gameMode")&&t.uint32(72).int32(e.gameMode),null!=e.passwordRequired&&e.hasOwnProperty("passwordRequired")&&t.uint32(80).bool(e.passwordRequired),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.ServerHandshake;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.playerId=e.uint32();break;case 2:n.ip=e.string();break;case 3:n.port=e.uint32();break;case 4:n.domain=e.string();break;case 5:n.name=e.string();break;case 6:n.description=e.string();break;case 7:n.playerList=l.PlayerListUpdate.decode(e,e.uint32());break;case 8:n.countryCode=e.string();break;case 9:n.gameMode=e.int32();break;case 10:n.passwordRequired=e.bool();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.playerId&&e.hasOwnProperty("playerId")&&!c.isInteger(e.playerId))return"playerId: integer expected";if(null!=e.ip&&e.hasOwnProperty("ip")&&!c.isString(e.ip))return"ip: string expected";if(null!=e.port&&e.hasOwnProperty("port")&&!c.isInteger(e.port))return"port: integer expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!c.isString(e.domain))return"domain: string expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.description&&e.hasOwnProperty("description")&&!c.isString(e.description))return"description: string expected";if(null!=e.playerList&&e.hasOwnProperty("playerList")){var t=l.PlayerListUpdate.verify(e.playerList);if(t)return"playerList."+t}if(null!=e.countryCode&&e.hasOwnProperty("countryCode")&&!c.isString(e.countryCode))return"countryCode: string expected";if(null!=e.gameMode&&e.hasOwnProperty("gameMode"))switch(e.gameMode){default:return"gameMode: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 8:}return null!=e.passwordRequired&&e.hasOwnProperty("passwordRequired")&&"boolean"!=typeof e.passwordRequired?"passwordRequired: boolean expected":null},e.fromObject=function(e){if(e instanceof l.ServerHandshake)return e;var t=new l.ServerHandshake;if(null!=e.playerId&&(t.playerId=e.playerId>>>0),null!=e.ip&&(t.ip=String(e.ip)),null!=e.port&&(t.port=e.port>>>0),null!=e.domain&&(t.domain=String(e.domain)),null!=e.name&&(t.name=String(e.name)),null!=e.description&&(t.description=String(e.description)),null!=e.playerList){if("object"!=typeof e.playerList)throw TypeError(".ServerHandshake.playerList: object expected");t.playerList=l.PlayerListUpdate.fromObject(e.playerList)}switch(null!=e.countryCode&&(t.countryCode=String(e.countryCode)),e.gameMode){case"NONE":case 0:t.gameMode=0;break;case"DEFAULT":case 1:t.gameMode=1;break;case"THIRD_PERSON_SHOOTER":case 2:t.gameMode=2;break;case"INTERACTIONLESS":case 3:t.gameMode=3;break;case"PROP_HUNT":case 4:t.gameMode=4;break;case"BOSS_RUSH":case 5:t.gameMode=5;break;case"TAG":case 6:t.gameMode=6;break;case"WARIO_WARE":case 8:t.gameMode=8}return null!=e.passwordRequired&&(t.passwordRequired=Boolean(e.passwordRequired)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.playerId=0,r.ip="",r.port=0,r.domain="",r.name="",r.description="",r.playerList=null,r.countryCode="",r.gameMode=t.enums===String?"NONE":0,r.passwordRequired=!1),null!=e.playerId&&e.hasOwnProperty("playerId")&&(r.playerId=e.playerId),null!=e.ip&&e.hasOwnProperty("ip")&&(r.ip=e.ip),null!=e.port&&e.hasOwnProperty("port")&&(r.port=e.port),null!=e.domain&&e.hasOwnProperty("domain")&&(r.domain=e.domain),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.description&&e.hasOwnProperty("description")&&(r.description=e.description),null!=e.playerList&&e.hasOwnProperty("playerList")&&(r.playerList=l.PlayerListUpdate.toObject(e.playerList,t)),null!=e.countryCode&&e.hasOwnProperty("countryCode")&&(r.countryCode=e.countryCode),null!=e.gameMode&&e.hasOwnProperty("gameMode")&&(r.gameMode=t.enums===String?l.GameModeType[e.gameMode]:e.gameMode),null!=e.passwordRequired&&e.hasOwnProperty("passwordRequired")&&(r.passwordRequired=e.passwordRequired),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.GameMode=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.gameMode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.gameMode&&e.hasOwnProperty("gameMode")&&t.uint32(8).int32(e.gameMode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.GameMode;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.gameMode=e.int32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.gameMode&&e.hasOwnProperty("gameMode"))switch(e.gameMode){default:return"gameMode: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 8:}return null},e.fromObject=function(e){if(e instanceof l.GameMode)return e;var t=new l.GameMode;switch(e.gameMode){case"NONE":case 0:t.gameMode=0;break;case"DEFAULT":case 1:t.gameMode=1;break;case"THIRD_PERSON_SHOOTER":case 2:t.gameMode=2;break;case"INTERACTIONLESS":case 3:t.gameMode=3;break;case"PROP_HUNT":case 4:t.gameMode=4;break;case"BOSS_RUSH":case 5:t.gameMode=5;break;case"TAG":case 6:t.gameMode=6;break;case"WARIO_WARE":case 8:t.gameMode=8}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.gameMode=t.enums===String?"NONE":0),null!=e.gameMode&&e.hasOwnProperty("gameMode")&&(r.gameMode=t.enums===String?l.GameModeType[e.gameMode]:e.gameMode),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.GameModeType=(n={},(o=Object.create(n))[n[0]="NONE"]=0,o[n[1]="DEFAULT"]=1,o[n[2]="THIRD_PERSON_SHOOTER"]=2,o[n[3]="INTERACTIONLESS"]=3,o[n[4]="PROP_HUNT"]=4,o[n[5]="BOSS_RUSH"]=5,o[n[6]="TAG"]=6,o[n[8]="WARIO_WARE"]=8,o),l.PlayerUpdate=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.playerId=0,e.prototype.player=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.playerId&&e.hasOwnProperty("playerId")&&t.uint32(8).uint32(e.playerId),null!=e.player&&e.hasOwnProperty("player")&&l.Player.encode(e.player,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.PlayerUpdate;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.playerId=e.uint32();break;case 2:n.player=l.Player.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.playerId&&e.hasOwnProperty("playerId")&&!c.isInteger(e.playerId))return"playerId: integer expected";if(null!=e.player&&e.hasOwnProperty("player")){var t=l.Player.verify(e.player);if(t)return"player."+t}return null},e.fromObject=function(e){if(e instanceof l.PlayerUpdate)return e;var t=new l.PlayerUpdate;if(null!=e.playerId&&(t.playerId=e.playerId>>>0),null!=e.player){if("object"!=typeof e.player)throw TypeError(".PlayerUpdate.player: object expected");t.player=l.Player.fromObject(e.player)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.playerId=0,r.player=null),null!=e.playerId&&e.hasOwnProperty("playerId")&&(r.playerId=e.playerId),null!=e.player&&e.hasOwnProperty("player")&&(r.player=l.Player.toObject(e.player,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.PlayerListUpdate=function(){function e(e){if(this.playerUpdates=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.playerUpdates=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.playerUpdates&&e.playerUpdates.length)for(var r=0;r<e.playerUpdates.length;++r)l.PlayerUpdate.encode(e.playerUpdates[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.PlayerListUpdate;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.playerUpdates&&n.playerUpdates.length||(n.playerUpdates=[]),n.playerUpdates.push(l.PlayerUpdate.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.playerUpdates&&e.hasOwnProperty("playerUpdates")){if(!Array.isArray(e.playerUpdates))return"playerUpdates: array expected";for(var t=0;t<e.playerUpdates.length;++t){var r=l.PlayerUpdate.verify(e.playerUpdates[t]);if(r)return"playerUpdates."+r}}return null},e.fromObject=function(e){if(e instanceof l.PlayerListUpdate)return e;var t=new l.PlayerListUpdate;if(e.playerUpdates){if(!Array.isArray(e.playerUpdates))throw TypeError(".PlayerListUpdate.playerUpdates: array expected");t.playerUpdates=[];for(var r=0;r<e.playerUpdates.length;++r){if("object"!=typeof e.playerUpdates[r])throw TypeError(".PlayerListUpdate.playerUpdates: object expected");t.playerUpdates[r]=l.PlayerUpdate.fromObject(e.playerUpdates[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.playerUpdates=[]),e.playerUpdates&&e.playerUpdates.length){r.playerUpdates=[];for(var n=0;n<e.playerUpdates.length;++n)r.playerUpdates[n]=l.PlayerUpdate.toObject(e.playerUpdates[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.Player=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.username="",e.prototype.characterId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.username&&e.hasOwnProperty("username")&&t.uint32(10).string(e.username),null!=e.characterId&&e.hasOwnProperty("characterId")&&t.uint32(16).uint32(e.characterId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.Player;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.username=e.string();break;case 2:n.characterId=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.username&&e.hasOwnProperty("username")&&!c.isString(e.username)?"username: string expected":null!=e.characterId&&e.hasOwnProperty("characterId")&&!c.isInteger(e.characterId)?"characterId: integer expected":null},e.fromObject=function(e){if(e instanceof l.Player)return e;var t=new l.Player;return null!=e.username&&(t.username=String(e.username)),null!=e.characterId&&(t.characterId=e.characterId>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.username="",r.characterId=0),null!=e.username&&e.hasOwnProperty("username")&&(r.username=e.username),null!=e.characterId&&e.hasOwnProperty("characterId")&&(r.characterId=e.characterId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.Ping=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.Ping;e.pos<r;){var o=e.uint32();e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof l.Ping?e:new l.Ping},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.ServerMessage=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.messageType=0,e.prototype.connectionDenied=null,e.prototype.gameMode=null,e.prototype.playerReorder=null,e.prototype.error=null,e.prototype.authentication=null,Object.defineProperty(e.prototype,"message",{get:c.oneOfGetter(t=["connectionDenied","gameMode","playerReorder","error","authentication"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.messageType&&e.hasOwnProperty("messageType")&&t.uint32(8).int32(e.messageType),null!=e.connectionDenied&&e.hasOwnProperty("connectionDenied")&&l.ConnectionDenied.encode(e.connectionDenied,t.uint32(18).fork()).ldelim(),null!=e.gameMode&&e.hasOwnProperty("gameMode")&&l.GameMode.encode(e.gameMode,t.uint32(26).fork()).ldelim(),null!=e.playerReorder&&e.hasOwnProperty("playerReorder")&&l.PlayerReorder.encode(e.playerReorder,t.uint32(34).fork()).ldelim(),null!=e.error&&e.hasOwnProperty("error")&&l.Error.encode(e.error,t.uint32(42).fork()).ldelim(),null!=e.authentication&&e.hasOwnProperty("authentication")&&l.Authentication.encode(e.authentication,t.uint32(50).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.ServerMessage;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.messageType=e.int32();break;case 2:n.connectionDenied=l.ConnectionDenied.decode(e,e.uint32());break;case 3:n.gameMode=l.GameMode.decode(e,e.uint32());break;case 4:n.playerReorder=l.PlayerReorder.decode(e,e.uint32());break;case 5:n.error=l.Error.decode(e,e.uint32());break;case 6:n.authentication=l.Authentication.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.messageType&&e.hasOwnProperty("messageType"))switch(e.messageType){default:return"messageType: enum value expected";case 0:case 1:case 2:case 3:case 4:}if(null!=e.connectionDenied&&e.hasOwnProperty("connectionDenied")&&(t.message=1,r=l.ConnectionDenied.verify(e.connectionDenied)))return"connectionDenied."+r;if(null!=e.gameMode&&e.hasOwnProperty("gameMode")){if(1===t.message)return"message: multiple values";if(t.message=1,r=l.GameMode.verify(e.gameMode))return"gameMode."+r}if(null!=e.playerReorder&&e.hasOwnProperty("playerReorder")){if(1===t.message)return"message: multiple values";if(t.message=1,r=l.PlayerReorder.verify(e.playerReorder))return"playerReorder."+r}if(null!=e.error&&e.hasOwnProperty("error")){if(1===t.message)return"message: multiple values";if(t.message=1,r=l.Error.verify(e.error))return"error."+r}if(null!=e.authentication&&e.hasOwnProperty("authentication")){if(1===t.message)return"message: multiple values";var r;if(t.message=1,r=l.Authentication.verify(e.authentication))return"authentication."+r}return null},e.fromObject=function(e){if(e instanceof l.ServerMessage)return e;var t=new l.ServerMessage;switch(e.messageType){case"CONNECTION_DENIED":case 0:t.messageType=0;break;case"GAME_MODE":case 1:t.messageType=1;break;case"PLAYER_REORDER":case 2:t.messageType=2;break;case"ERROR":case 3:t.messageType=3;break;case"AUTHENTICATION":case 4:t.messageType=4}if(null!=e.connectionDenied){if("object"!=typeof e.connectionDenied)throw TypeError(".ServerMessage.connectionDenied: object expected");t.connectionDenied=l.ConnectionDenied.fromObject(e.connectionDenied)}if(null!=e.gameMode){if("object"!=typeof e.gameMode)throw TypeError(".ServerMessage.gameMode: object expected");t.gameMode=l.GameMode.fromObject(e.gameMode)}if(null!=e.playerReorder){if("object"!=typeof e.playerReorder)throw TypeError(".ServerMessage.playerReorder: object expected");t.playerReorder=l.PlayerReorder.fromObject(e.playerReorder)}if(null!=e.error){if("object"!=typeof e.error)throw TypeError(".ServerMessage.error: object expected");t.error=l.Error.fromObject(e.error)}if(null!=e.authentication){if("object"!=typeof e.authentication)throw TypeError(".ServerMessage.authentication: object expected");t.authentication=l.Authentication.fromObject(e.authentication)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.messageType=t.enums===String?"CONNECTION_DENIED":0),null!=e.messageType&&e.hasOwnProperty("messageType")&&(r.messageType=t.enums===String?l.ServerMessage.MessageType[e.messageType]:e.messageType),null!=e.connectionDenied&&e.hasOwnProperty("connectionDenied")&&(r.connectionDenied=l.ConnectionDenied.toObject(e.connectionDenied,t),t.oneofs&&(r.message="connectionDenied")),null!=e.gameMode&&e.hasOwnProperty("gameMode")&&(r.gameMode=l.GameMode.toObject(e.gameMode,t),t.oneofs&&(r.message="gameMode")),null!=e.playerReorder&&e.hasOwnProperty("playerReorder")&&(r.playerReorder=l.PlayerReorder.toObject(e.playerReorder,t),t.oneofs&&(r.message="playerReorder")),null!=e.error&&e.hasOwnProperty("error")&&(r.error=l.Error.toObject(e.error,t),t.oneofs&&(r.message="error")),null!=e.authentication&&e.hasOwnProperty("authentication")&&(r.authentication=l.Authentication.toObject(e.authentication,t),t.oneofs&&(r.message="authentication")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.MessageType=function(){var e={},t=Object.create(e);return t[e[0]="CONNECTION_DENIED"]=0,t[e[1]="GAME_MODE"]=1,t[e[2]="PLAYER_REORDER"]=2,t[e[3]="ERROR"]=3,t[e[4]="AUTHENTICATION"]=4,t}(),e}(),l.PlayerReorder=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.grantToken=!1,e.prototype.playerId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.grantToken&&e.hasOwnProperty("grantToken")&&t.uint32(8).bool(e.grantToken),null!=e.playerId&&e.hasOwnProperty("playerId")&&t.uint32(16).uint32(e.playerId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.PlayerReorder;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.grantToken=e.bool();break;case 2:n.playerId=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.grantToken&&e.hasOwnProperty("grantToken")&&"boolean"!=typeof e.grantToken?"grantToken: boolean expected":null!=e.playerId&&e.hasOwnProperty("playerId")&&!c.isInteger(e.playerId)?"playerId: integer expected":null},e.fromObject=function(e){if(e instanceof l.PlayerReorder)return e;var t=new l.PlayerReorder;return null!=e.grantToken&&(t.grantToken=Boolean(e.grantToken)),null!=e.playerId&&(t.playerId=e.playerId>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.grantToken=!1,r.playerId=0),null!=e.grantToken&&e.hasOwnProperty("grantToken")&&(r.grantToken=e.grantToken),null!=e.playerId&&e.hasOwnProperty("playerId")&&(r.playerId=e.playerId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.Error=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.errorType=0,e.prototype.message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.errorType&&e.hasOwnProperty("errorType")&&t.uint32(8).int32(e.errorType),null!=e.message&&e.hasOwnProperty("message")&&t.uint32(18).string(e.message),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.Error;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.errorType=e.int32();break;case 2:n.message=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.errorType&&e.hasOwnProperty("errorType"))switch(e.errorType){default:return"errorType: enum value expected";case 0:case 400:case 401:case 429:case 500:}return null!=e.message&&e.hasOwnProperty("message")&&!c.isString(e.message)?"message: string expected":null},e.fromObject=function(e){if(e instanceof l.Error)return e;var t=new l.Error;switch(e.errorType){case"UNKNOWN":case 0:t.errorType=0;break;case"BAD_REQUEST":case 400:t.errorType=400;break;case"UNAUTHORIZED":case 401:t.errorType=401;break;case"TOO_MANY_REQUESTS":case 429:t.errorType=429;break;case"INTERNAL_SERVER_ERROR":case 500:t.errorType=500}return null!=e.message&&(t.message=String(e.message)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.errorType=t.enums===String?"UNKNOWN":0,r.message=""),null!=e.errorType&&e.hasOwnProperty("errorType")&&(r.errorType=t.enums===String?l.Error.ErrorType[e.errorType]:e.errorType),null!=e.message&&e.hasOwnProperty("message")&&(r.message=e.message),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.ErrorType=function(){var e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[400]="BAD_REQUEST"]=400,t[e[401]="UNAUTHORIZED"]=401,t[e[429]="TOO_MANY_REQUESTS"]=429,t[e[500]="INTERNAL_SERVER_ERROR"]=500,t}(),e}(),l.Authentication=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.status=0,e.prototype.throttle=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.status&&e.hasOwnProperty("status")&&t.uint32(8).int32(e.status),null!=e.throttle&&e.hasOwnProperty("throttle")&&t.uint32(16).uint32(e.throttle),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.Authentication;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.status=e.int32();break;case 2:n.throttle=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 1:}return null!=e.throttle&&e.hasOwnProperty("throttle")&&!c.isInteger(e.throttle)?"throttle: integer expected":null},e.fromObject=function(e){if(e instanceof l.Authentication)return e;var t=new l.Authentication;switch(e.status){case"ACCEPTED":case 0:t.status=0;break;case"DENIED":case 1:t.status=1}return null!=e.throttle&&(t.throttle=e.throttle>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.status=t.enums===String?"ACCEPTED":0,r.throttle=0),null!=e.status&&e.hasOwnProperty("status")&&(r.status=t.enums===String?l.Authentication.Status[e.status]:e.status),null!=e.throttle&&e.hasOwnProperty("throttle")&&(r.throttle=e.throttle),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.Status=function(){var e={},t=Object.create(e);return t[e[0]="ACCEPTED"]=0,t[e[1]="DENIED"]=1,t}(),e}(),l.ConnectionDenied=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.reason=0,e.prototype.serverFull=null,e.prototype.wrongVersion=null,Object.defineProperty(e.prototype,"message",{get:c.oneOfGetter(t=["serverFull","wrongVersion"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.reason&&e.hasOwnProperty("reason")&&t.uint32(8).int32(e.reason),null!=e.serverFull&&e.hasOwnProperty("serverFull")&&l.ServerFull.encode(e.serverFull,t.uint32(18).fork()).ldelim(),null!=e.wrongVersion&&e.hasOwnProperty("wrongVersion")&&l.WrongVersion.encode(e.wrongVersion,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.ConnectionDenied;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.reason=e.int32();break;case 2:n.serverFull=l.ServerFull.decode(e,e.uint32());break;case 3:n.wrongVersion=l.WrongVersion.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.reason&&e.hasOwnProperty("reason"))switch(e.reason){default:return"reason: enum value expected";case 0:case 1:}if(null!=e.serverFull&&e.hasOwnProperty("serverFull")&&(t.message=1,r=l.ServerFull.verify(e.serverFull)))return"serverFull."+r;if(null!=e.wrongVersion&&e.hasOwnProperty("wrongVersion")){if(1===t.message)return"message: multiple values";var r;if(t.message=1,r=l.WrongVersion.verify(e.wrongVersion))return"wrongVersion."+r}return null},e.fromObject=function(e){if(e instanceof l.ConnectionDenied)return e;var t=new l.ConnectionDenied;switch(e.reason){case"SERVER_FULL":case 0:t.reason=0;break;case"WRONG_VERSION":case 1:t.reason=1}if(null!=e.serverFull){if("object"!=typeof e.serverFull)throw TypeError(".ConnectionDenied.serverFull: object expected");t.serverFull=l.ServerFull.fromObject(e.serverFull)}if(null!=e.wrongVersion){if("object"!=typeof e.wrongVersion)throw TypeError(".ConnectionDenied.wrongVersion: object expected");t.wrongVersion=l.WrongVersion.fromObject(e.wrongVersion)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.reason=t.enums===String?"SERVER_FULL":0),null!=e.reason&&e.hasOwnProperty("reason")&&(r.reason=t.enums===String?l.ConnectionDenied.Reason[e.reason]:e.reason),null!=e.serverFull&&e.hasOwnProperty("serverFull")&&(r.serverFull=l.ServerFull.toObject(e.serverFull,t),t.oneofs&&(r.message="serverFull")),null!=e.wrongVersion&&e.hasOwnProperty("wrongVersion")&&(r.wrongVersion=l.WrongVersion.toObject(e.wrongVersion,t),t.oneofs&&(r.message="wrongVersion")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.Reason=function(){var e={},t=Object.create(e);return t[e[0]="SERVER_FULL"]=0,t[e[1]="WRONG_VERSION"]=1,t}(),e}(),l.ServerFull=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.maxPlayers=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.maxPlayers&&e.hasOwnProperty("maxPlayers")&&t.uint32(8).uint32(e.maxPlayers),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.ServerFull;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.maxPlayers=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.maxPlayers&&e.hasOwnProperty("maxPlayers")&&!c.isInteger(e.maxPlayers)?"maxPlayers: integer expected":null},e.fromObject=function(e){if(e instanceof l.ServerFull)return e;var t=new l.ServerFull;return null!=e.maxPlayers&&(t.maxPlayers=e.maxPlayers>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.maxPlayers=0),null!=e.maxPlayers&&e.hasOwnProperty("maxPlayers")&&(r.maxPlayers=e.maxPlayers),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.WrongVersion=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.majorVersion=0,e.prototype.minorVersion=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.majorVersion&&e.hasOwnProperty("majorVersion")&&t.uint32(8).uint32(e.majorVersion),null!=e.minorVersion&&e.hasOwnProperty("minorVersion")&&t.uint32(16).uint32(e.minorVersion),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.WrongVersion;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.majorVersion=e.uint32();break;case 2:n.minorVersion=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.majorVersion&&e.hasOwnProperty("majorVersion")&&!c.isInteger(e.majorVersion)?"majorVersion: integer expected":null!=e.minorVersion&&e.hasOwnProperty("minorVersion")&&!c.isInteger(e.minorVersion)?"minorVersion: integer expected":null},e.fromObject=function(e){if(e instanceof l.WrongVersion)return e;var t=new l.WrongVersion;return null!=e.majorVersion&&(t.majorVersion=e.majorVersion>>>0),null!=e.minorVersion&&(t.minorVersion=e.minorVersion>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.majorVersion=0,r.minorVersion=0),null!=e.majorVersion&&e.hasOwnProperty("majorVersion")&&(r.majorVersion=e.majorVersion),null!=e.minorVersion&&e.hasOwnProperty("minorVersion")&&(r.minorVersion=e.minorVersion),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.PlayerData=function(){function e(e){if(this.playerBytes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataLength=0,e.prototype.playerBytes=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.dataLength&&e.hasOwnProperty("dataLength")&&t.uint32(8).uint32(e.dataLength),null!=e.playerBytes&&e.playerBytes.length)for(var r=0;r<e.playerBytes.length;++r)l.PlayerBytes.encode(e.playerBytes[r],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.PlayerData;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.dataLength=e.uint32();break;case 2:n.playerBytes&&n.playerBytes.length||(n.playerBytes=[]),n.playerBytes.push(l.PlayerBytes.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataLength&&e.hasOwnProperty("dataLength")&&!c.isInteger(e.dataLength))return"dataLength: integer expected";if(null!=e.playerBytes&&e.hasOwnProperty("playerBytes")){if(!Array.isArray(e.playerBytes))return"playerBytes: array expected";for(var t=0;t<e.playerBytes.length;++t){var r=l.PlayerBytes.verify(e.playerBytes[t]);if(r)return"playerBytes."+r}}return null},e.fromObject=function(e){if(e instanceof l.PlayerData)return e;var t=new l.PlayerData;if(null!=e.dataLength&&(t.dataLength=e.dataLength>>>0),e.playerBytes){if(!Array.isArray(e.playerBytes))throw TypeError(".PlayerData.playerBytes: array expected");t.playerBytes=[];for(var r=0;r<e.playerBytes.length;++r){if("object"!=typeof e.playerBytes[r])throw TypeError(".PlayerData.playerBytes: object expected");t.playerBytes[r]=l.PlayerBytes.fromObject(e.playerBytes[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.playerBytes=[]),t.defaults&&(r.dataLength=0),null!=e.dataLength&&e.hasOwnProperty("dataLength")&&(r.dataLength=e.dataLength),e.playerBytes&&e.playerBytes.length){r.playerBytes=[];for(var n=0;n<e.playerBytes.length;++n)r.playerBytes[n]=l.PlayerBytes.toObject(e.playerBytes[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.PlayerBytes=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.playerId=0,e.prototype.playerData=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.playerId&&e.hasOwnProperty("playerId")&&t.uint32(8).uint32(e.playerId),null!=e.playerData&&e.hasOwnProperty("playerData")&&t.uint32(18).bytes(e.playerData),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.PlayerBytes;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.playerId=e.uint32();break;case 2:n.playerData=e.bytes();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.playerId&&e.hasOwnProperty("playerId")&&!c.isInteger(e.playerId)?"playerId: integer expected":null!=e.playerData&&e.hasOwnProperty("playerData")&&!(e.playerData&&"number"==typeof e.playerData.length||c.isString(e.playerData))?"playerData: buffer expected":null},e.fromObject=function(e){if(e instanceof l.PlayerBytes)return e;var t=new l.PlayerBytes;return null!=e.playerId&&(t.playerId=e.playerId>>>0),null!=e.playerData&&("string"==typeof e.playerData?c.base64.decode(e.playerData,t.playerData=c.newBuffer(c.base64.length(e.playerData)),0):e.playerData.length&&(t.playerData=e.playerData)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.playerId=0,t.bytes===String?r.playerData="":(r.playerData=[],t.bytes!==Array&&(r.playerData=c.newBuffer(r.playerData)))),null!=e.playerId&&e.hasOwnProperty("playerId")&&(r.playerId=e.playerId),null!=e.playerData&&e.hasOwnProperty("playerData")&&(r.playerData=t.bytes===String?c.base64.encode(e.playerData,0,e.playerData.length):t.bytes===Array?Array.prototype.slice.call(e.playerData):e.playerData),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.Meta=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.length=0,e.prototype.address=0,e.prototype.data=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.length&&e.hasOwnProperty("length")&&t.uint32(8).uint32(e.length),null!=e.address&&e.hasOwnProperty("address")&&t.uint32(16).uint32(e.address),null!=e.data&&e.hasOwnProperty("data")&&t.uint32(26).bytes(e.data),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.Meta;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.length=e.uint32();break;case 2:n.address=e.uint32();break;case 3:n.data=e.bytes();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.length&&e.hasOwnProperty("length")&&!c.isInteger(e.length)?"length: integer expected":null!=e.address&&e.hasOwnProperty("address")&&!c.isInteger(e.address)?"address: integer expected":null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||c.isString(e.data))?"data: buffer expected":null},e.fromObject=function(e){if(e instanceof l.Meta)return e;var t=new l.Meta;return null!=e.length&&(t.length=e.length>>>0),null!=e.address&&(t.address=e.address>>>0),null!=e.data&&("string"==typeof e.data?c.base64.decode(e.data,t.data=c.newBuffer(c.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.length=0,r.address=0,t.bytes===String?r.data="":(r.data=[],t.bytes!==Array&&(r.data=c.newBuffer(r.data)))),null!=e.length&&e.hasOwnProperty("length")&&(r.length=e.length),null!=e.address&&e.hasOwnProperty("address")&&(r.address=e.address),null!=e.data&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?c.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.MetaData=function(){function e(e){if(this.metaData=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.metaData=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.metaData&&e.metaData.length)for(var r=0;r<e.metaData.length;++r)l.Meta.encode(e.metaData[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.MetaData;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.metaData&&n.metaData.length||(n.metaData=[]),n.metaData.push(l.Meta.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.metaData&&e.hasOwnProperty("metaData")){if(!Array.isArray(e.metaData))return"metaData: array expected";for(var t=0;t<e.metaData.length;++t){var r=l.Meta.verify(e.metaData[t]);if(r)return"metaData."+r}}return null},e.fromObject=function(e){if(e instanceof l.MetaData)return e;var t=new l.MetaData;if(e.metaData){if(!Array.isArray(e.metaData))throw TypeError(".MetaData.metaData: array expected");t.metaData=[];for(var r=0;r<e.metaData.length;++r){if("object"!=typeof e.metaData[r])throw TypeError(".MetaData.metaData: object expected");t.metaData[r]=l.Meta.fromObject(e.metaData[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.metaData=[]),e.metaData&&e.metaData.length){r.metaData=[];for(var n=0;n<e.metaData.length;++n)r.metaData[n]=l.Meta.toObject(e.metaData[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.Chat=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.chatType=0,e.prototype.senderId=0,e.prototype.message="",e.prototype.global=null,e.prototype.private=null,e.prototype.command=null,Object.defineProperty(e.prototype,"messageType",{get:c.oneOfGetter(t=["global","private","command"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.chatType&&e.hasOwnProperty("chatType")&&t.uint32(8).int32(e.chatType),null!=e.senderId&&e.hasOwnProperty("senderId")&&t.uint32(16).uint32(e.senderId),null!=e.message&&e.hasOwnProperty("message")&&t.uint32(26).string(e.message),null!=e.global&&e.hasOwnProperty("global")&&l.ChatGlobal.encode(e.global,t.uint32(34).fork()).ldelim(),null!=e.private&&e.hasOwnProperty("private")&&l.ChatPrivate.encode(e.private,t.uint32(42).fork()).ldelim(),null!=e.command&&e.hasOwnProperty("command")&&l.ChatCommand.encode(e.command,t.uint32(2042).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.Chat;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.chatType=e.int32();break;case 2:n.senderId=e.uint32();break;case 3:n.message=e.string();break;case 4:n.global=l.ChatGlobal.decode(e,e.uint32());break;case 5:n.private=l.ChatPrivate.decode(e,e.uint32());break;case 255:n.command=l.ChatCommand.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.chatType&&e.hasOwnProperty("chatType"))switch(e.chatType){default:return"chatType: enum value expected";case 0:case 1:case 255:}if(null!=e.senderId&&e.hasOwnProperty("senderId")&&!c.isInteger(e.senderId))return"senderId: integer expected";if(null!=e.message&&e.hasOwnProperty("message")&&!c.isString(e.message))return"message: string expected";if(null!=e.global&&e.hasOwnProperty("global")&&(t.messageType=1,r=l.ChatGlobal.verify(e.global)))return"global."+r;if(null!=e.private&&e.hasOwnProperty("private")){if(1===t.messageType)return"messageType: multiple values";if(t.messageType=1,r=l.ChatPrivate.verify(e.private))return"private."+r}if(null!=e.command&&e.hasOwnProperty("command")){if(1===t.messageType)return"messageType: multiple values";var r;if(t.messageType=1,r=l.ChatCommand.verify(e.command))return"command."+r}return null},e.fromObject=function(e){if(e instanceof l.Chat)return e;var t=new l.Chat;switch(e.chatType){case"GLOBAL":case 0:t.chatType=0;break;case"PRIVATE":case 1:t.chatType=1;break;case"COMMAND":case 255:t.chatType=255}if(null!=e.senderId&&(t.senderId=e.senderId>>>0),null!=e.message&&(t.message=String(e.message)),null!=e.global){if("object"!=typeof e.global)throw TypeError(".Chat.global: object expected");t.global=l.ChatGlobal.fromObject(e.global)}if(null!=e.private){if("object"!=typeof e.private)throw TypeError(".Chat.private: object expected");t.private=l.ChatPrivate.fromObject(e.private)}if(null!=e.command){if("object"!=typeof e.command)throw TypeError(".Chat.command: object expected");t.command=l.ChatCommand.fromObject(e.command)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.chatType=t.enums===String?"GLOBAL":0,r.senderId=0,r.message=""),null!=e.chatType&&e.hasOwnProperty("chatType")&&(r.chatType=t.enums===String?l.Chat.ChatType[e.chatType]:e.chatType),null!=e.senderId&&e.hasOwnProperty("senderId")&&(r.senderId=e.senderId),null!=e.message&&e.hasOwnProperty("message")&&(r.message=e.message),null!=e.global&&e.hasOwnProperty("global")&&(r.global=l.ChatGlobal.toObject(e.global,t),t.oneofs&&(r.messageType="global")),null!=e.private&&e.hasOwnProperty("private")&&(r.private=l.ChatPrivate.toObject(e.private,t),t.oneofs&&(r.messageType="private")),null!=e.command&&e.hasOwnProperty("command")&&(r.command=l.ChatCommand.toObject(e.command,t),t.oneofs&&(r.messageType="command")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.ChatType=function(){var e={},t=Object.create(e);return t[e[0]="GLOBAL"]=0,t[e[1]="PRIVATE"]=1,t[e[255]="COMMAND"]=255,t}(),e}(),l.ChatGlobal=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.ChatGlobal;e.pos<r;){var o=e.uint32();e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof l.ChatGlobal?e:new l.ChatGlobal},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.ChatPrivate=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.receiverId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.receiverId&&e.hasOwnProperty("receiverId")&&t.uint32(8).uint32(e.receiverId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.ChatPrivate;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.receiverId=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.receiverId&&e.hasOwnProperty("receiverId")&&!c.isInteger(e.receiverId)?"receiverId: integer expected":null},e.fromObject=function(e){if(e instanceof l.ChatPrivate)return e;var t=new l.ChatPrivate;return null!=e.receiverId&&(t.receiverId=e.receiverId>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.receiverId=0),null!=e.receiverId&&e.hasOwnProperty("receiverId")&&(r.receiverId=e.receiverId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.ChatCommand=function(){function e(e){if(this.arguments=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.arguments=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.arguments&&e.arguments.length)for(var r=0;r<e.arguments.length;++r)t.uint32(10).string(e.arguments[r]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.ChatCommand;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.arguments&&n.arguments.length||(n.arguments=[]),n.arguments.push(e.string());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.arguments&&e.hasOwnProperty("arguments")){if(!Array.isArray(e.arguments))return"arguments: array expected";for(var t=0;t<e.arguments.length;++t)if(!c.isString(e.arguments[t]))return"arguments: string[] expected"}return null},e.fromObject=function(e){if(e instanceof l.ChatCommand)return e;var t=new l.ChatCommand;if(e.arguments){if(!Array.isArray(e.arguments))throw TypeError(".ChatCommand.arguments: array expected");t.arguments=[];for(var r=0;r<e.arguments.length;++r)t.arguments[r]=String(e.arguments[r])}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.arguments=[]),e.arguments&&e.arguments.length){r.arguments=[];for(var n=0;n<e.arguments.length;++n)r.arguments[n]=e.arguments[n]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),l.Compression=function(){var e={},t=Object.create(e);return t[e[0]="NONE"]=0,t[e[1]="ZSTD"]=1,t[e[2]="GZIP"]=2,t}(),e.exports=l},function(e,t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof global&&global)||Function("return this")()},function(e,t){e.exports=require("stream")},function(e,t,r){var n=r(3),o=r(60),s=r(8),i=r(61),a=r(65),c=r(117),l=o("wks"),u=n.Symbol,h=c?u:u&&u.withoutSetter||i;e.exports=function(e){return s(l,e)||(a&&s(u,e)?l[e]=u[e]:l[e]=h("Symbol."+e)),l[e]}},function(e,t){e.exports=require("zlib")},function(e,t,r){var n=r(10);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(15),o=r(16),s=r(41);e.exports=n?function(e,t,r){return o.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t){e.exports=require("events")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t,r){var n=r(9);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,r){var n=r(15),o=r(58),s=r(7),i=r(57),a=Object.defineProperty;t.f=n?a:function(e,t,r){if(s(e),t=i(t,!0),s(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";var n=t;function o(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e}function s(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r(179),n.base64=r(180),n.EventEmitter=r(181),n.float=r(182),n.inquire=r(183),n.utf8=r(184),n.pool=r(185),n.LongBits=r(186),n.isNode=Boolean("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=o,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=s,n.ProtocolError=s("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("url")},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=require("crypto")},function(e,t,r){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(e,t,r){var n=r(174),o=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function i(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=i),s(o,i),i.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},i.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){var n=r(3),o=r(11),s=r(8),i=r(43),a=r(44),c=r(45),l=c.get,u=c.enforce,h=String(String).split("String");(e.exports=function(e,t,r,a){var c=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof t||s(r,"name")||o(r,"name",t),u(r).source=h.join("string"==typeof t?t:"")),e!==n?(c?!d&&e[t]&&(l=!0):delete e[t],l?e[t]=r:o(e,t,r)):l?e[t]=r:i(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||a(this)}))},function(e,t,r){var n=r(110),o=r(3),s=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?s(n[e])||s(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},function(e,t){e.exports={}},function(e,t,r){var n=r(3),o=r(40).f,s=r(11),i=r(24),a=r(43),c=r(62),l=r(64);e.exports=function(e,t){var r,u,h,d,p,f=e.target,y=e.global,m=e.stat;if(r=y?n:m?n[f]||a(f,{}):(n[f]||{}).prototype)for(u in t){if(d=t[u],h=e.noTargetGet?(p=o(r,u))&&p.value:r[u],!l(y?u:f+(m?".":"#")+u,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;c(d,h)}(e.sham||h&&h.sham)&&s(d,"sham",!0),i(r,u,d,e)}}},function(e,t,r){var n=r(107),o=r(29);e.exports=function(e){return n(o(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t){e.exports=!1},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){"use strict";const n=r(71),o=r(6),s=r(33),{kStatusCode:i,NOOP:a}=r(22),c=Buffer.from([0,0,255,255]),l=Buffer.from([0]),u=Symbol("permessage-deflate"),h=Symbol("total-length"),d=Symbol("callback"),p=Symbol("buffers"),f=Symbol("error");let y;function m(e){this[p].push(e),this[h]+=e.length}function g(e){this[h]+=e.length,this[u]._maxPayload<1||this[h]<=this[u]._maxPayload?this[p].push(e):(this[f]=new RangeError("Max payload size exceeded"),this[f][i]=1009,this.removeListener("data",g),this.reset())}function _(e){this[u]._inflate=null,e[i]=1007,this[d](e)}e.exports=class{constructor(e,t,r){if(this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!y){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;y=new n({concurrency:e})}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate&&(this._deflate[d]&&this._deflate[d](),this._deflate.close(),this._deflate=null)}acceptAsServer(e){const t=this._options,r=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:!0!==r.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete r.client_max_window_bits,r}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==r)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}e[t]=r})}),e}decompress(e,t,r){y.push(n=>{this._decompress(e,t,(e,t)=>{n(),r(e,t)})})}compress(e,t,r){y.push(n=>{this._compress(e,t,(e,t)=>{n(),(e||t)&&r(e,t)})})}_decompress(e,t,r){const n=this._isServer?"client":"server";if(!this._inflate){const e=n+"_max_window_bits",t="number"!=typeof this.params[e]?o.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=o.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[h]=0,this._inflate[p]=[],this._inflate.on("error",_),this._inflate.on("data",g)}this._inflate[d]=r,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{const e=this._inflate[f];if(e)return this._inflate.close(),this._inflate=null,void r(e);const o=s.concat(this._inflate[p],this._inflate[h]);t&&this.params[n+"_no_context_takeover"]?(this._inflate.close(),this._inflate=null):(this._inflate[h]=0,this._inflate[p]=[]),r(null,o)})}_compress(e,t,r){if(!e||0===e.length)return void process.nextTick(r,null,l);const n=this._isServer?"server":"client";if(!this._deflate){const e=n+"_max_window_bits",t="number"!=typeof this.params[e]?o.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=o.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[h]=0,this._deflate[p]=[],this._deflate.on("error",a),this._deflate.on("data",m)}this._deflate[d]=r,this._deflate.write(e),this._deflate.flush(o.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=s.concat(this._deflate[p],this._deflate[h]);t&&(e=e.slice(0,e.length-4)),this._deflate[d]=null,t&&this.params[n+"_no_context_takeover"]?(this._deflate.close(),this._deflate=null):(this._deflate[h]=0,this._deflate[p]=[]),r(null,e)})}}},function(e,t,r){"use strict";const{EMPTY_BUFFER:n}=r(22);function o(e,t){if(0===e.length)return n;if(1===e.length)return e[0];const r=Buffer.allocUnsafe(t);let o=0;for(let t=0;t<e.length;t++){const n=e[t];n.copy(r,o),o+=n.length}return r}function s(e,t,r,n,o){for(let s=0;s<o;s++)r[n+s]=e[s]^t[3&s]}function i(e,t){const r=e.length;for(let n=0;n<r;n++)e[n]^=t[3&n]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){if(c.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=function(e){const t=Buffer.from(e.buffer);if(e.byteLength!==e.buffer.byteLength)return t.slice(e.byteOffset,e.byteOffset+e.byteLength);return t}(e):(t=Buffer.from(e),c.readOnly=!1),t}try{const t=r(72),n=t.BufferUtil||t;e.exports={concat:o,mask(e,t,r,o,i){i<48?s(e,t,r,o,i):n.mask(e,t,r,o,i)},toArrayBuffer:a,toBuffer:c,unmask(e,t){e.length<32?i(e,t):n.unmask(e,t)}}}catch(t){e.exports={concat:o,mask:s,toArrayBuffer:a,toBuffer:c,unmask:i}}},function(e,t,r){"use strict";var n=r(28),o=r(134),s=r(26),i=r(45),a=r(137),c=i.set,l=i.getterFor("Array Iterator");e.exports=a(Array,"Array",(function(e,t){c(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),s.Arguments=s.Array,o("keys"),o("values"),o("entries")},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,r){"use strict";const n=r(23),o=r(71),s=r(6),i=r(54),a=n.Buffer,c=a.from([0,0,255,255]),l=a.from([0]),u=Symbol("write-in-progress"),h=Symbol("pending-close"),d=Symbol("total-length"),p=Symbol("callback"),f=Symbol("buffers"),y=Symbol("error"),m=Symbol("owner");let g;function _(e){this[f].push(e),this[d]+=e.length}function v(e){this[d]+=e.length,this[m]._maxPayload<1||this[d]<=this[m]._maxPayload?this[f].push(e):(this[y]=new Error("max payload size exceeded"),this[y].closeCode=1009,this.removeListener("data",v),this.reset())}function b(e){this[m]._inflate=null,this[p](e)}e.exports=class{constructor(e,t,r){if(this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!g){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;g=new o({concurrency:e})}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){var t;return e=this.normalizeParams(e),t=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params=t,t}cleanup(){this._inflate&&(this._inflate[u]?this._inflate[h]=!0:(this._inflate.close(),this._inflate=null)),this._deflate&&(this._deflate[u]?this._deflate[h]=!0:(this._deflate.close(),this._deflate=null))}acceptAsServer(e){const t={};if(!e.some(e=>{if(!(!1===this._options.serverNoContextTakeover&&e.server_no_context_takeover||!1===this._options.serverMaxWindowBits&&e.server_max_window_bits||"number"==typeof this._options.serverMaxWindowBits&&"number"==typeof e.server_max_window_bits&&this._options.serverMaxWindowBits>e.server_max_window_bits||"number"==typeof this._options.clientMaxWindowBits&&!e.client_max_window_bits))return(this._options.serverNoContextTakeover||e.server_no_context_takeover)&&(t.server_no_context_takeover=!0),(this._options.clientNoContextTakeover||!1!==this._options.clientNoContextTakeover&&e.client_no_context_takeover)&&(t.client_no_context_takeover=!0),"number"==typeof this._options.serverMaxWindowBits?t.server_max_window_bits=this._options.serverMaxWindowBits:"number"==typeof e.server_max_window_bits&&(t.server_max_window_bits=e.server_max_window_bits),"number"==typeof this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:!1!==this._options.clientMaxWindowBits&&"number"==typeof e.client_max_window_bits&&(t.client_max_window_bits=e.client_max_window_bits),!0}))throw new Error("Doesn't support the offered configuration");return t}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Invalid value for "client_no_context_takeover"');if("number"==typeof this._options.clientMaxWindowBits&&(!t.client_max_window_bits||t.client_max_window_bits>this._options.clientMaxWindowBits)||!1===this._options.clientMaxWindowBits&&t.client_max_window_bits)throw new Error('Invalid value for "client_max_window_bits"');return t}normalizeParams(e){return e.map(e=>(Object.keys(e).forEach(t=>{var r=e[t];if(r.length>1)throw new Error("Multiple extension parameters for "+t);switch(r=r[0],t){case"server_no_context_takeover":case"client_no_context_takeover":if(!0!==r)throw new Error(`invalid extension parameter value for ${t} (${r})`);e[t]=!0;break;case"server_max_window_bits":case"client_max_window_bits":if("string"==typeof r&&(r=parseInt(r,10),Number.isNaN(r)||r<s.Z_MIN_WINDOWBITS||r>s.Z_MAX_WINDOWBITS))throw new Error(`invalid extension parameter value for ${t} (${r})`);if(!this._isServer&&!0===r)throw new Error("Missing extension parameter value for "+t);e[t]=r;break;default:throw new Error(`Not defined extension parameter (${t})`)}}),e))}decompress(e,t,r){g.push(n=>{this._decompress(e,t,(e,t)=>{n(),r(e,t)})})}compress(e,t,r){g.push(n=>{this._compress(e,t,(e,t)=>{n(),r(e,t)})})}_decompress(e,t,r){const n=this._isServer?"client":"server";if(!this._inflate){const e=n+"_max_window_bits",t="number"!=typeof this.params[e]?s.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=s.createInflateRaw({windowBits:t}),this._inflate[d]=0,this._inflate[f]=[],this._inflate[m]=this,this._inflate.on("error",b),this._inflate.on("data",v)}this._inflate[p]=r,this._inflate[u]=!0,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{const e=this._inflate[y];if(e)return this._inflate.close(),this._inflate=null,void r(e);const o=i.concat(this._inflate[f],this._inflate[d]);t&&this.params[n+"_no_context_takeover"]||this._inflate[h]?(this._inflate.close(),this._inflate=null):(this._inflate[u]=!1,this._inflate[d]=0,this._inflate[f]=[]),r(null,o)})}_compress(e,t,r){if(!e||0===e.length)return void process.nextTick(r,null,l);const n=this._isServer?"server":"client";if(!this._deflate){const e=n+"_max_window_bits",t="number"!=typeof this.params[e]?s.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=s.createDeflateRaw({memLevel:this._options.memLevel,level:this._options.level,flush:s.Z_SYNC_FLUSH,windowBits:t}),this._deflate[d]=0,this._deflate[f]=[],this._deflate.on("data",_)}this._deflate[u]=!0,this._deflate.write(e),this._deflate.flush(s.Z_SYNC_FLUSH,()=>{var e=i.concat(this._deflate[f],this._deflate[d]);t&&(e=e.slice(0,e.length-4)),t&&this.params[n+"_no_context_takeover"]||this._deflate[h]?(this._deflate.close(),this._deflate=null):(this._deflate[u]=!1,this._deflate[d]=0,this._deflate[f]=[]),r(null,e)})}}},function(e,t,r){"use strict";const n=r(23).Buffer;t.BINARY_TYPES=["nodebuffer","arraybuffer","fragments"],t.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",t.EMPTY_BUFFER=n.alloc(0),t.NOOP=()=>{}},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("util")},function(e,t,r){var n=r(15),o=r(106),s=r(41),i=r(28),a=r(57),c=r(8),l=r(58),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=i(e),t=a(t,!0),l)try{return u(e,t)}catch(e){}if(c(e,t))return s(!o.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(3),o=r(10),s=n.document,i=o(s)&&o(s.createElement);e.exports=function(e){return i?s.createElement(e):{}}},function(e,t,r){var n=r(3),o=r(11);e.exports=function(e,t){try{o(n,e,t)}catch(r){n[e]=t}return t}},function(e,t,r){var n=r(59),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},function(e,t,r){var n,o,s,i=r(108),a=r(3),c=r(10),l=r(11),u=r(8),h=r(46),d=r(47),p=a.WeakMap;if(i){var f=new p,y=f.get,m=f.has,g=f.set;n=function(e,t){return g.call(f,e,t),t},o=function(e){return y.call(f,e)||{}},s=function(e){return m.call(f,e)}}else{var _=h("state");d[_]=!0,n=function(e,t){return l(e,_,t),t},o=function(e){return u(e,_)?e[_]:{}},s=function(e){return u(e,_)}}e.exports={set:n,get:o,has:s,enforce:function(e){return s(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},function(e,t,r){var n=r(60),o=r(61),s=n("keys");e.exports=function(e){return s[e]||(s[e]=o(e))}},function(e,t){e.exports={}},function(e,t,r){var n=r(31),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,r){"use strict";var n,o,s=r(115),i=r(116),a=RegExp.prototype.exec,c=String.prototype.replace,l=a,u=(n=/a/,o=/b*/g,a.call(n,"a"),a.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),h=i.UNSUPPORTED_Y||i.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(u||d||h)&&(l=function(e){var t,r,n,o,i=this,l=h&&i.sticky,p=s.call(i),f=i.source,y=0,m=e;return l&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),m=String(e).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(f="(?: "+f+")",m=" "+m,y++),r=new RegExp("^(?:"+f+")",p)),d&&(r=new RegExp("^"+f+"$(?!\\s)",p)),u&&(t=i.lastIndex),n=a.call(l?r:i,m),l?n?(n.input=n.input.slice(y),n[0]=n[0].slice(y),n.index=i.lastIndex,i.lastIndex+=n[0].length):i.lastIndex=0:u&&n&&(i.lastIndex=i.global?n.index+n[0].length:t),d&&n&&n.length>1&&c.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),e.exports=l},function(e,t,r){"use strict";let n;try{const{app:e}=r(1);n=e.setAsDefaultProtocolClient.bind(e)}catch(e){try{n=r(!function(){var e=new Error("Cannot find module 'register-scheme'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}}"function"!=typeof n&&(n=()=>!1);e.exports={pid:function(){return"undefined"!=typeof process?process.pid:null},register:n,uuid:()=>{let e="";for(let t=0;t<32;t+=1){let r;if(8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),12===t)r=4;else{const e=16*Math.random()|0;r=16===t?3&e|0:e}e+=r.toString(16)}return e}}},function(e,t,r){var n=r(16).f,o=r(8),s=r(5)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},function(e,t,r){var n=r(3),o=r(159),s=r(34),i=r(11),a=r(5),c=a("iterator"),l=a("toStringTag"),u=s.values;for(var h in o){var d=n[h],p=d&&d.prototype;if(p){if(p[c]!==u)try{i(p,c,u)}catch(e){p[c]=u}if(p[l]||i(p,l,h),o[h])for(var f in s)if(p[f]!==s[f])try{i(p,f,s[f])}catch(e){p[f]=s[f]}}}},function(e,t,r){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */const n=r(23).Buffer,o=(e,t)=>{const r=n.allocUnsafe(t);for(var o=0,s=0;s<e.length;s++){const t=e[s];t.copy(r,o),o+=t.length}return r};try{const t=r(72);e.exports=Object.assign({concat:o},t.BufferUtil||t)}catch(t){const r=(e,t,r,n,o)=>{for(var s=0;s<o;s++)r[n+s]=e[s]^t[3&s]},n=(e,t)=>{const r=e.length;for(var n=0;n<r;n++)e[n]^=t[3&n]};e.exports={concat:o,mask:r,unmask:n}}},function(e,t,r){var n,o,s,i,a,c;a=r(4),c=r(39),({StringDecoder:o}=r(160)),e.exports=function(){var e,t,r,o,s,a,c;if(3===arguments.length){if(o=arguments[0],a=arguments[1],"function"!=typeof(e=arguments[2]))throw Error("Invalid callback argument: "+JSON.stringify(e));if("string"!=typeof o&&!Buffer.isBuffer(arguments[0]))return e(Error("Invalid data argument: "+JSON.stringify(o)))}else if(2===arguments.length){if("string"==typeof arguments[0]||Buffer.isBuffer(arguments[0])?o=arguments[0]:i(arguments[0])?a=arguments[0]:s="Invalid first argument: "+JSON.stringify(arguments[0]),"function"==typeof arguments[1]?e=arguments[1]:i(arguments[1])?a?s="Invalid arguments: got options twice as first and second arguments":a=arguments[1]:s="Invalid first argument: "+JSON.stringify(arguments[1]),s){if(e)return e(Error(s));throw Error(s)}}else 1===arguments.length&&("function"==typeof arguments[0]?e=arguments[0]:a=arguments[0]);return null==a&&(a={}),c=new n(a),null!=o&&process.nextTick((function(){return c.write(o),c.end()})),e&&(t=!1,r=a.objname?{}:[],c.on("readable",(function(){var e,t;for(t=[];e=c.read();)a.objname?t.push(r[e[0]]=e[1]):t.push(r.push(e));return t})),c.on("error",(function(r){return t=!0,e(r)})),c.on("end",(function(){if(!t)return e(null,r)}))),c},s={rowDelimiter:null,delimiter:",",quote:'"',escape:'"',columns:null,comment:"",objname:!1,trim:!1,ltrim:!1,rtrim:!1,cast:!1,cast_date:!1,relax:!1,relax_column_count:!1,skip_empty_lines:!1,max_limit_on_data_read:128e3,skip_lines_with_empty_values:!1,skip_lines_with_error:!1},n=function(e={}){var t,r,n;for(t in e.objectMode=!0,a.Transform.call(this,e),r={},e)n=e[t],r[t]=n;for(t in s)n=s[t],void 0===r[t]&&(r[t]=s[t]);return this.options=r,"string"==typeof r.rowDelimiter&&(r.rowDelimiter=[r.rowDelimiter]),void 0===r.quote||r.quote||(r.quote=""),null!=r.auto_parse&&(r.cast=r.auto_parse),null!=r.auto_parse_date&&(r.cast_date=r.auto_parse_date),!0===r.cast_date&&(r.cast_date=function(e){var t;return t=Date.parse(e),isNaN(t)||(e=new Date(t)),e}),this.lines=0,this.count=0,this.skipped_line_count=0,this.empty_line_count=0,this.is_int=/^(\-|\+)?([1-9]+[0-9]*)$/,this.is_float=function(e){return e-parseFloat(e)+1>=0},this._={decoder:new o,quoting:!1,commenting:!1,field:null,nextChar:null,closingQuote:0,line:[],chunks:[],rawBuf:"",buf:"",rowDelimiterMaxLength:this.options.rowDelimiter?Math.max(...this.options.rowDelimiter.map((function(e){return e.length}))):void 0,quotedRowDelimiterMaxLength:this.options.rowDelimiter?r.quote.length+Math.max(...this.options.rowDelimiter.map((function(e){return e.length}))):void 0,lineHasError:!1,isEnded:!1},this},c.inherits(n,a.Transform),e.exports.Parser=n,n.prototype._transform=function(e,t,r){return setImmediate(()=>{var t;return e instanceof Buffer&&(e=this._.decoder.write(e)),(t=this.__write(e,!1))?this.emit("error",t):r()})},n.prototype._flush=function(e){return e(this.__flush())},n.prototype.__flush=function(){return this.__write(this._.decoder.end(),!0)||(this._.quoting?this.error("Quoted field not terminated at line "+(this.lines+1)):this._.line.length>0?this.__push(this._.line):void 0)},n.prototype.__push=function(e){var t,r,n,o,s,i,a,c,l,u;if(!(this._.isEnded||this.options.skip_lines_with_empty_values&&""===e.join("").trim()))if(u=null,!0!==this.options.columns){if("function"==typeof this.options.columns)return t=function(e,t){try{return[null,e.call(null,t)]}catch(e){return[e]}},[o,n]=t(this.options.columns,e),o||void(this.options.columns=n);if(!this._.line_length&&e.length>0&&(this._.line_length=this.options.columns?this.options.columns.length:e.length),1===e.length&&""===e[0])this.empty_line_count++;else if(e.length!==this._.line_length){if(!this.options.relax_column_count)return o=null!=this.options.columns?this.error(`Number of columns on line ${this.lines} does not match header`):this.error("Number of columns is inconsistent on line "+this.lines);this.count++,this.skipped_line_count++}else this.count++;if(null!=this.options.columns){for(l={},i=a=0,c=e.length;a<c;i=++a)if(s=e[i],null!=(r=this.options.columns[i])&&!1!==r){if("string"!=typeof r)throw Error("Invalid column name "+JSON.stringify(r));l[r]=s}u=this.options.objname?[l[this.options.objname],l]:l}else u=e;if(!(this.count<this.options.from))return this.options.raw?(this.push({raw:this._.rawBuf,row:u}),this._.rawBuf=""):this.push(u),this.listenerCount("record")&&this.emit("record",u),this.count>=this.options.to?(this._.isEnded=!0,this.push(null)):null}else this.options.columns=e},n.prototype.__write=function(e,t){var r,n,o,s,i,a,c,l,u,h,d,p,f,y,m,g,_,v,b,w,O,E,C,T,S,I,P,x,D,k,A;for(g=e=>"function"==typeof this.is_int?this.is_int(e):this.is_int.test(e),m=e=>"function"==typeof this.is_float?this.is_float(e):this.is_float.test(e),o=(e,t={})=>this.options.cast?(null==t.quoting&&(t.quoting=!!this._.closingQuote),null==t.lines&&(t.lines=this.lines),null==t.count&&(t.count=this.count),null==t.index&&(t.index=this._.line.length),null==t.header&&(t.header=!0===this.options.columns),null==t.column&&(t.column=Array.isArray(this.options.columns)?this.options.columns[t.index]:t.index),"function"==typeof this.options.cast?this.options.cast(e,t):(g(e)?e=parseInt(e):m(e)?e=parseFloat(e):this.options.cast_date&&(e=this.options.cast_date(e,t)),e)):e,v=this.options.trim||this.options.ltrim,k=this.options.trim||this.options.rtrim,a=this.options.escape===this.options.quote,_=(e=this._.buf+e).length,c=0,0===this.lines&&65279===e.charCodeAt(0)&&c++;c<_&&(t||(w=_-c,x=e.substr(c,w),!(!this.options.rowDelimiter&&c+3>_||!this._.commenting&&w<this.options.comment.length||this.options.rowDelimiter&&w<this._.rowDelimiterMaxLength||this._.quoting&&this.options.rowDelimiter&&w<this._.quotedRowDelimiterMaxLength||w<=this.options.delimiter.length&&this.options.delimiter.substr(0,w)===x||w<=this.options.escape.length&&this.options.escape.substr(0,w)===x)));)if(s=this._.nextChar?this._.nextChar:e.charAt(c),this._.nextChar=_>c+1?e.charAt(c+1):null,this.options.raw&&(this._.rawBuf+=s),null==this.options.rowDelimiter&&(b=c,D=null,this._.quoting||"\n"!==s&&"\r"!==s?!this._.quoting||s!==this.options.quote||"\n"!==(O=this._.nextChar)&&"\r"!==O||(D=this._.nextChar,b+=2):(D=s,b+=1),D&&("\r"===D&&"\n"===e.charAt(b)&&(D+="\n"),this.options.rowDelimiter=[D],this._.rowDelimiterMaxLength=D.length)),this._.commenting||s!==this.options.escape||(u=this._.nextChar===this.options.escape,p=this._.nextChar===this.options.quote,a&&!this._.field&&!this._.quoting||!u&&!p)){if(!this._.commenting&&s===this.options.quote){if(this._.acceptOnlyEmptyChars&&" "!==s&&"\t"!==s)return this.error("Only trimable characters are accepted after quotes");if(this._.quoting){if(d=k&&(" "===(E=this._.nextChar)||"\t"===E),n=this.options.rowDelimiter&&this.options.rowDelimiter.some((function(t){return e.substr(c+1,t.length)===t})),r=e.substr(c+1,this.options.delimiter.length)===this.options.delimiter,h=this._.nextChar===this.options.comment,null==this._.nextChar||d||n||r||h){if(null!=this._.nextChar&&d){c++,this._.quoting=!1,this._.closingQuote=1,this._.acceptOnlyEmptyChars=!0;continue}c++,this._.quoting=!1,this._.closingQuote=1,t&&c===_&&(this._.line.push(o(this._.field||"")),this._.field=null);continue}if(this.options.relax)this._.quoting=!1,this._.field&&(this._.field=`${this.options.quote}${this._.field}`);else if(i=this.error(`Invalid closing quote at line ${this.lines+1}; found ${JSON.stringify(this._.nextChar)} instead of delimiter ${JSON.stringify(this.options.delimiter)}`))return i}else{if(!this._.field){this._.quoting=!0,c++;continue}if(null!=this._.field&&!this.options.relax&&(i=this.error("Invalid opening quote at line "+(this.lines+1))))return i}}if(((f=this.options.rowDelimiter&&this.options.rowDelimiter.some((function(t){return e.substr(c,t.length)===t})))||t&&c===_-1)&&this.lines++,A=!1,this._.commenting||this._.quoting||!this.options.comment||e.substr(c,this.options.comment.length)!==this.options.comment?this._.commenting&&f&&(A=!0,this._.commenting=!1):this._.commenting=!0,l=e.substr(c,this.options.delimiter.length)===this.options.delimiter,this._.acceptOnlyEmptyChars){if(!l&&!f){if(" "===s||"\t"===s){c++;continue}return this.error("Only trimable characters are accepted after quotes")}this._.acceptOnlyEmptyChars=!1}if(this._.commenting||this._.quoting||!l&&!f)this._.commenting||this._.quoting||" "!==s&&"\t"!==s?(this._.commenting||(null==this._.field&&(this._.field=""),this._.field+=s),c++):(null==this._.field&&(this._.field=""),v&&!this._.field||(this._.field+=s),c++);else{if(f&&(y=this.options.rowDelimiter.filter((function(t){return e.substr(c,t.length)===t}))[0].length),f&&0===this._.line.length&&null==this._.field&&(A||this.options.skip_empty_lines)){c+=y,this._.nextChar=e.charAt(c);continue}if(k&&(this._.closingQuote||(this._.field=null!=(C=this._.field)?C.trimRight():void 0)),this._.line.push(o(this._.field||"")),this._.closingQuote=0,this._.field=null,l&&!f&&(c+=this.options.delimiter.length,this._.nextChar=e.charAt(c),t&&!this._.nextChar&&(f=!0,this._.line.push(""))),f){if(!this._.lineHasError&&(i=this.__push(this._.line)))return i;this._.lineHasError&&(this._.lineHasError=!1),this._.line=[],c+=y,this._.nextChar=e.charAt(c);continue}}if(!this._.commenting&&(null!=(T=this._.field)?T.length:void 0)>this.options.max_limit_on_data_read)return Error("Field exceeds max_limit_on_data_read: maximum value is "+this.options.max_limit_on_data_read);if(!this._.commenting&&(null!=(S=this._.line)?S.length:void 0)>this.options.max_limit_on_data_read)return Error("Row delimiter not found in the file "+JSON.stringify(this.options.rowDelimiter))}else c++,s=this._.nextChar,this._.nextChar=e.charAt(c+1),null==this._.field&&(this._.field=""),this._.field+=s,this.options.raw&&(this._.rawBuf+=s),c++;if(t){if(0===_&&this.lines++,null!=this._.field&&(k&&(this._.closingQuote||(this._.field=null!=(I=this._.field)?I.trimRight():void 0)),this._.line.push(o(this._.field||"")),this._.field=null),(null!=(P=this._.field)?P.length:void 0)>this.options.max_limit_on_data_read)return Error("Delimiter not found in the file "+JSON.stringify(this.options.delimiter));if(this._.line.length>this.options.max_limit_on_data_read)return Error("Row delimiter not found in the file "+JSON.stringify(this.options.rowDelimiter))}return this._.buf=e.substr(c),null},n.prototype.error=function(e){var t;return t=Error(e),this.options.skip_lines_with_error?(this._.lineHasError||(this._.lineHasError=!0,this.emit("skip",t)),null):t},i=function(e){var t;return t=e,"object"==typeof e&&null!==e&&!Array.isArray(e)&&function(){for(;null!==Object.getPrototypeOf(t=Object.getPrototypeOf(t)););return Object.getPrototypeOf(e===t)}()}},function(e,t){e.exports=require("child_process")},function(e,t,r){var n=r(10);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(15),o=r(9),s=r(42);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(3),o=r(43),s=n["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=s},function(e,t,r){var n=r(30),o=r(59);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},function(e,t,r){var n=r(8),o=r(109),s=r(40),i=r(16);e.exports=function(e,t){for(var r=o(t),a=i.f,c=s.f,l=0;l<r.length;l++){var u=r[l];n(e,u)||a(e,u,c(t,u))}}},function(e,t,r){var n=r(8),o=r(28),s=r(112).indexOf,i=r(47);e.exports=function(e,t){var r,a=o(e),c=0,l=[];for(r in a)!n(i,r)&&n(a,r)&&l.push(r);for(;t.length>c;)n(a,r=t[c++])&&(~s(l,r)||l.push(r));return l}},function(e,t,r){var n=r(9),o=/#|\.prototype\./,s=function(e,t){var r=a[i(e)];return r==l||r!=c&&("function"==typeof t?n(t):!!t)},i=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},a=s.data={},c=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},function(e,t,r){var n=r(9);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(e,t,r){var n=r(29);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";r.r(t),r.d(t,"Headers",(function(){return x})),r.d(t,"Request",(function(){return H})),r.d(t,"Response",(function(){return R})),r.d(t,"FetchError",(function(){return d}));var n=r(4),o=r(18),s=r(19),i=r(38),a=r(6);const c=n.Readable,l=Symbol("buffer"),u=Symbol("type");class h{constructor(){this[u]="";const e=arguments[0],t=arguments[1],r=[];let n=0;if(e){const t=e,o=Number(t.length);for(let e=0;e<o;e++){const o=t[e];let s;s=o instanceof Buffer?o:ArrayBuffer.isView(o)?Buffer.from(o.buffer,o.byteOffset,o.byteLength):o instanceof ArrayBuffer?Buffer.from(o):o instanceof h?o[l]:Buffer.from("string"==typeof o?o:String(o)),n+=s.length,r.push(s)}}this[l]=Buffer.concat(r);let o=t&&void 0!==t.type&&String(t.type).toLowerCase();o&&!/[^\u0020-\u007E]/.test(o)&&(this[u]=o)}get size(){return this[l].length}get type(){return this[u]}text(){return Promise.resolve(this[l].toString())}arrayBuffer(){const e=this[l],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new c;return e._read=function(){},e.push(this[l]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],r=arguments[1];let n,o;n=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),o=void 0===r?e:r<0?Math.max(e+r,0):Math.min(r,e);const s=Math.max(o-n,0),i=this[l].slice(n,n+s),a=new h([],{type:arguments[2]});return a[l]=i,a}}function d(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}let p;Object.defineProperties(h.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(h.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="FetchError";try{p=require("encoding").convert}catch(e){}const f=Symbol("Body internals"),y=n.PassThrough;function m(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.size;let s=void 0===o?0:o;var i=r.timeout;let a=void 0===i?0:i;null==e?e=null:_(e)?e=Buffer.from(e.toString()):v(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof n||(e=Buffer.from(String(e)))),this[f]={body:e,disturbed:!1,error:null},this.size=s,this.timeout=a,e instanceof n&&e.on("error",(function(e){const r="AbortError"===e.name?e:new d(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[f].error=r}))}function g(){var e=this;if(this[f].disturbed)return m.Promise.reject(new TypeError("body used already for: "+this.url));if(this[f].disturbed=!0,this[f].error)return m.Promise.reject(this[f].error);let t=this.body;if(null===t)return m.Promise.resolve(Buffer.alloc(0));if(v(t)&&(t=t.stream()),Buffer.isBuffer(t))return m.Promise.resolve(t);if(!(t instanceof n))return m.Promise.resolve(Buffer.alloc(0));let r=[],o=0,s=!1;return new m.Promise((function(n,i){let a;e.timeout&&(a=setTimeout((function(){s=!0,i(new d(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),t.on("error",(function(t){"AbortError"===t.name?(s=!0,i(t)):i(new d(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),t.on("data",(function(t){if(!s&&null!==t){if(e.size&&o+t.length>e.size)return s=!0,void i(new d(`content size at ${e.url} over limit: ${e.size}`,"max-size"));o+=t.length,r.push(t)}})),t.on("end",(function(){if(!s){clearTimeout(a);try{n(Buffer.concat(r,o))}catch(t){i(new d(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}}))}))}function _(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function v(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function b(e){let t,r,o=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof n&&"function"!=typeof o.getBoundary&&(t=new y,r=new y,o.pipe(t),o.pipe(r),e[f].body=t,o=r),o}function w(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":_(e)?"application/x-www-form-urlencoded;charset=UTF-8":v(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?"multipart/form-data;boundary="+e.getBoundary():e instanceof n?null:"text/plain;charset=UTF-8"}function O(e){const t=e.body;return null===t?0:v(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}m.prototype={get body(){return this[f].body},get bodyUsed(){return this[f].disturbed},arrayBuffer(){return g.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return g.call(this).then((function(t){return Object.assign(new h([],{type:e.toLowerCase()}),{[l]:t})}))},json(){var e=this;return g.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return m.Promise.reject(new d(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return g.call(this).then((function(e){return e.toString()}))},buffer(){return g.call(this)},textConverted(){var e=this;return g.call(this).then((function(t){return function(e,t){if("function"!=typeof p)throw new Error("The package `encoding` must be installed to use the textConverted() function");const r=t.get("content-type");let n,o,s="utf-8";r&&(n=/charset=([^;]*)/i.exec(r));o=e.slice(0,1024).toString(),!n&&o&&(n=/<meta.+?charset=(['"])(.+?)\1/i.exec(o));!n&&o&&(n=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(o),n&&(n=/charset=(.*)/i.exec(n.pop())));!n&&o&&(n=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(o));n&&(s=n.pop(),"gb2312"!==s&&"gbk"!==s||(s="gb18030"));return p(e,"UTF-8",s).toString()}(t,e.headers)}))}},Object.defineProperties(m.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),m.mixIn=function(e){for(const t of Object.getOwnPropertyNames(m.prototype))if(!(t in e)){const r=Object.getOwnPropertyDescriptor(m.prototype,t);Object.defineProperty(e,t,r)}},m.Promise=global.Promise;const E=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,C=/[^\t\x20-\x7e\x80-\xff]/;function T(e){if(e=""+e,E.test(e)||""===e)throw new TypeError(e+" is not a legal HTTP header name")}function S(e){if(e=""+e,C.test(e))throw new TypeError(e+" is not a legal HTTP header value")}function I(e,t){t=t.toLowerCase();for(const r in e)if(r.toLowerCase()===t)return r}const P=Symbol("map");class x{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[P]=Object.create(null),e instanceof x){const t=e.raw(),r=Object.keys(t);for(const e of r)for(const r of t[e])this.append(e,r)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const r=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");r.push(Array.from(t))}for(const e of r){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const r=e[t];this.append(t,r)}}}}get(e){T(e=""+e);const t=I(this[P],e);return void 0===t?null:this[P][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=D(this),n=0;for(;n<r.length;){var o=r[n];const s=o[0],i=o[1];e.call(t,i,s,this),r=D(this),n++}}set(e,t){t=""+t,T(e=""+e),S(t);const r=I(this[P],e);this[P][void 0!==r?r:e]=[t]}append(e,t){t=""+t,T(e=""+e),S(t);const r=I(this[P],e);void 0!==r?this[P][r].push(t):this[P][e]=[t]}has(e){return T(e=""+e),void 0!==I(this[P],e)}delete(e){T(e=""+e);const t=I(this[P],e);void 0!==t&&delete this[P][t]}raw(){return this[P]}keys(){return A(this,"key")}values(){return A(this,"value")}[Symbol.iterator](){return A(this,"key+value")}}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const r=Object.keys(e[P]).sort();return r.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[P][t].join(", ")}:function(t){return[t.toLowerCase(),e[P][t].join(", ")]})}x.prototype.entries=x.prototype[Symbol.iterator],Object.defineProperty(x.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(x.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const k=Symbol("internal");function A(e,t){const r=Object.create(N);return r[k]={target:e,kind:t,index:0},r}const N=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==N)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[k];const t=e.target,r=e.kind,n=e.index,o=D(t,r);return n>=o.length?{value:void 0,done:!0}:(this[k].index=n+1,{value:o[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function L(e){const t=Object.assign({__proto__:null},e[P]),r=I(e[P],"Host");return void 0!==r&&(t[r]=t[r][0]),t}Object.defineProperty(N,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const j=Symbol("Response internals"),M=o.STATUS_CODES;class R{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m.call(this,e,t);const r=t.status||200,n=new x(t.headers);if(null!=e&&!n.has("Content-Type")){const t=w(e);t&&n.append("Content-Type",t)}this[j]={url:t.url,status:r,statusText:t.statusText||M[r],headers:n,counter:t.counter}}get url(){return this[j].url||""}get status(){return this[j].status}get ok(){return this[j].status>=200&&this[j].status<300}get redirected(){return this[j].counter>0}get statusText(){return this[j].statusText}get headers(){return this[j].headers}clone(){return new R(b(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}m.mixIn(R.prototype),Object.defineProperties(R.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(R.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const B=Symbol("Request internals"),U=s.parse,F=s.format,G="destroy"in n.Readable.prototype;function V(e){return"object"==typeof e&&"object"==typeof e[B]}class H{constructor(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};V(e)?t=U(e.url):(t=e&&e.href?U(e.href):U(""+e),e={});let n=r.method||e.method||"GET";if(n=n.toUpperCase(),(null!=r.body||V(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");let o=null!=r.body?r.body:V(e)&&null!==e.body?b(e):null;m.call(this,o,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});const s=new x(r.headers||e.headers||{});if(null!=o&&!s.has("Content-Type")){const e=w(o);e&&s.append("Content-Type",e)}let i=V(e)?e.signal:null;if("signal"in r&&(i=r.signal),null!=i&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(i))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[B]={method:n,redirect:r.redirect||e.redirect||"follow",headers:s,parsedURL:t,signal:i},this.follow=void 0!==r.follow?r.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===e.compress||e.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[B].method}get url(){return F(this[B].parsedURL)}get headers(){return this[B].headers}get redirect(){return this[B].redirect}get signal(){return this[B].signal}clone(){return new H(this)}}function q(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}m.mixIn(H.prototype),Object.defineProperty(H.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(H.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),q.prototype=Object.create(Error.prototype),q.prototype.constructor=q,q.prototype.name="AbortError";const W=n.PassThrough,z=s.resolve;function Y(e,t){if(!Y.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return m.Promise=Y.Promise,new Y.Promise((function(r,s){const c=new H(e,t),l=function(e){const t=e[B].parsedURL,r=new x(e[B].headers);if(r.has("Accept")||r.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof n.Readable&&!G)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let o=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(o="0"),null!=e.body){const t=O(e);"number"==typeof t&&(o=String(t))}o&&r.set("Content-Length",o),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let s=e.agent;return"function"==typeof s&&(s=s(t)),r.has("Connection")||s||r.set("Connection","close"),Object.assign({},t,{method:e.method,headers:L(r),agent:s})}(c),u=("https:"===l.protocol?i:o).request,h=c.signal;let p=null;const f=function(){let e=new q("The user aborted a request.");s(e),c.body&&c.body instanceof n.Readable&&c.body.destroy(e),p&&p.body&&p.body.emit("error",e)};if(h&&h.aborted)return void f();const y=function(){f(),_()},m=u(l);let g;function _(){m.abort(),h&&h.removeEventListener("abort",y),clearTimeout(g)}h&&h.addEventListener("abort",y),c.timeout&&m.once("socket",(function(e){g=setTimeout((function(){s(new d("network timeout at: "+c.url,"request-timeout")),_()}),c.timeout)})),m.on("error",(function(e){s(new d(`request to ${c.url} failed, reason: ${e.message}`,"system",e)),_()})),m.on("response",(function(e){clearTimeout(g);const t=function(e){const t=new x;for(const r of Object.keys(e))if(!E.test(r))if(Array.isArray(e[r]))for(const n of e[r])C.test(n)||(void 0===t[P][r]?t[P][r]=[n]:t[P][r].push(n));else C.test(e[r])||(t[P][r]=[e[r]]);return t}(e.headers);if(Y.isRedirect(e.statusCode)){const n=t.get("Location"),o=null===n?null:z(c.url,n);switch(c.redirect){case"error":return s(new d("redirect mode is set to error: "+c.url,"no-redirect")),void _();case"manual":if(null!==o)try{t.set("Location",o)}catch(e){s(e)}break;case"follow":if(null===o)break;if(c.counter>=c.follow)return s(new d("maximum redirect reached at: "+c.url,"max-redirect")),void _();const n={headers:new x(c.headers),follow:c.follow,counter:c.counter+1,agent:c.agent,compress:c.compress,method:c.method,body:c.body,signal:c.signal,timeout:c.timeout};return 303!==e.statusCode&&c.body&&null===O(c)?(s(new d("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void _()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==c.method)||(n.method="GET",n.body=void 0,n.headers.delete("content-length")),r(Y(new H(o,n))),void _())}}e.once("end",(function(){h&&h.removeEventListener("abort",y)}));let n=e.pipe(new W);const o={url:c.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:c.size,timeout:c.timeout,counter:c.counter},i=t.get("Content-Encoding");if(!c.compress||"HEAD"===c.method||null===i||204===e.statusCode||304===e.statusCode)return p=new R(n,o),void r(p);const l={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if("gzip"==i||"x-gzip"==i)return n=n.pipe(a.createGunzip(l)),p=new R(n,o),void r(p);if("deflate"!=i&&"x-deflate"!=i){if("br"==i&&"function"==typeof a.createBrotliDecompress)return n=n.pipe(a.createBrotliDecompress()),p=new R(n,o),void r(p);p=new R(n,o),r(p)}else{e.pipe(new W).once("data",(function(e){n=8==(15&e[0])?n.pipe(a.createInflate()):n.pipe(a.createInflateRaw()),p=new R(n,o),r(p)}))}})),function(e,t){const r=t.body;null===r?e.end():v(r)?r.stream().pipe(e):Buffer.isBuffer(r)?(e.write(r),e.end()):r.pipe(e)}(m,c)}))}Y.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},Y.Promise=global.Promise,t.default=Y},function(e,t){e.exports=require("net")},function(e,t,r){"use strict";function n(e){const t={};for(const r of e)t[r]=r;return t}t.browser="undefined"!=typeof window,t.RPCCommands=n(["DISPATCH","AUTHORIZE","AUTHENTICATE","GET_GUILD","GET_GUILDS","GET_CHANNEL","GET_CHANNELS","GET_RELATIONSHIPS","GET_USER","SUBSCRIBE","UNSUBSCRIBE","SET_USER_VOICE_SETTINGS","SET_USER_VOICE_SETTINGS_2","SELECT_VOICE_CHANNEL","GET_SELECTED_VOICE_CHANNEL","SELECT_TEXT_CHANNEL","GET_VOICE_SETTINGS","SET_VOICE_SETTINGS_2","SET_VOICE_SETTINGS","CAPTURE_SHORTCUT","SET_ACTIVITY","SEND_ACTIVITY_JOIN_INVITE","CLOSE_ACTIVITY_JOIN_REQUEST","ACTIVITY_INVITE_USER","ACCEPT_ACTIVITY_INVITE","INVITE_BROWSER","DEEP_LINK","CONNECTIONS_CALLBACK","BRAINTREE_POPUP_BRIDGE_CALLBACK","GIFT_CODE_BROWSER","OVERLAY","BROWSER_HANDOFF","SET_CERTIFIED_DEVICES","GET_IMAGE","CREATE_LOBBY","UPDATE_LOBBY","DELETE_LOBBY","UPDATE_LOBBY_MEMBER","CONNECT_TO_LOBBY","DISCONNECT_FROM_LOBBY","SEND_TO_LOBBY","SEARCH_LOBBIES","CONNECT_TO_LOBBY_VOICE","DISCONNECT_FROM_LOBBY_VOICE","SET_OVERLAY_LOCKED","OPEN_OVERLAY_ACTIVITY_INVITE","OPEN_OVERLAY_GUILD_INVITE","OPEN_OVERLAY_VOICE_SETTINGS","VALIDATE_APPLICATION","GET_ENTITLEMENT_TICKET","GET_APPLICATION_TICKET","START_PURCHASE","GET_SKUS","GET_ENTITLEMENTS","GET_NETWORKING_CONFIG","NETWORKING_SYSTEM_METRICS","NETWORKING_PEER_METRICS","NETWORKING_CREATE_TOKEN","SET_USER_ACHIEVEMENT","GET_USER_ACHIEVEMENTS"]),t.RPCEvents=n(["CURRENT_USER_UPDATE","GUILD_STATUS","GUILD_CREATE","CHANNEL_CREATE","RELATIONSHIP_UPDATE","VOICE_CHANNEL_SELECT","VOICE_STATE_CREATE","VOICE_STATE_DELETE","VOICE_STATE_UPDATE","VOICE_SETTINGS_UPDATE","VOICE_SETTINGS_UPDATE_2","VOICE_CONNECTION_STATUS","SPEAKING_START","SPEAKING_STOP","GAME_JOIN","GAME_SPECTATE","ACTIVITY_JOIN","ACTIVITY_JOIN_REQUEST","ACTIVITY_SPECTATE","ACTIVITY_INVITE","NOTIFICATION_CREATE","MESSAGE_CREATE","MESSAGE_UPDATE","MESSAGE_DELETE","LOBBY_DELETE","LOBBY_UPDATE","LOBBY_MEMBER_CONNECT","LOBBY_MEMBER_DISCONNECT","LOBBY_MEMBER_UPDATE","LOBBY_MESSAGE","CAPTURE_SHORTCUT_CHANGE","OVERLAY","OVERLAY_UPDATE","ENTITLEMENT_CREATE","ENTITLEMENT_DELETE","USER_ACHIEVEMENT_UPDATE","READY","ERROR"]),t.RPCErrors={CAPTURE_SHORTCUT_ALREADY_LISTENING:5004,GET_GUILD_TIMED_OUT:5002,INVALID_ACTIVITY_JOIN_REQUEST:4012,INVALID_ACTIVITY_SECRET:5005,INVALID_CHANNEL:4005,INVALID_CLIENTID:4007,INVALID_COMMAND:4002,INVALID_ENTITLEMENT:4015,INVALID_EVENT:4004,INVALID_GIFT_CODE:4016,INVALID_GUILD:4003,INVALID_INVITE:4011,INVALID_LOBBY:4013,INVALID_LOBBY_SECRET:4014,INVALID_ORIGIN:4008,INVALID_PAYLOAD:4e3,INVALID_PERMISSIONS:4006,INVALID_TOKEN:4009,INVALID_USER:4010,LOBBY_FULL:5007,NO_ELIGIBLE_ACTIVITY:5006,OAUTH2_ERROR:5e3,PURCHASE_CANCELED:5008,PURCHASE_ERROR:5009,RATE_LIMITED:5011,SELECT_CHANNEL_TIMED_OUT:5001,SELECT_VOICE_FORCE_REQUIRED:5003,SERVICE_UNAVAILABLE:1001,TRANSACTION_ABORTED:1002,UNAUTHORIZED_FOR_ACHIEVEMENT:5010,UNKNOWN_ERROR:1e3},t.RPCCloseCodes={CLOSE_NORMAL:1e3,CLOSE_UNSUPPORTED:1003,CLOSE_ABNORMAL:1006,INVALID_CLIENTID:4e3,INVALID_ORIGIN:4001,RATELIMITED:4002,TOKEN_REVOKED:4003,INVALID_VERSION:4004,INVALID_ENCODING:4005},t.LobbyTypes={PRIVATE:1,PUBLIC:2},t.RelationshipTypes={NONE:0,FRIEND:1,BLOCKED:2,PENDING_INCOMING:3,PENDING_OUTGOING:4,IMPLICIT:5}},function(e,t,r){"use strict";const n=r(12),o=r(38),s=r(18),i=r(68),a=r(128),{randomBytes:c,createHash:l}=r(21),{URL:u}=r(19),h=r(32),d=r(75),p=r(78),{BINARY_TYPES:f,EMPTY_BUFFER:y,GUID:m,kStatusCode:g,kWebSocket:_,NOOP:v}=r(22),{addEventListener:b,removeEventListener:w}=r(131),{format:O,parse:E}=r(79),{toBuffer:C}=r(33),T=["CONNECTING","OPEN","CLOSING","CLOSED"],S=[8,13];class I extends n{constructor(e,t,r){super(),this.readyState=I.CONNECTING,this.protocol="",this._binaryType=f[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(r=t,t=void 0),function e(t,r,n,i){const a={protocolVersion:S[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...i,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,auth:void 0,host:void 0,path:void 0,port:void 0};if(!S.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} (supported versions: ${S.join(", ")})`);let d;r instanceof u?(d=r,t.url=r.href):(d=new u(r),t.url=r);const p="ws+unix:"===d.protocol;if(!(d.host||p&&d.pathname))throw new Error("Invalid URL: "+t.url);const f="wss:"===d.protocol||"https:"===d.protocol,y=f?443:80,g=c(16).toString("base64"),_=f?o.get:s.get;let v;a.createConnection=f?x:P,a.defaultPort=a.defaultPort||y,a.port=d.port||y,a.host=d.hostname.startsWith("[")?d.hostname.slice(1,-1):d.hostname,a.headers={"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":g,Connection:"Upgrade",Upgrade:"websocket",...a.headers},a.path=d.pathname+d.search,a.timeout=a.handshakeTimeout,a.perMessageDeflate&&(v=new h(!0!==a.perMessageDeflate?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=O({[h.extensionName]:v.offer()}));n&&(a.headers["Sec-WebSocket-Protocol"]=n);a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin);(d.username||d.password)&&(a.auth=`${d.username}:${d.password}`);if(p){const e=a.path.split(":");a.socketPath=e[0],a.path=e[1]}let b=t._req=_(a);a.timeout&&b.on("timeout",()=>{D(t,b,"Opening handshake has timed out")});b.on("error",e=>{t._req.aborted||(b=t._req=null,t.readyState=I.CLOSING,t.emit("error",e),t.emitClose())}),b.on("response",o=>{const s=o.headers.location,c=o.statusCode;if(s&&a.followRedirects&&c>=300&&c<400){if(++t._redirects>a.maxRedirects)return void D(t,b,"Maximum redirects exceeded");b.abort();const o=new u(s,r);e(t,o,n,i)}else t.emit("unexpected-response",b,o)||D(t,b,"Unexpected server response: "+o.statusCode)}),b.on("upgrade",(e,r,o)=>{if(t.emit("upgrade",e),t.readyState!==I.CONNECTING)return;b=t._req=null;const s=l("sha1").update(g+m).digest("base64");if(e.headers["sec-websocket-accept"]!==s)return void D(t,r,"Invalid Sec-WebSocket-Accept header");const i=e.headers["sec-websocket-protocol"],c=(n||"").split(/, */);let u;if(!n&&i?u="Server sent a subprotocol but none was requested":n&&!i?u="Server sent no subprotocol":i&&!c.includes(i)&&(u="Server sent an invalid subprotocol"),u)D(t,r,u);else{if(i&&(t.protocol=i),v)try{const r=E(e.headers["sec-websocket-extensions"]);r[h.extensionName]&&(v.accept(r[h.extensionName]),t._extensions[h.extensionName]=v)}catch(e){return void D(t,r,"Invalid Sec-WebSocket-Extensions header")}t.setSocket(r,o,a.maxPayload)}})}(this,e,t,r)):this._isServer=!0}get CONNECTING(){return I.CONNECTING}get CLOSING(){return I.CLOSING}get CLOSED(){return I.CLOSED}get OPEN(){return I.OPEN}get binaryType(){return this._binaryType}set binaryType(e){f.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?(this._socket.bufferSize||0)+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}setSocket(e,t,r){const n=new d(this._binaryType,this._extensions,r);this._sender=new p(e,this._extensions),this._receiver=n,this._socket=e,n[_]=this,e[_]=this,n.on("conclude",A),n.on("drain",N),n.on("error",L),n.on("message",M),n.on("ping",R),n.on("pong",B),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",U),e.on("data",F),e.on("end",G),e.on("error",V),this.readyState=I.OPEN,this.emit("open")}emitClose(){this.readyState=I.CLOSED,this._socket?(this._extensions[h.extensionName]&&this._extensions[h.extensionName].cleanup(),this._receiver.removeAllListeners(),this.emit("close",this._closeCode,this._closeMessage)):this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==I.CLOSED){if(this.readyState===I.CONNECTING){const e="WebSocket was closed before the connection was established";return D(this,this._req,e)}this.readyState!==I.CLOSING?(this.readyState=I.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,r){if(this.readyState===I.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===I.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||y,t,r)):k(this,e,r)}pong(e,t,r){if(this.readyState===I.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===I.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||y,t,r)):k(this,e,r)}send(e,t,r){if(this.readyState===I.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==I.OPEN)return void k(this,e,r);const n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[h.extensionName]||(n.compress=!1),this._sender.send(e||y,n,r)}terminate(){if(this.readyState!==I.CLOSED){if(this.readyState===I.CONNECTING){const e="WebSocket was closed before the connection was established";return D(this,this._req,e)}this._socket&&(this.readyState=I.CLOSING,this._socket.destroy())}}}function P(e){return e.path=e.socketPath,i.connect(e)}function x(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=e.host),a.connect(e)}function D(e,t,r){e.readyState=I.CLOSING;const n=new Error(r);Error.captureStackTrace(n,D),t.setHeader?(t.abort(),t.once("abort",e.emitClose.bind(e)),e.emit("error",n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function k(e,t,r){if(t){const r=C(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){r(new Error(`WebSocket is not open: readyState ${e.readyState} (${T[e.readyState]})`))}}function A(e,t){const r=this[_];r._socket.removeListener("data",F),r._socket.resume(),r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,1005===e?r.close():r.close(e,t)}function N(){this[_]._socket.resume()}function L(e){const t=this[_];t._socket.removeListener("data",F),t.readyState=I.CLOSING,t._closeCode=e[g],t.emit("error",e),t._socket.destroy()}function j(){this[_].emitClose()}function M(e){this[_].emit("message",e)}function R(e){const t=this[_];t.pong(e,!t._isServer,v),t.emit("ping",e)}function B(e){this[_].emit("pong",e)}function U(){const e=this[_];this.removeListener("close",U),this.removeListener("end",G),e.readyState=I.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",F),this[_]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",j),e._receiver.on("finish",j))}function F(e){this[_]._receiver.write(e)||this.pause()}function G(){const e=this[_];e.readyState=I.CLOSING,e._receiver.end(),this.end()}function V(){const e=this[_];this.removeListener("error",V),this.on("error",v),e&&(e.readyState=I.CLOSING,this.destroy())}T.forEach((e,t)=>{I[e]=t}),["open","error","close","message"].forEach(e=>{Object.defineProperty(I.prototype,"on"+e,{get(){const t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){const r=this.listeners(e);for(let t=0;t<r.length;t++)r[t]._listener&&this.removeListener(e,r[t]);this.addEventListener(e,t)}})}),I.prototype.addEventListener=b,I.prototype.removeEventListener=w,e.exports=I},function(e,t,r){"use strict";function n(e){if(!(this instanceof n))return new n(e);e=e||{},this.concurrency=e.concurrency||1/0,this.pending=0,this.jobs=[],this.cbs=[],this._done=o.bind(this)}function o(){this.pending--,this._run()}["push","unshift","splice"].forEach((function(e){n.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this._run(),t}})),Object.defineProperty(n.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),n.prototype._run=function(){if(this.pending!==this.concurrency){if(this.jobs.length){var e=this.jobs.shift();this.pending++,e(this._done),this._run()}if(0===this.pending)for(;0!==this.cbs.length;){var t=this.cbs.pop();process.nextTick(t)}}},n.prototype.onDone=function(e){"function"==typeof e&&(this.cbs.push(e),this._run())},e.exports=n},function(e,t,r){"use strict";try{e.exports=r(73)(__dirname)}catch(t){e.exports=r(129)}},function(e,t,r){var n=r(14),o=r(13),s=r(74),i=require,a=process.versions.modules,c=!(!process.versions||!process.versions.electron)||!!process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":"node",l=s.arch(),u=s.platform();function h(e){return i(h.path(e))}function d(e,t){try{var r=n.readdirSync(e).filter(t);return r[0]&&o.join(e,r[0])}catch(e){return null}}function p(e){return e===c+"-napi.node"}function f(e){return"node-napi.node"===e}function y(e){var t=e.split("-");return t[0]===c&&t[1]===a+".node"}function m(e){return/\.node$/.test(e)}e.exports=h,h.path=function(e){e=o.resolve(e||".");try{var t=i(o.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch(e){}var r=d(o.join(e,"build/Release"),m);if(r)return r;var n=d(o.join(e,"build/Debug"),m);if(n)return n;var s=d(o.join(e,"prebuilds/"+u+"-"+l),y);if(s)return s;var h=d(o.join(e,"prebuilds/"+u+"-"+l),p);if(h)return h;var g=d(o.join(e,"prebuilds/"+u+"-"+l),f);if(g)return g;throw new Error("No native build was found for runtime="+c+" abi="+a+" platform="+u+" arch="+l)}},function(e,t){e.exports=require("os")},function(e,t,r){"use strict";const{Writable:n}=r(4),o=r(32),{BINARY_TYPES:s,EMPTY_BUFFER:i,kStatusCode:a,kWebSocket:c}=r(22),{concat:l,toArrayBuffer:u,unmask:h}=r(33),{isValidStatusCode:d,isValidUTF8:p}=r(76);function f(e,t,r,n){const o=new e(r?"Invalid WebSocket frame: "+t:t);return Error.captureStackTrace(o,f),o[a]=n,o}e.exports=class extends n{constructor(e,t,r){super(),this._binaryType=e||s[0],this[c]=void 0,this._extensions=t||{},this._maxPayload=0|r,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const r=this._buffers[0];e>=r.length?this._buffers.shift().copy(t,t.length-e):(r.copy(t,t.length-e,0,e),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,f(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[o.extensionName])return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,f(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,f(RangeError,"invalid opcode "+this._opcode,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,f(RangeError,"invalid opcode "+this._opcode,!0,1002);if(!this._fin)return this._loop=!1,f(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,f(RangeError,"invalid payload length "+this._payloadLength,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,f(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,f(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=i;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&h(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[o.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(f(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(r)}const n=this.dataMessage();if(n)return t(n);this.startLoop(t)})}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?l(t,e):"arraybuffer"===this._binaryType?u(l(t,e)):t,this.emit("message",r)}else{const r=l(t,e);if(!p(r))return this._loop=!1,f(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",r.toString())}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return f(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!d(t))return f(RangeError,"invalid status code "+t,!0,1002);const r=e.slice(2);if(!p(r))return f(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,r.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},function(e,t,r){"use strict";try{const e=r(77);t.isValidUTF8="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=()=>!0}t.isValidStatusCode=e=>e>=1e3&&e<=1013&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},function(e,t,r){"use strict";try{e.exports=r(73)(__dirname)}catch(t){e.exports=r(130)}},function(e,t,r){"use strict";const{randomFillSync:n}=r(21),o=r(32),{EMPTY_BUFFER:s}=r(22),{isValidStatusCode:i}=r(76),{mask:a,toBuffer:c}=r(33),l=Buffer.alloc(4);class u{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const r=t.mask&&t.readOnly;let o=t.mask?6:2,s=e.length;e.length>=65536?(o+=8,s=127):e.length>125&&(o+=2,s=126);const i=Buffer.allocUnsafe(r?e.length+o:o);return i[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(i[0]|=64),i[1]=s,126===s?i.writeUInt16BE(e.length,2):127===s&&(i.writeUInt32BE(0,2),i.writeUInt32BE(e.length,6)),t.mask?(n(l,0,4),i[1]|=128,i[o-4]=l[0],i[o-3]=l[1],i[o-2]=l[2],i[o-1]=l[3],r?(a(e,l,i,o,e.length),[i]):(a(e,l,e,0,e.length),[i,e])):[i,e]}close(e,t,r,n){let o;if(void 0===e)o=s;else{if("number"!=typeof e||!i(e))throw new TypeError("First argument must be a valid error code number");void 0===t||""===t?(o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0)):(o=Buffer.allocUnsafe(2+Buffer.byteLength(t)),o.writeUInt16BE(e,0),o.write(t,2))}this._deflating?this.enqueue([this.doClose,o,r,n]):this.doClose(o,r,n)}doClose(e,t,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),r)}ping(e,t,r){const n=c(e);this._deflating?this.enqueue([this.doPing,n,t,c.readOnly,r]):this.doPing(n,t,c.readOnly,r)}doPing(e,t,r,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:r}),n)}pong(e,t,r){const n=c(e);this._deflating?this.enqueue([this.doPong,n,t,c.readOnly,r]):this.doPong(n,t,c.readOnly,r)}doPong(e,t,r,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:r}),n)}send(e,t,r){const n=c(e),s=this._extensions[o.extensionName];let i=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&s&&(a=n.length>=s._threshold),this._compress=a):(a=!1,i=0),t.fin&&(this._firstFragment=!0),s){const e={fin:t.fin,rsv1:a,opcode:i,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,n,this._compress,e,r]):this.dispatch(n,this._compress,e,r)}else this.sendFrame(u.frame(n,{fin:t.fin,rsv1:!1,opcode:i,mask:t.mask,readOnly:c.readOnly}),r)}dispatch(e,t,r,n){if(!t)return void this.sendFrame(u.frame(e,r),n);const s=this._extensions[o.extensionName];this._deflating=!0,s.compress(e,r.fin,(e,t)=>{this._deflating=!1,r.readOnly=!1,this.sendFrame(u.frame(t,r),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=u},function(e,t,r){"use strict";const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function o(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t=Object.create(null);if(void 0===e||""===e)return t;let r,s,i=Object.create(null),a=!1,c=!1,l=!1,u=-1,h=-1,d=0;for(;d<e.length;d++){const p=e.charCodeAt(d);if(void 0===r)if(-1===h&&1===n[p])-1===u&&(u=d);else if(32===p||9===p)-1===h&&-1!==u&&(h=d);else{if(59!==p&&44!==p)throw new SyntaxError("Unexpected character at index "+d);{if(-1===u)throw new SyntaxError("Unexpected character at index "+d);-1===h&&(h=d);const n=e.slice(u,h);44===p?(o(t,n,i),i=Object.create(null)):r=n,u=h=-1}}else if(void 0===s)if(-1===h&&1===n[p])-1===u&&(u=d);else if(32===p||9===p)-1===h&&-1!==u&&(h=d);else if(59===p||44===p){if(-1===u)throw new SyntaxError("Unexpected character at index "+d);-1===h&&(h=d),o(i,e.slice(u,h),!0),44===p&&(o(t,r,i),i=Object.create(null),r=void 0),u=h=-1}else{if(61!==p||-1===u||-1!==h)throw new SyntaxError("Unexpected character at index "+d);s=e.slice(u,d),u=h=-1}else if(c){if(1!==n[p])throw new SyntaxError("Unexpected character at index "+d);-1===u?u=d:a||(a=!0),c=!1}else if(l)if(1===n[p])-1===u&&(u=d);else if(34===p&&-1!==u)l=!1,h=d;else{if(92!==p)throw new SyntaxError("Unexpected character at index "+d);c=!0}else if(34===p&&61===e.charCodeAt(d-1))l=!0;else if(-1===h&&1===n[p])-1===u&&(u=d);else if(-1===u||32!==p&&9!==p){if(59!==p&&44!==p)throw new SyntaxError("Unexpected character at index "+d);{if(-1===u)throw new SyntaxError("Unexpected character at index "+d);-1===h&&(h=d);let n=e.slice(u,h);a&&(n=n.replace(/\\/g,""),a=!1),o(i,s,n),44===p&&(o(t,r,i),i=Object.create(null),r=void 0),s=void 0,u=h=-1}}else-1===h&&(h=d)}if(-1===u||l)throw new SyntaxError("Unexpected end of input");-1===h&&(h=d);const p=e.slice(u,h);return void 0===r?o(t,p,i):(void 0===s?o(i,p,!0):o(i,s,a?p.replace(/\\/g,""):p),o(t,r,i)),t}}},function(e,t,r){var n,o=r(7),s=r(135),i=r(49),a=r(47),c=r(81),l=r(42),u=r(46),h=u("IE_PROTO"),d=function(){},p=function(e){return"<script>"+e+"<\/script>"},f=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;f=n?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=l("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var r=i.length;r--;)delete f.prototype[i[r]];return f()};a[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(d.prototype=o(e),r=new d,d.prototype=null,r[h]=e):r=f(),void 0===t?r:s(r,t)}},function(e,t,r){var n=r(25);e.exports=n("document","documentElement")},function(e,t,r){"use strict";var n,o,s,i=r(83),a=r(11),c=r(8),l=r(5),u=r(30),h=l("iterator"),d=!1;[].keys&&("next"in(s=[].keys())?(o=i(i(s)))!==Object.prototype&&(n=o):d=!0),null==n&&(n={}),u||c(n,h)||a(n,h,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},function(e,t,r){var n=r(8),o=r(66),s=r(46),i=r(139),a=s("IE_PROTO"),c=Object.prototype;e.exports=i?Object.getPrototypeOf:function(e){return e=o(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},function(e,t,r){"use strict";var n,o,s,i,a=r(27),c=r(30),l=r(3),u=r(25),h=r(142),d=r(24),p=r(143),f=r(52),y=r(144),m=r(10),g=r(35),_=r(145),v=r(20),b=r(44),w=r(146),O=r(152),E=r(153),C=r(86).set,T=r(154),S=r(155),I=r(156),P=r(89),x=r(157),D=r(45),k=r(64),A=r(5),N=r(158),L=A("species"),j="Promise",M=D.get,R=D.set,B=D.getterFor(j),U=h,F=l.TypeError,G=l.document,V=l.process,H=u("fetch"),q=P.f,W=q,z="process"==v(V),Y=!!(G&&G.createEvent&&l.dispatchEvent),$=k(j,(function(){if(!(b(U)!==String(U))){if(66===N)return!0;if(!z&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!U.prototype.finally)return!0;if(N>=51&&/native code/.test(U))return!1;var e=U.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[L]=t,!(e.then((function(){}))instanceof t)})),K=$||!O((function(e){U.all(e).catch((function(){}))})),J=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},Z=function(e,t,r){if(!t.notified){t.notified=!0;var n=t.reactions;T((function(){for(var o=t.value,s=1==t.state,i=0;n.length>i;){var a,c,l,u=n[i++],h=s?u.ok:u.fail,d=u.resolve,p=u.reject,f=u.domain;try{h?(s||(2===t.rejection&&te(e,t),t.rejection=1),!0===h?a=o:(f&&f.enter(),a=h(o),f&&(f.exit(),l=!0)),a===u.promise?p(F("Promise-chain cycle")):(c=J(a))?c.call(a,d,p):d(a)):p(o)}catch(e){f&&!l&&f.exit(),p(e)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&X(e,t)}))}},Q=function(e,t,r){var n,o;Y?((n=G.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:r},(o=l["on"+e])?o(n):"unhandledrejection"===e&&I("Unhandled promise rejection",r)},X=function(e,t){C.call(l,(function(){var r,n=t.value;if(ee(t)&&(r=x((function(){z?V.emit("unhandledRejection",n,e):Q("unhandledrejection",e,n)})),t.rejection=z||ee(t)?2:1,r.error))throw r.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){C.call(l,(function(){z?V.emit("rejectionHandled",e):Q("rejectionhandled",e,t.value)}))},re=function(e,t,r,n){return function(o){e(t,r,o,n)}},ne=function(e,t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=2,Z(e,t,!0))},oe=function(e,t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(e===r)throw F("Promise can't be resolved itself");var o=J(r);o?T((function(){var n={done:!1};try{o.call(r,re(oe,e,n,t),re(ne,e,n,t))}catch(r){ne(e,n,r,t)}})):(t.value=r,t.state=1,Z(e,t,!1))}catch(r){ne(e,{done:!1},r,t)}}};$&&(U=function(e){_(this,U,j),g(e),n.call(this);var t=M(this);try{e(re(oe,this,t),re(ne,this,t))}catch(e){ne(this,t,e)}},(n=function(e){R(this,{type:j,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(U.prototype,{then:function(e,t){var r=B(this),n=q(E(this,U));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=z?V.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&Z(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n,t=M(e);this.promise=e,this.resolve=re(oe,e,t),this.reject=re(ne,e,t)},P.f=q=function(e){return e===U||e===s?new o(e):W(e)},c||"function"!=typeof h||(i=h.prototype.then,d(h.prototype,"then",(function(e,t){var r=this;return new U((function(e,t){i.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof H&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return S(U,H.apply(l,arguments))}}))),a({global:!0,wrap:!0,forced:$},{Promise:U}),f(U,j,!1,!0),y(j),s=u(j),a({target:j,stat:!0,forced:$},{reject:function(e){var t=q(this);return t.reject.call(void 0,e),t.promise}}),a({target:j,stat:!0,forced:c||$},{resolve:function(e){return S(c&&this===s?U:this,e)}}),a({target:j,stat:!0,forced:K},{all:function(e){var t=this,r=q(t),n=r.resolve,o=r.reject,s=x((function(){var r=g(t.resolve),s=[],i=0,a=1;w(e,(function(e){var c=i++,l=!1;s.push(void 0),a++,r.call(t,e).then((function(e){l||(l=!0,s[c]=e,--a||n(s))}),o)})),--a||n(s)}));return s.error&&o(s.value),r.promise},race:function(e){var t=this,r=q(t),n=r.reject,o=x((function(){var o=g(t.resolve);w(e,(function(e){o.call(t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}})},function(e,t,r){var n=r(35);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n,o,s,i=r(3),a=r(9),c=r(20),l=r(85),u=r(81),h=r(42),d=r(87),p=i.location,f=i.setImmediate,y=i.clearImmediate,m=i.process,g=i.MessageChannel,_=i.Dispatch,v=0,b={},w=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},O=function(e){return function(){w(e)}},E=function(e){w(e.data)},C=function(e){i.postMessage(e+"",p.protocol+"//"+p.host)};f&&y||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return b[++v]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(v),v},y=function(e){delete b[e]},"process"==c(m)?n=function(e){m.nextTick(O(e))}:_&&_.now?n=function(e){_.now(O(e))}:g&&!d?(s=(o=new g).port2,o.port1.onmessage=E,n=l(s.postMessage,s,1)):!i.addEventListener||"function"!=typeof postMessage||i.importScripts||a(C)||"file:"===p.protocol?n="onreadystatechange"in h("script")?function(e){u.appendChild(h("script")).onreadystatechange=function(){u.removeChild(this),w(e)}}:function(e){setTimeout(O(e),0)}:(n=C,i.addEventListener("message",E,!1))),e.exports={set:f,clear:y}},function(e,t,r){var n=r(88);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(e,t,r){var n=r(25);e.exports=n("navigator","userAgent")||""},function(e,t,r){"use strict";var n=r(35),o=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new o(e)}},function(e,t,r){e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let r;function i(...e){if(!i.enabled)return;const t=i,o=Number(new Date),s=o-(r||o);t.diff=s,t.prev=r,t.curr=o,r=o,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,o)=>{if("%%"===r)return r;a++;const s=n.formatters[o];if("function"==typeof s){const n=e[a];r=s.call(t,n),e.splice(a,1),a--}return r}),n.formatArgs.call(t,e);(t.log||n.log).apply(t,e)}return i.namespace=e,i.enabled=n.enabled(e),i.useColors=n.useColors(),i.color=t(e),i.destroy=o,i.extend=s,"function"==typeof n.init&&n.init(i),n.instances.push(i),i}function o(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function s(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(i),...n.skips.map(i).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(168),Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t,r){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */const n=r(12),o=r(21),s=r(92),i=r(38),a=r(18),c=r(19),l=r(36),u=r(175),h=r(93),d=r(37),p=r(94),f=r(96),y=[8,13];class m extends n{constructor(e,t,r){super(),t?"string"==typeof t?t=[t]:Array.isArray(t)||(r=t,t=[]):t=[],this.readyState=m.CONNECTING,this.bytesReceived=0,this.extensions={},this.protocol="",this._binaryType=d.BINARY_TYPES[0],this._finalize=this.finalize.bind(this),this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._finalized=!1,this._closeCode=1006,this._receiver=null,this._sender=null,this._socket=null,this._ultron=null,Array.isArray(e)?g.call(this,e[0],e[1],r):_.call(this,e,t,r)}get CONNECTING(){return m.CONNECTING}get CLOSING(){return m.CLOSING}get CLOSED(){return m.CLOSED}get OPEN(){return m.OPEN}get bufferedAmount(){var e=0;return this._socket&&(e=this._socket.bufferSize+this._sender._bufferedBytes),e}get binaryType(){return this._binaryType}set binaryType(e){d.BINARY_TYPES.indexOf(e)<0||(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}setSocket(e,t){e.setTimeout(0),e.setNoDelay(),this._receiver=new p(this.extensions,this._maxPayload,this.binaryType),this._sender=new f(e,this.extensions),this._ultron=new s(e),this._socket=e,this._ultron.on("close",this._finalize),this._ultron.on("error",this._finalize),this._ultron.on("end",this._finalize),t.length>0&&e.unshift(t),this._ultron.on("data",e=>{this.bytesReceived+=e.length,this._receiver.add(e)}),this._receiver.onmessage=e=>this.emit("message",e),this._receiver.onping=e=>{this.pong(e,!this._isServer,!0),this.emit("ping",e)},this._receiver.onpong=e=>this.emit("pong",e),this._receiver.onclose=(e,t)=>{this._closeFrameReceived=!0,this._closeMessage=t,this._closeCode=e,this._finalized||this.close(e,t)},this._receiver.onerror=(e,t)=>{this._closeMessage="",this._closeCode=t,this.readyState=m.CLOSING,this.emit("error",e),this.finalize(!0)},this.readyState=m.OPEN,this.emit("open")}finalize(e){if(!this._finalized){if(this.readyState=m.CLOSING,this._finalized=!0,"object"==typeof e&&this.emit("error",e),!this._socket)return this.emitClose();clearTimeout(this._closeTimer),this._closeTimer=null,this._ultron.destroy(),this._ultron=null,this._socket.on("error",d.NOOP),e?this._socket.destroy():this._socket.end(),this._socket=null,this._sender=null,this._receiver.cleanup(()=>this.emitClose()),this._receiver=null}}emitClose(){this.readyState=m.CLOSED,this.emit("close",this._closeCode,this._closeMessage),this.extensions[l.extensionName]&&this.extensions[l.extensionName].cleanup(),this.extensions=null,this.removeAllListeners()}pause(){if(this.readyState!==m.OPEN)throw new Error("not opened");this._socket.pause()}resume(){if(this.readyState!==m.OPEN)throw new Error("not opened");this._socket.resume()}close(e,t){if(this.readyState!==m.CLOSED)return this.readyState===m.CONNECTING?(this._req.abort(),void this.finalize(new Error("closed before the connection is established"))):void(this.readyState!==m.CLOSING?(this.readyState=m.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._finalized||(this._closeFrameReceived&&this._socket.end(),this._closeTimer=setTimeout(this._finalize,3e4,!0)))})):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end())}ping(e,t,r){if(this.readyState!==m.OPEN){if(r)return;throw new Error("not opened")}"number"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.ping(e||d.EMPTY_BUFFER,t)}pong(e,t,r){if(this.readyState!==m.OPEN){if(r)return;throw new Error("not opened")}"number"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.pong(e||d.EMPTY_BUFFER,t)}send(e,t,r){if("function"==typeof t&&(r=t,t={}),this.readyState!==m.OPEN){if(!r)throw new Error("not opened");return void r(new Error("not opened"))}"number"==typeof e&&(e=e.toString());const n=Object.assign({binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0},t);this.extensions[l.extensionName]||(n.compress=!1),this._sender.send(e||d.EMPTY_BUFFER,n,r)}terminate(){if(this.readyState!==m.CLOSED)return this.readyState===m.CONNECTING?(this._req.abort(),void this.finalize(new Error("closed before the connection is established"))):void this.finalize(!0)}}function g(e,t,r){this.protocolVersion=r.protocolVersion,this._maxPayload=r.maxPayload,this.extensions=r.extensions,this.protocol=r.protocol,this._isServer=!0,this.setSocket(e,t)}function _(e,t,r){if(r=Object.assign({protocolVersion:y[1],protocol:t.join(","),perMessageDeflate:!0,handshakeTimeout:null,localAddress:null,headers:null,family:null,origin:null,agent:null,host:null,checkServerIdentity:null,rejectUnauthorized:null,passphrase:null,ciphers:null,ecdhCurve:null,cert:null,key:null,pfx:null,ca:null},r),-1===y.indexOf(r.protocolVersion))throw new Error(`unsupported protocol version: ${r.protocolVersion} (supported versions: ${y.join(", ")})`);this.protocolVersion=r.protocolVersion,this._isServer=!1,this.url=e;const n=c.parse(e),s="ws+unix:"===n.protocol;if(!(n.host||s&&n.path))throw new Error("invalid url");const u="wss:"===n.protocol||"https:"===n.protocol,p=o.randomBytes(16).toString("base64"),f=u?i:a;var g;const _={port:n.port||(u?443:80),host:n.hostname,path:"/",headers:{"Sec-WebSocket-Version":r.protocolVersion,"Sec-WebSocket-Key":p,Connection:"Upgrade",Upgrade:"websocket"}};if(r.headers&&Object.assign(_.headers,r.headers),r.perMessageDeflate&&(g=new l(!0!==r.perMessageDeflate?r.perMessageDeflate:{},!1),_.headers["Sec-WebSocket-Extensions"]=h.format({[l.extensionName]:g.offer()})),r.protocol&&(_.headers["Sec-WebSocket-Protocol"]=r.protocol),r.origin&&(r.protocolVersion<13?_.headers["Sec-WebSocket-Origin"]=r.origin:_.headers.Origin=r.origin),r.host&&(_.headers.Host=r.host),n.auth&&(_.auth=n.auth),r.localAddress&&(_.localAddress=r.localAddress),r.family&&(_.family=r.family),s){const e=n.path.split(":");_.socketPath=e[0],_.path=e[1]}else n.path&&("/"!==n.path.charAt(0)?_.path="/"+n.path:_.path=n.path);var v=r.agent;(null!=r.rejectUnauthorized||r.checkServerIdentity||r.passphrase||r.ciphers||r.ecdhCurve||r.cert||r.key||r.pfx||r.ca)&&(r.passphrase&&(_.passphrase=r.passphrase),r.ciphers&&(_.ciphers=r.ciphers),r.ecdhCurve&&(_.ecdhCurve=r.ecdhCurve),r.cert&&(_.cert=r.cert),r.key&&(_.key=r.key),r.pfx&&(_.pfx=r.pfx),r.ca&&(_.ca=r.ca),r.checkServerIdentity&&(_.checkServerIdentity=r.checkServerIdentity),null!=r.rejectUnauthorized&&(_.rejectUnauthorized=r.rejectUnauthorized),v||(v=new f.Agent(_))),v&&(_.agent=v),this._req=f.get(_),r.handshakeTimeout&&this._req.setTimeout(r.handshakeTimeout,()=>{this._req.abort(),this.finalize(new Error("opening handshake has timed out"))}),this._req.on("error",e=>{this._req.aborted||(this._req=null,this.finalize(e))}),this._req.on("response",e=>{this.emit("unexpected-response",this._req,e)||(this._req.abort(),this.finalize(new Error(`unexpected server response (${e.statusCode})`)))}),this._req.on("upgrade",(e,t,n)=>{if(this.emit("headers",e.headers,e),this.readyState!==m.CONNECTING)return;this._req=null;const s=o.createHash("sha1").update(p+d.GUID,"binary").digest("base64");if(e.headers["sec-websocket-accept"]!==s)return t.destroy(),this.finalize(new Error("invalid server key"));const i=e.headers["sec-websocket-protocol"],a=(r.protocol||"").split(/, */);var c;if(!r.protocol&&i?c="server sent a subprotocol even though none requested":r.protocol&&!i?c="server sent no subprotocol even though requested":i&&-1===a.indexOf(i)&&(c="server responded with an invalid protocol"),c)return t.destroy(),this.finalize(new Error(c));if(i&&(this.protocol=i),g)try{const t=h.parse(e.headers["sec-websocket-extensions"]);t[l.extensionName]&&(g.accept(t[l.extensionName]),this.extensions[l.extensionName]=g)}catch(e){return t.destroy(),void this.finalize(new Error("invalid Sec-WebSocket-Extensions header"))}this.setSocket(t,n)})}m.CONNECTING=0,m.OPEN=1,m.CLOSING=2,m.CLOSED=3,["open","error","close","message"].forEach(e=>{Object.defineProperty(m.prototype,"on"+e,{get(){const t=this.listeners(e);for(var r=0;r<t.length;r++)if(t[r]._listener)return t[r]._listener},set(t){const r=this.listeners(e);for(var n=0;n<r.length;n++)r[n]._listener&&this.removeListener(e,r[n]);this.addEventListener(e,t)}})}),m.prototype.addEventListener=u.addEventListener,m.prototype.removeEventListener=u.removeEventListener,e.exports=m},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=0;function s(e){if(!(this instanceof s))return new s(e);this.id=o++,this.ee=e}s.prototype.on=function(e,t,r){return t.__ultron=this.id,this.ee.on(e,t,r),this},s.prototype.once=function(e,t,r){return t.__ultron=this.id,this.ee.once(e,t,r),this},s.prototype.remove=function(){var e,t=arguments,r=this.ee;if(1===t.length&&"string"==typeof t[0])t=t[0].split(/[, ]+/);else if(!t.length)if(r.eventNames)t=r.eventNames();else if(r._events){for(e in t=[],r._events)n.call(r._events,e)&&t.push(e);Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r._events)))}for(var o=0;o<t.length;o++)for(var s=r.listeners(t[o]),i=0;i<s.length;i++){if((e=s[i]).listener){if(e.listener.__ultron!==this.id)continue}else if(e.__ultron!==this.id)continue;r.removeListener(t[o],e)}return this},s.prototype.destroy=function(){return!!this.ee&&(this.remove(),this.ee=null,!0)},e.exports=s},function(e,t,r){"use strict";const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function o(e,t,r){Object.prototype.hasOwnProperty.call(e,t)?e[t].push(r):e[t]=[r]}e.exports={format:function(e){return Object.keys(e).map(t=>{var r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{var r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t={};if(void 0===e||""===e)return t;for(var r,s,i={},a=!1,c=!1,l=!1,u=-1,h=-1,d=0;d<e.length;d++){const f=e.charCodeAt(d);if(void 0===r)if(-1===h&&1===n[f])-1===u&&(u=d);else if(32===f||9===f)-1===h&&-1!==u&&(h=d);else{if(59!==f&&44!==f)throw new Error("unexpected character at index "+d);{if(-1===u)throw new Error("unexpected character at index "+d);-1===h&&(h=d);const n=e.slice(u,h);44===f?(o(t,n,i),i={}):r=n,u=h=-1}}else if(void 0===s)if(-1===h&&1===n[f])-1===u&&(u=d);else if(32===f||9===f)-1===h&&-1!==u&&(h=d);else if(59===f||44===f){if(-1===u)throw new Error("unexpected character at index "+d);-1===h&&(h=d),o(i,e.slice(u,h),!0),44===f&&(o(t,r,i),i={},r=void 0),u=h=-1}else{if(61!==f||-1===u||-1!==h)throw new Error("unexpected character at index "+d);s=e.slice(u,d),u=h=-1}else if(c){if(1!==n[f])throw new Error("unexpected character at index "+d);-1===u?u=d:a||(a=!0),c=!1}else if(l)if(1===n[f])-1===u&&(u=d);else if(34===f&&-1!==u)l=!1,h=d;else{if(92!==f)throw new Error("unexpected character at index "+d);c=!0}else if(34===f&&61===e.charCodeAt(d-1))l=!0;else if(-1===h&&1===n[f])-1===u&&(u=d);else if(-1===u||32!==f&&9!==f){if(59!==f&&44!==f)throw new Error("unexpected character at index "+d);if(-1===u)throw new Error("unexpected character at index "+d);-1===h&&(h=d);var p=e.slice(u,h);a&&(p=p.replace(/\\/g,""),a=!1),o(i,s,p),44===f&&(o(t,r,i),i={},r=void 0),s=void 0,u=h=-1}else-1===h&&(h=d)}if(-1===u||l)throw new Error("unexpected end of input");-1===h&&(h=d);const f=e.slice(u,h);return void 0===r?o(t,f,{}):(void 0===s?o(i,f,!0):o(i,s,a?f.replace(/\\/g,""):f),o(t,r,i)),t}}},function(e,t,r){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */const n=r(23),o=r(36),s=r(176),i=r(54),a=r(95),c=r(37),l=n.Buffer;function u(e,t){return 1===e.length?e[0]:e.length>1?i.concat(e,t):c.EMPTY_BUFFER}e.exports=class{constructor(e,t,r){this._binaryType=r||c.BINARY_TYPES[0],this._extensions=e||{},this._maxPayload=0|t,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._fragmented=0,this._masked=!1,this._fin=!1,this._mask=null,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._cleanupCallback=null,this._hadError=!1,this._dead=!1,this._loop=!1,this.onmessage=null,this.onclose=null,this.onerror=null,this.onping=null,this.onpong=null,this._state=0}readBuffer(e){var t,r,n=0;if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length)return t=this._buffers[0].slice(0,e),this._buffers[0]=this._buffers[0].slice(e),t;for(t=l.allocUnsafe(e);e>0;)e>=(r=this._buffers[0].length)?(this._buffers[0].copy(t,n),n+=r,this._buffers.shift()):(this._buffers[0].copy(t,n,0,e),this._buffers[0]=this._buffers[0].slice(e)),e-=r;return t}hasBufferedBytes(e){return this._bufferedBytes>=e||(this._loop=!1,this._dead&&this.cleanup(this._cleanupCallback),!1)}add(e){this._dead||(this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop())}startLoop(){for(this._loop=!0;this._loop;)switch(this._state){case 0:this.getInfo();break;case 1:this.getPayloadLength16();break;case 2:this.getPayloadLength64();break;case 3:this.getMask();break;case 4:this.getData();break;default:this._loop=!1}}getInfo(){if(!this.hasBufferedBytes(2))return;const e=this.readBuffer(2);if(0!=(48&e[0]))return void this.error(new Error("RSV2 and RSV3 must be clear"),1002);const t=64==(64&e[0]);if(!t||this._extensions[o.extensionName]){if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return void this.error(new Error("RSV1 must be clear"),1002);if(!this._fragmented)return void this.error(new Error("invalid opcode: "+this._opcode),1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void this.error(new Error("invalid opcode: "+this._opcode),1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return void this.error(new Error("invalid opcode: "+this._opcode),1002);if(!this._fin)return void this.error(new Error("FIN must be set"),1002);if(t)return void this.error(new Error("RSV1 must be clear"),1002);if(this._payloadLength>125)return void this.error(new Error("invalid payload length"),1002)}this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength()}else this.error(new Error("RSV1 must be clear"),1002)}getPayloadLength16(){this.hasBufferedBytes(2)&&(this._payloadLength=this.readBuffer(2).readUInt16BE(0,!0),this.haveLength())}getPayloadLength64(){if(!this.hasBufferedBytes(8))return;const e=this.readBuffer(8),t=e.readUInt32BE(0,!0);t>Math.pow(2,21)-1?this.error(new Error("max payload size exceeded"),1009):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4,!0),this.haveLength())}haveLength(){this._opcode<8&&this.maxPayloadExceeded(this._payloadLength)||(this._masked?this._state=3:this._state=4)}getMask(){this.hasBufferedBytes(4)&&(this._mask=this.readBuffer(4),this._state=4)}getData(){var e=c.EMPTY_BUFFER;if(this._payloadLength){if(!this.hasBufferedBytes(this._payloadLength))return;e=this.readBuffer(this._payloadLength),this._masked&&i.unmask(e,this._mask)}this._opcode>7?this.controlMessage(e):this._compressed?(this._state=5,this.decompress(e)):this.pushFragment(e)&&this.dataMessage()}decompress(e){this._extensions[o.extensionName].decompress(e,this._fin,(e,t)=>{e?this.error(e,1009===e.closeCode?1009:1007):(this.pushFragment(t)&&this.dataMessage(),this.startLoop())})}dataMessage(){if(this._fin){const t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){var e;e="nodebuffer"===this._binaryType?u(r,t):"arraybuffer"===this._binaryType?function(e){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}(u(r,t)):r,this.onmessage(e)}else{const e=u(r,t);if(!s(e))return void this.error(new Error("invalid utf8 sequence"),1007);this.onmessage(e.toString())}}this._state=0}controlMessage(e){if(8!==this._opcode)9===this._opcode?this.onping(e):this.onpong(e),this._state=0;else if(0===e.length)this.onclose(1e3,""),this._loop=!1,this.cleanup(this._cleanupCallback);else if(1===e.length)this.error(new Error("invalid payload length"),1002);else{const t=e.readUInt16BE(0,!0);if(!a.isValidErrorCode(t))return void this.error(new Error("invalid status code: "+t),1002);const r=e.slice(2);if(!s(r))return void this.error(new Error("invalid utf8 sequence"),1007);this.onclose(t,r.toString()),this._loop=!1,this.cleanup(this._cleanupCallback)}}error(e,t){this.onerror(e,t),this._hadError=!0,this._loop=!1,this.cleanup(this._cleanupCallback)}maxPayloadExceeded(e){if(0===e||this._maxPayload<1)return!1;const t=this._totalPayloadLength+e;return t<=this._maxPayload?(this._totalPayloadLength=t,!1):(this.error(new Error("max payload size exceeded"),1009),!0)}pushFragment(e){if(0===e.length)return!0;const t=this._messageLength+e.length;return this._maxPayload<1||t<=this._maxPayload?(this._messageLength=t,this._fragments.push(e),!0):(this.error(new Error("max payload size exceeded"),1009),!1)}cleanup(e){this._dead=!0,this._hadError||!this._loop&&5!==this._state?(this._extensions=null,this._fragments=null,this._buffers=null,this._mask=null,this._cleanupCallback=null,this.onmessage=null,this.onclose=null,this.onerror=null,this.onping=null,this.onpong=null,e&&e()):this._cleanupCallback=e}}},function(e,t,r){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */e.exports={isValidErrorCode:function(e){return e>=1e3&&e<=1013&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},1e3:"normal",1001:"going away",1002:"protocol error",1003:"unsupported data",1004:"reserved",1005:"reserved for extensions",1006:"reserved for extensions",1007:"inconsistent or invalid data",1008:"policy violation",1009:"message too big",1010:"extension handshake missing",1011:"an unexpected condition prevented the request from being fulfilled",1012:"service restart",1013:"try again later"}},function(e,t,r){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */const n=r(23),o=r(21),s=r(36),i=r(54),a=r(95),c=r(37),l=n.Buffer;class u{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const r=e.length<1024||t.mask&&t.readOnly;var n=t.mask?6:2,s=e.length;e.length>=65536?(n+=8,s=127):e.length>125&&(n+=2,s=126);const a=l.allocUnsafe(r?e.length+n:n);if(a[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(a[0]|=64),126===s?a.writeUInt16BE(e.length,2,!0):127===s&&(a.writeUInt32BE(0,2,!0),a.writeUInt32BE(e.length,6,!0)),!t.mask)return a[1]=s,r?(e.copy(a,n),[a]):[a,e];const c=o.randomBytes(4);return a[1]=128|s,a[n-4]=c[0],a[n-3]=c[1],a[n-2]=c[2],a[n-1]=c[3],r?(i.mask(e,c,a,n,e.length),[a]):(i.mask(e,c,e,0,e.length),[a,e])}close(e,t,r,n){var o;if(void 0===e)e=1e3;else if("number"!=typeof e||!a.isValidErrorCode(e))throw new Error("first argument must be a valid error code number");void 0===t||""===t?1e3===e?o=c.EMPTY_BUFFER:(o=l.allocUnsafe(2)).writeUInt16BE(e,0,!0):((o=l.allocUnsafe(2+l.byteLength(t))).writeUInt16BE(e,0,!0),o.write(t,2)),this._deflating?this.enqueue([this.doClose,o,r,n]):this.doClose(o,r,n)}doClose(e,t,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),r)}ping(e,t){var r=!0;l.isBuffer(e)||(e instanceof ArrayBuffer?e=l.from(e):ArrayBuffer.isView(e)?e=h(e):(e=l.from(e),r=!1)),this._deflating?this.enqueue([this.doPing,e,t,r]):this.doPing(e,t,r)}doPing(e,t,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:r}))}pong(e,t){var r=!0;l.isBuffer(e)||(e instanceof ArrayBuffer?e=l.from(e):ArrayBuffer.isView(e)?e=h(e):(e=l.from(e),r=!1)),this._deflating?this.enqueue([this.doPong,e,t,r]):this.doPong(e,t,r)}doPong(e,t,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:r}))}send(e,t,r){var n=t.binary?2:1,o=t.compress,i=!0;l.isBuffer(e)||(e instanceof ArrayBuffer?e=l.from(e):ArrayBuffer.isView(e)?e=h(e):(e=l.from(e),i=!1));const a=this._extensions[s.extensionName];if(this._firstFragment?(this._firstFragment=!1,o&&a&&(o=e.length>=a._threshold),this._compress=o):(o=!1,n=0),t.fin&&(this._firstFragment=!0),a){const s={fin:t.fin,rsv1:o,opcode:n,mask:t.mask,readOnly:i};this._deflating?this.enqueue([this.dispatch,e,this._compress,s,r]):this.dispatch(e,this._compress,s,r)}else this.sendFrame(u.frame(e,{fin:t.fin,rsv1:!1,opcode:n,mask:t.mask,readOnly:i}),r)}dispatch(e,t,r,n){if(!t)return void this.sendFrame(u.frame(e,r),n);const o=this._extensions[s.extensionName];this._deflating=!0,o.compress(e,r.fin,(e,t)=>{r.readOnly=!1,this.sendFrame(u.frame(t,r),n),this._deflating=!1,this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,e[0].apply(this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.write(e[0]),this._socket.write(e[1],t)):this._socket.write(e[0],t)}}function h(e){const t=l.from(e.buffer);return e.byteLength!==e.buffer.byteLength?t.slice(e.byteOffset,e.byteOffset+e.byteLength):t}e.exports=u},function(e,t,r){"use strict";e.exports=r(178)},function(e,t,r){"use strict";e.exports=h;var n,o=r(17),s=o.LongBits,i=o.base64,a=o.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function h(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var d=function(){return o.Buffer?function(){return(h.create=function(){return new n})()}:function(){return new h}};function p(e,t,r){t[r]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function y(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function m(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}h.create=d(),h.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(h.alloc=o.pool(h.alloc,o.Array.prototype.subarray)),h.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},f.prototype=Object.create(c.prototype),f.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},h.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},h.prototype.int32=function(e){return e<0?this._push(y,10,s.fromNumber(e)):this.uint32(e)},h.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},h.prototype.uint64=function(e){var t=s.from(e);return this._push(y,t.length(),t)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(e){var t=s.from(e).zzEncode();return this._push(y,t.length(),t)},h.prototype.bool=function(e){return this._push(p,1,e?1:0)},h.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(e){var t=s.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},h.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var g=o.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};h.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(o.isString(e)){var r=h.alloc(t=i.length(e));i.decode(e,r,0),e=r}return this.uint32(t)._push(g,t,e)},h.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(p,1,0)},h.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},h.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},h.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},h._configure=function(e){n=e,h.create=d(),n._configure()}},function(e,t,r){"use strict";e.exports=c;var n,o=r(17),s=o.LongBits,i=o.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},h=function(){return o.Buffer?function(e){return(c.create=function(e){return o.Buffer.isBuffer(e)?new n(e):u(e)})(e)}:u};function d(){var e=new s(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw a(this,8);return new s(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}c.create=h(),c.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return p(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|p(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return i.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){n=e,c.create=h(),n._configure();var t=o.Long?"toLong":"toNumber";o.merge(c.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},function(e,t,r){"use strict";const n=r(121),o=r(12),s="undefined"!=typeof window;e.exports=function(e){const t=new n.Client({transport:s?"websocket":"ipc"});let r=!1,i=null;const a=new class extends o{updatePresence(e){r?t.setActivity(e).catch(e=>this.emit("error",e)):i=e}reply(e,r){const n=e=>this.emit("error",e);switch(r){case"YES":t.sendJoinInvite(e).catch(n);break;case"NO":case"IGNORE":t.closeJoinRequest(e).catch(n);break;default:throw new RangeError("unknown response")}}disconnect(){t.destroy().catch(e=>this.emit("error",e))}};return t.on("error",e=>a.emit("error",e)),t.login({clientId:e}).then(()=>{a.emit("connected"),r=!0,t.subscribe("ACTIVITY_JOIN",({secret:e})=>{a.emit("join",e)}),t.subscribe("ACTIVITY_SPECTATE",({secret:e})=>{a.emit("spectate",e)}),t.subscribe("ACTIVITY_JOIN_REQUEST",e=>{a.emit("joinRequest",e)}),i&&(t.setActivity(i).catch(e=>a.emit("error",e)),i=null)}).catch(e=>a.emit("error",e)),a}},function(e,t){e.exports=require(require("path").resolve(__dirname,"win32"===process.platform?"processlist":"processlist-linux"))},function(e,t,r){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */const n=r(91);n.Server=r(177),n.Receiver=r(94),n.Sender=r(96),e.exports=n},function(e,t,r){"use strict";var n=r(104),o=r(7),s=r(66),i=r(48),a=r(31),c=r(29),l=r(118),u=r(120),h=Math.max,d=Math.min,p=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g;n("replace",2,(function(e,t,r,n){var m=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=n.REPLACE_KEEPS_$0,_=m?"$":"$0";return[function(r,n){var o=c(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,o,n):t.call(String(o),r,n)},function(e,n){if(!m&&g||"string"==typeof n&&-1===n.indexOf(_)){var s=r(t,e,this,n);if(s.done)return s.value}var c=o(e),p=String(this),f="function"==typeof n;f||(n=String(n));var y=c.global;if(y){var b=c.unicode;c.lastIndex=0}for(var w=[];;){var O=u(c,p);if(null===O)break;if(w.push(O),!y)break;""===String(O[0])&&(c.lastIndex=l(p,i(c.lastIndex),b))}for(var E,C="",T=0,S=0;S<w.length;S++){O=w[S];for(var I=String(O[0]),P=h(d(a(O.index),p.length),0),x=[],D=1;D<O.length;D++)x.push(void 0===(E=O[D])?E:String(E));var k=O.groups;if(f){var A=[I].concat(x,P,p);void 0!==k&&A.push(k);var N=String(n.apply(void 0,A))}else N=v(I,p,P,x,k,n);P>=T&&(C+=p.slice(T,P)+N,T=P+I.length)}return C+p.slice(T)}];function v(e,r,n,o,i,a){var c=n+e.length,l=o.length,u=y;return void 0!==i&&(i=s(i),u=f),t.call(a,u,(function(t,s){var a;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(c);case"<":a=i[s.slice(1,-1)];break;default:var u=+s;if(0===u)return t;if(u>l){var h=p(u/10);return 0===h?t:h<=l?void 0===o[h-1]?s.charAt(1):o[h-1]+s.charAt(1):t}a=o[u-1]}return void 0===a?"":a}))}}))},function(e,t,r){"use strict";r(105);var n=r(24),o=r(9),s=r(5),i=r(50),a=r(11),c=s("species"),l=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),h=s("replace"),d=!!/./[h]&&""===/./[h]("a","$0"),p=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,h){var f=s(e),y=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),m=y&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return t=!0,null},r[f](""),!t}));if(!y||!m||"replace"===e&&(!l||!u||d)||"split"===e&&!p){var g=/./[f],_=r(f,""[e],(function(e,t,r,n,o){return t.exec===i?y&&!o?{done:!0,value:g.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),v=_[0],b=_[1];n(String.prototype,e,v),n(RegExp.prototype,f,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}h&&a(RegExp.prototype[f],"sham",!0)}},function(e,t,r){"use strict";var n=r(27),o=r(50);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,r){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,s=o&&!n.call({1:2},1);t.f=s?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},function(e,t,r){var n=r(9),o=r(20),s="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s.call(e,""):Object(e)}:Object},function(e,t,r){var n=r(3),o=r(44),s=n.WeakMap;e.exports="function"==typeof s&&/native code/.test(o(s))},function(e,t,r){var n=r(25),o=r(111),s=r(114),i=r(7);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(i(e)),r=s.f;return r?t.concat(r(e)):t}},function(e,t,r){var n=r(3);e.exports=n},function(e,t,r){var n=r(63),o=r(49).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t,r){var n=r(28),o=r(48),s=r(113),i=function(e){return function(t,r,i){var a,c=n(t),l=o(c.length),u=s(i,l);if(e&&r!=r){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},function(e,t,r){var n=r(31),o=Math.max,s=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):s(r,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){"use strict";var n=r(7);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){"use strict";var n=r(9);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,r){var n=r(65);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){"use strict";var n=r(119).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){var n=r(31),o=r(29),s=function(e){return function(t,r){var s,i,a=String(o(t)),c=n(r),l=a.length;return c<0||c>=l?e?"":void 0:(s=a.charCodeAt(c))<55296||s>56319||c+1===l||(i=a.charCodeAt(c+1))<56320||i>57343?e?a.charAt(c):s:e?a.slice(c,c+2):i-56320+(s-55296<<10)+65536}};e.exports={codeAt:s(!1),charAt:s(!0)}},function(e,t,r){var n=r(20),o=r(50);e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var s=r.call(e,t);if("object"!=typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,r){"use strict";const n=r(51);e.exports={Client:r(122),register:e=>n.register("discord-"+e)}},function(e,t,r){"use strict";const n=r(12),{setTimeout:o,clearTimeout:s}=r(123),i=r(67),a=r(124),{RPCCommands:c,RPCEvents:l,RelationshipTypes:u}=r(69),{pid:h,uuid:d}=r(51);function p(e,t){return`${e}${JSON.stringify(t)}`}e.exports=class extends n{constructor(e={}){super(),this.options=e,this.accessToken=null,this.clientId=null,this.application=null,this.user=null;const t=a[e.transport];if(!t)throw new TypeError("RPC_INVALID_TRANSPORT",e.transport);this.fetch=(e,t,{data:r,query:n}={})=>i(`${this.fetch.endpoint}${t}${n?new URLSearchParams(n):""}`,{method:e,body:r,headers:{Authorization:"Bearer "+this.accessToken}}).then(e=>e.json()),this.fetch.endpoint="https://discordapp.com/api",this.transport=new t(this),this.transport.on("message",this._onRpcMessage.bind(this)),this._expecting=new Map,this._subscriptions=new Map,this._connectPromise=void 0}connect(e){return this._connectPromise||(this._connectPromise=new Promise((t,r)=>{this.clientId=e;const n=o(()=>r(new Error("RPC_CONNECTION_TIMEOUT")),1e4);n.unref(),this.once("connected",()=>{s(n),t(this)}),this.transport.once("close",()=>{this._expecting.forEach(e=>{e.reject(new Error("connection closed"))}),this.emit("disconnected"),r()}),this.transport.connect().catch(r)})),this._connectPromise}async login(e={}){let{clientId:t,accessToken:r}=e;return await this.connect(t),e.scopes?(r||(r=await this.authorize(e)),this.authenticate(r)):(this.emit("ready"),this)}request(e,t,r){return new Promise((n,o)=>{const s=d();this.transport.send({cmd:e,args:t,evt:r,nonce:s}),this._expecting.set(s,{resolve:n,reject:o})})}_onRpcMessage(e){if(e.cmd===c.DISPATCH&&e.evt===l.READY)e.data.user&&(this.user=e.data.user),this.emit("connected");else if(this._expecting.has(e.nonce)){const{resolve:t,reject:r}=this._expecting.get(e.nonce);if("ERROR"===e.evt){const t=new Error(e.data.message);t.code=e.data.code,t.data=e.data,r(t)}else t(e.data);this._expecting.delete(e.nonce)}else{const t=p(e.evt,e.args);if(!this._subscriptions.has(t))return;this._subscriptions.get(t)(e.data)}}async authorize({scopes:e,clientSecret:t,rpcToken:r,redirectUri:n}={}){if(t&&!0===r){r=(await this.fetch("POST","/oauth2/token/rpc",{data:new URLSearchParams({client_id:this.clientId,client_secret:t})})).rpc_token}const{code:o}=await this.request("AUTHORIZE",{scopes:e,client_id:this.clientId,rpc_token:r,redirect_uri:n});return(await this.fetch("POST","/oauth2/token",{data:new URLSearchParams({client_id:this.clientId,client_secret:t,code:o,grant_type:"authorization_code",redirect_uri:n})})).access_token}authenticate(e){return this.request("AUTHENTICATE",{access_token:e}).then(({application:t,user:r})=>(this.accessToken=e,this.application=t,this.user=r,this.emit("ready"),this))}getGuild(e,t){return this.request(c.GET_GUILD,{guild_id:e,timeout:t})}getGuilds(e){return this.request(c.GET_GUILDS,{timeout:e})}getChannel(e,t){return this.request(c.GET_CHANNEL,{channel_id:e,timeout:t})}async getChannels(e,t){const{channels:r}=await this.request(c.GET_CHANNELS,{timeout:t,guild_id:e});return r}setCertifiedDevices(e){return this.request(c.SET_CERTIFIED_DEVICES,{devices:e.map(e=>({type:e.type,id:e.uuid,vendor:e.vendor,model:e.model,related:e.related,echo_cancellation:e.echoCancellation,noise_suppression:e.noiseSuppression,automatic_gain_control:e.automaticGainControl,hardware_mute:e.hardwareMute}))})}setUserVoiceSettings(e,t){return this.request(c.SET_USER_VOICE_SETTINGS,{user_id:e,pan:t.pan,mute:t.mute,volume:t.volume})}selectVoiceChannel(e,{timeout:t,force:r=!1}={}){return this.request(c.SELECT_VOICE_CHANNEL,{channel_id:e,timeout:t,force:r})}selectTextChannel(e,{timeout:t,force:r=!1}={}){return this.request(c.SELECT_TEXT_CHANNEL,{channel_id:e,timeout:t,force:r})}getVoiceSettings(){return this.request(c.GET_VOICE_SETTINGS).then(e=>({automaticGainControl:e.automatic_gain_control,echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,qos:e.qos,silenceWarning:e.silence_warning,deaf:e.deaf,mute:e.mute,input:{availableDevices:e.input.available_devices,device:e.input.device_id,volume:e.input.volume},output:{availableDevices:e.output.available_devices,device:e.output.device_id,volume:e.output.volume},mode:{type:e.mode.type,autoThreshold:e.mode.auto_threshold,threshold:e.mode.threshold,shortcut:e.mode.shortcut,delay:e.mode.delay}}))}setVoiceSettings(e){return this.request(c.SET_VOICE_SETTINGS,{automatic_gain_control:e.automaticGainControl,echo_cancellation:e.echoCancellation,noise_suppression:e.noiseSuppression,qos:e.qos,silence_warning:e.silenceWarning,deaf:e.deaf,mute:e.mute,input:e.input?{device_id:e.input.device,volume:e.input.volume}:void 0,output:e.output?{device_id:e.output.device,volume:e.output.volume}:void 0,mode:e.mode?{mode:e.mode.type,auto_threshold:e.mode.autoThreshold,threshold:e.mode.threshold,shortcut:e.mode.shortcut,delay:e.mode.delay}:void 0})}captureShortcut(e){const t=p(l.CAPTURE_SHORTCUT_CHANGE),r=()=>(this._subscriptions.delete(t),this.request(c.CAPTURE_SHORTCUT,{action:"STOP"}));return this._subscriptions.set(t,({shortcut:t})=>{e(t,r)}),this.request(c.CAPTURE_SHORTCUT,{action:"START"}).then(()=>r)}setActivity(e={},t=h()){let r,n,o,s;if(e.startTimestamp||e.endTimestamp){if(r={start:e.startTimestamp,end:e.endTimestamp},r.start instanceof Date&&(r.start=Math.round(r.start.getTime())),r.end instanceof Date&&(r.end=Math.round(r.end.getTime())),r.start>2147483647e3)throw new RangeError("timestamps.start must fit into a unix timestamp");if(r.end>2147483647e3)throw new RangeError("timestamps.end must fit into a unix timestamp")}return(e.largeImageKey||e.largeImageText||e.smallImageKey||e.smallImageText)&&(n={large_image:e.largeImageKey,large_text:e.largeImageText,small_image:e.smallImageKey,small_text:e.smallImageText}),(e.partySize||e.partyId||e.partyMax)&&(o={id:e.partyId},(e.partySize||e.partyMax)&&(o.size=[e.partySize,e.partyMax])),(e.matchSecret||e.joinSecret||e.spectateSecret)&&(s={match:e.matchSecret,join:e.joinSecret,spectate:e.spectateSecret}),this.request(c.SET_ACTIVITY,{pid:t,activity:{state:e.state,details:e.details,timestamps:r,assets:n,party:o,secrets:s,instance:!!e.instance}})}clearActivity(e=h()){return this.request(c.SET_ACTIVITY,{pid:e})}sendJoinInvite(e){return this.request(c.SEND_ACTIVITY_JOIN_INVITE,{user_id:e.id||e})}sendJoinRequest(e){return this.request(c.SEND_ACTIVITY_JOIN_REQUEST,{user_id:e.id||e})}closeJoinRequest(e){return this.request(c.CLOSE_ACTIVITY_JOIN_REQUEST,{user_id:e.id||e})}createLobby(e,t,r){return this.request(c.CREATE_LOBBY,{type:e,capacity:t,metadata:r})}updateLobby(e,{type:t,owner:r,capacity:n,metadata:o}={}){return this.request(c.UPDATE_LOBBY,{id:e.id||e,type:t,owner_id:r&&r.id||r,capacity:n,metadata:o})}deleteLobby(e){return this.request(c.DELETE_LOBBY,{id:e.id||e})}connectToLobby(e,t){return this.request(c.CONNECT_TO_LOBBY,{id:e,secret:t})}sendToLobby(e,t){return this.request(c.SEND_TO_LOBBY,{id:e.id||e,data:t})}disconnectFromLobby(e){return this.request(c.DISCONNECT_FROM_LOBBY,{id:e.id||e})}updateLobbyMember(e,t,r){return this.request(c.UPDATE_LOBBY_MEMBER,{lobby_id:e.id||e,user_id:t.id||t,metadata:r})}getRelationships(){const e=Object.keys(u);return this.request(c.GET_RELATIONSHIPS).then(t=>t.relationships.map(t=>({...t,type:e[t.type]})))}subscribe(e,t,r){return r||"function"!=typeof t||(r=t,t=void 0),this.request(c.SUBSCRIBE,t,e).then(()=>{const n=p(e,t);return this._subscriptions.set(n,r),{unsubscribe:()=>this.request(c.UNSUBSCRIBE,t,e).then(()=>this._subscriptions.delete(n))}})}async destroy(){this.transport.close()}}},function(e,t){e.exports=require("timers")},function(e,t,r){"use strict";e.exports={ipc:r(125),websocket:r(126)}},function(e,t,r){"use strict";const n=r(68),o=r(12),s=r(67),{uuid:i}=r(51),a=0,c=1,l=2,u=3,h=4;function d(e=0){return new Promise((t,r)=>{const o=function(e){if("win32"===process.platform)return"\\\\?\\pipe\\discord-ipc-"+e;const{env:{XDG_RUNTIME_DIR:t,TMPDIR:r,TMP:n,TEMP:o}}=process;return`${(t||r||n||o||"/tmp").replace(/\/$/,"")}/discord-ipc-${e}`}(e),s=()=>{e<10?t(d(e+1)):r(new Error("Could not connect"))},i=n.createConnection(o,()=>{i.removeListener("error",s),t(i)});i.once("error",s)})}function p(e,t){t=JSON.stringify(t);const r=Buffer.byteLength(t),n=Buffer.alloc(8+r);return n.writeInt32LE(e,0),n.writeInt32LE(r,4),n.write(t,8,r),n}const f={full:"",op:void 0};function y(e,t){const r=e.read();if(!r)return;let n,{op:o}=f;if(""===f.full){o=f.op=r.readInt32LE(0);const e=r.readInt32LE(4);n=r.slice(8,e+8)}else n=r.toString();try{t({op:o,data:JSON.parse(f.full+n)}),f.full="",f.op=void 0}catch(e){f.full+=n}y(e,t)}e.exports=class extends o{constructor(e){super(),this.client=e,this.socket=null}async connect(){const e=this.socket=await d();e.on("close",this.onClose.bind(this)),e.on("error",this.onClose.bind(this)),this.emit("open"),e.write(p(a,{v:1,client_id:this.client.clientId})),e.pause(),e.on("readable",()=>{y(e,({op:e,data:t})=>{switch(e){case u:this.send(t,h);break;case c:if(!t)return;"AUTHORIZE"===t.cmd&&"ERROR"!==t.evt&&async function e(t=0){if(t>30)throw new Error("Could not find endpoint");const r="http://127.0.0.1:"+(6463+t%10);try{return 401!==(await s(r)).status?e(t+1):r}catch(r){return e(t+1)}}().then(e=>{this.client.request.endpoint=e}),this.emit("message",t);break;case l:this.emit("close",t)}})})}onClose(e){this.emit("close",e)}send(e,t=c){this.socket.write(p(t,e))}close(){this.send({},l),this.socket.end()}ping(){this.send(i(),u)}},e.exports.encode=p,e.exports.decode=y},function(e,t,r){"use strict";const n=r(12),{browser:o}=r(69),s=o?window.WebSocket:r(127);e.exports=class extends n{constructor(e){super(),this.client=e,this.ws=null,this.tries=0}async connect(e,t=this.tries){if(this.connected)return;const r=6463+t%10;this.hostAndPort="127.0.0.1:"+r;const n=this.ws=new s(`ws://${this.hostAndPort}/?v=1&client_id=${this.client.clientId}`);n.onopen=this.onOpen.bind(this),n.onclose=n.onerror=this.onClose.bind(this),n.onmessage=this.onMessage.bind(this)}send(e){var t;this.ws&&this.ws.send((t=e,JSON.stringify(t)))}close(){this.ws&&this.ws.close()}ping(){}onMessage(e){var t;this.emit("message",(t=e.data,JSON.parse(t)))}onOpen(){this.emit("open")}onClose(e){try{this.ws.close()}catch(e){}const t=e.code>=4e3&&e.code<5e3;e.code&&!t||this.emit("close",e),t||setTimeout(()=>this.connect(void 0,1006===e.code?++this.tries:0),250)}}},function(e,t,r){"use strict";const n=r(70);n.createWebSocketStream=r(132),n.Server=r(133),n.Receiver=r(75),n.Sender=r(78),e.exports=n},function(e,t){e.exports=require("tls")},function(e,t,r){"use strict";e.exports={mask:(e,t,r,n,o)=>{for(var s=0;s<o;s++)r[n+s]=e[s]^t[3&s]},unmask:(e,t)=>{const r=e.length;for(var n=0;n<r;n++)e[n]^=t[3&n]}}},function(e,t,r){"use strict";e.exports=e=>{for(var t=e.length,r=0;r<t;)if(e[r]<128)r++;else if(192==(224&e[r])){if(r+1===t||128!=(192&e[r+1])||192==(254&e[r]))return!1;r+=2}else if(224==(240&e[r])){if(r+2>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||224===e[r]&&128==(224&e[r+1])||237===e[r]&&160==(224&e[r+1]))return!1;r+=3}else{if(240!=(248&e[r]))return!1;if(r+3>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||128!=(192&e[r+3])||240===e[r]&&128==(240&e[r+1])||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}},function(e,t,r){"use strict";class n{constructor(e,t){this.target=t,this.type=e}}class o extends n{constructor(e,t){super("message",t),this.data=e}}class s extends n{constructor(e,t,r){super("close",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=t,this.code=e}}class i extends n{constructor(e){super("open",e)}}class a extends n{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t){function r(e){t.call(this,new o(e,this))}function n(e,r){t.call(this,new s(e,r,this))}function c(e){t.call(this,new a(e,this))}function l(){t.call(this,new i(this))}"function"==typeof t&&("message"===e?(r._listener=t,this.on(e,r)):"close"===e?(n._listener=t,this.on(e,n)):"error"===e?(c._listener=t,this.on(e,c)):"open"===e?(l._listener=t,this.on(e,l)):this.on(e,t))},removeEventListener(e,t){const r=this.listeners(e);for(let n=0;n<r.length;n++)r[n]!==t&&r[n]._listener!==t||this.removeListener(e,r[n])}};e.exports=c},function(e,t,r){"use strict";const{Duplex:n}=r(4);function o(e){e.emit("close")}function s(){!this.destroyed&&this._writableState.finished&&this.destroy()}function i(e){this.removeListener("error",i),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0;function a(){r&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",(function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a)})):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a));const c=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,readableObjectMode:!1,writableObjectMode:!1});return e.on("message",(function(t){c.push(t)||(r=!1,e._socket.pause())})),e.once("error",(function(e){c.destroy(e)})),e.once("close",(function(){c.destroyed||c.push(null)})),c._destroy=function(t,r){if(e.readyState===e.CLOSED)return r(t),void process.nextTick(o,c);e.once("close",(function(){r(t),process.nextTick(o,c)})),e.terminate()},c._final=function(t){e.readyState!==e.CONNECTING?e._socket._writableState.finished?(c._readableState.endEmitted&&c.destroy(),t()):(e._socket.once("finish",(function(){t()})),e.close()):e.once("open",(function(){c._final(t)}))},c._read=function(){e.readyState!==e.OPEN||r||(r=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,r,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once("open",(function(){c._write(t,r,n)}))},c.on("end",s),c.on("error",i),c}},function(e,t,r){"use strict";const n=r(12),{createHash:o}=r(21),{createServer:s,STATUS_CODES:i}=r(18),a=r(32),c=r(70),{format:l,parse:u}=r(79),{GUID:h}=r(22),d=/^[+/0-9A-Za-z]{22}==$/,p=Symbol("kUsedByWebSocketServer");function f(e){e.emit("close")}function y(){this.destroy()}function m(e,t,r,n){e.writable&&(r=r||i[t],n={Connection:"close","Content-type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.write(`HTTP/1.1 ${t} ${i[t]}\r\n`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+r)),e.removeListener("error",y),e.destroy()}e.exports=class extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');if(null!=e.port)this._server=s((e,t)=>{const r=i[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t);else if(e.server){if(e.server[p])throw new Error("The HTTP/S server is already being used by another WebSocket server");e.server[p]=!0,this._server=e.server}this._server&&(this._removeListeners=function(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,t,r)=>{this.handleUpgrade(e,t,r,t=>{this.emit("connection",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;if(t){if(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)return void t.close(()=>this.emit("close"));delete t[p]}process.nextTick(f,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",y);const o=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),s=+e.headers["sec-websocket-version"],i={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!o||!d.test(o)||8!==s&&13!==s||!this.shouldHandle(e))return m(t,400);if(this.options.perMessageDeflate){const r=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=u(e.headers["sec-websocket-extensions"]);t[a.extensionName]&&(r.accept(t[a.extensionName]),i[a.extensionName]=r)}catch(e){return m(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[""+(8===s?"sec-websocket-origin":"origin")],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(s,a,c,l)=>{if(!s)return m(t,a||401,c,l);this.completeUpgrade(o,i,e,t,r,n)});if(!this.options.verifyClient(a))return m(t,401)}this.completeUpgrade(o,i,e,t,r,n)}completeUpgrade(e,t,r,n,s,i){if(!n.readable||!n.writable)return n.destroy();const u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade","Sec-WebSocket-Accept: "+o("sha1").update(e+h).digest("base64")],d=new c(null);let p=r.headers["sec-websocket-protocol"];if(p&&(p=p.trim().split(/ *, */),p=this.options.handleProtocols?this.options.handleProtocols(p,r):p[0],p&&(u.push("Sec-WebSocket-Protocol: "+p),d.protocol=p)),t[a.extensionName]){const e=t[a.extensionName].params,r=l({[a.extensionName]:[e]});u.push("Sec-WebSocket-Extensions: "+r),d._extensions=t}this.emit("headers",u,r),n.write(u.concat("\r\n").join("\r\n")),n.removeListener("error",y),d.setSocket(n,s,this.options.maxPayload),this.clients&&(this.clients.add(d),d.on("close",()=>this.clients.delete(d))),i(d)}}},function(e,t,r){var n=r(5),o=r(80),s=r(16),i=n("unscopables"),a=Array.prototype;null==a[i]&&s.f(a,i,{configurable:!0,value:o(null)}),e.exports=function(e){a[i][e]=!0}},function(e,t,r){var n=r(15),o=r(16),s=r(7),i=r(136);e.exports=n?Object.defineProperties:function(e,t){s(e);for(var r,n=i(t),a=n.length,c=0;a>c;)o.f(e,r=n[c++],t[r]);return e}},function(e,t,r){var n=r(63),o=r(49);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t,r){"use strict";var n=r(27),o=r(138),s=r(83),i=r(140),a=r(52),c=r(11),l=r(24),u=r(5),h=r(30),d=r(26),p=r(82),f=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,m=u("iterator"),g=function(){return this};e.exports=function(e,t,r,u,p,_,v){o(r,t,u);var b,w,O,E=function(e){if(e===p&&P)return P;if(!y&&e in S)return S[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},C=t+" Iterator",T=!1,S=e.prototype,I=S[m]||S["@@iterator"]||p&&S[p],P=!y&&I||E(p),x="Array"==t&&S.entries||I;if(x&&(b=s(x.call(new e)),f!==Object.prototype&&b.next&&(h||s(b)===f||(i?i(b,f):"function"!=typeof b[m]&&c(b,m,g)),a(b,C,!0,!0),h&&(d[C]=g))),"values"==p&&I&&"values"!==I.name&&(T=!0,P=function(){return I.call(this)}),h&&!v||S[m]===P||c(S,m,P),d[t]=P,p)if(w={values:E("values"),keys:_?P:E("keys"),entries:E("entries")},v)for(O in w)(y||T||!(O in S))&&l(S,O,w[O]);else n({target:t,proto:!0,forced:y||T},w);return w}},function(e,t,r){"use strict";var n=r(82).IteratorPrototype,o=r(80),s=r(41),i=r(52),a=r(26),c=function(){return this};e.exports=function(e,t,r){var l=t+" Iterator";return e.prototype=o(n,{next:s(1,r)}),i(e,l,!1,!0),a[l]=c,e}},function(e,t,r){var n=r(9);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,r){var n=r(7),o=r(141);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,s){return n(r),o(s),t?e.call(r,s):r.__proto__=s,r}}():void 0)},function(e,t,r){var n=r(10);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,r){var n=r(3);e.exports=n.Promise},function(e,t,r){var n=r(24);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},function(e,t,r){"use strict";var n=r(25),o=r(16),s=r(5),i=r(15),a=s("species");e.exports=function(e){var t=n(e),r=o.f;i&&t&&!t[a]&&r(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},function(e,t,r){var n=r(7),o=r(147),s=r(48),i=r(85),a=r(148),c=r(151),l=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,r,u,h){var d,p,f,y,m,g,_,v=i(t,r,u?2:1);if(h)d=e;else{if("function"!=typeof(p=a(e)))throw TypeError("Target is not iterable");if(o(p)){for(f=0,y=s(e.length);y>f;f++)if((m=u?v(n(_=e[f])[0],_[1]):v(e[f]))&&m instanceof l)return m;return new l(!1)}d=p.call(e)}for(g=d.next;!(_=g.call(d)).done;)if("object"==typeof(m=c(d,v,_.value,u))&&m&&m instanceof l)return m;return new l(!1)}).stop=function(e){return new l(!0,e)}},function(e,t,r){var n=r(5),o=r(26),s=n("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[s]===e)}},function(e,t,r){var n=r(149),o=r(26),s=r(5)("iterator");e.exports=function(e){if(null!=e)return e[s]||e["@@iterator"]||o[n(e)]}},function(e,t,r){var n=r(150),o=r(20),s=r(5)("toStringTag"),i="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?r:i?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}},function(e,t,r){var n={};n[r(5)("toStringTag")]="z",e.exports="[object z]"===String(n)},function(e,t,r){var n=r(7);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var s=e.return;throw void 0!==s&&n(s.call(e)),t}}},function(e,t,r){var n=r(5)("iterator"),o=!1;try{var s=0,i={next:function(){return{done:!!s++}},return:function(){o=!0}};i[n]=function(){return this},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var s={};s[n]=function(){return{next:function(){return{done:r=!0}}}},e(s)}catch(e){}return r}},function(e,t,r){var n=r(7),o=r(35),s=r(5)("species");e.exports=function(e,t){var r,i=n(e).constructor;return void 0===i||null==(r=n(i)[s])?t:o(r)}},function(e,t,r){var n,o,s,i,a,c,l,u,h=r(3),d=r(40).f,p=r(20),f=r(86).set,y=r(87),m=h.MutationObserver||h.WebKitMutationObserver,g=h.process,_=h.Promise,v="process"==p(g),b=d(h,"queueMicrotask"),w=b&&b.value;w||(n=function(){var e,t;for(v&&(e=g.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?i():s=void 0,e}}s=void 0,e&&e.enter()},v?i=function(){g.nextTick(n)}:m&&!y?(a=!0,c=document.createTextNode(""),new m(n).observe(c,{characterData:!0}),i=function(){c.data=a=!a}):_&&_.resolve?(l=_.resolve(void 0),u=l.then,i=function(){u.call(l,n)}):i=function(){f.call(h,n)}),e.exports=w||function(e){var t={fn:e,next:void 0};s&&(s.next=t),o||(o=t,i()),s=t}},function(e,t,r){var n=r(7),o=r(10),s=r(89);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=s.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){var n=r(3);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,r){var n,o,s=r(3),i=r(88),a=s.process,c=a&&a.versions,l=c&&c.v8;l?o=(n=l.split("."))[0]+n[1]:i&&(!(n=i.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/))&&(o=n[1]),e.exports=o&&+o},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t){e.exports=require("string_decoder")},function(e,t){e.exports=require(require("path").resolve(__dirname,"winprocess"))},function(e,t,r){"use strict";const{app:n,BrowserWindow:o}=r(1),s=r(163),i=r(164),{toKeyEvent:a}=r(165),c=r(166)("electron-localshortcut"),l={},u=new WeakMap,h=e=>{if(e)try{return e.getTitle()}catch(e){return"A destroyed window"}return"An falsy value"};function d(e){if(!s(e)){const t={};Error.captureStackTrace(t);const r=`\nWARNING: ${e} is not a valid accelerator.\n\n${t.stack?t.stack.split("\n").slice(4).join("\n"):t.message}\n`;console.error(r)}}function p(e,t){let r=0;for(const n of t){if(i(n.eventStamp,e))return r;r++}return-1}const f=e=>(t,r)=>{if("keyUp"===r.type)return;const n=function(e){const t={code:e.code,key:e.key};return["alt","shift","meta"].forEach(r=>{void 0!==e[r]&&(t[r+"Key"]=e[r])}),void 0!==e.control&&(t.ctrlKey=e.control),t}(r);c(`before-input-event: ${r} is translated to: ${n}`);for(const{eventStamp:t,callback:r}of e){if(i(t,n))return c(`eventStamp: ${t} match`),void r();c(`eventStamp: ${t} no match`)}};e.exports={register:function e(t,r,s){let i,p;if(void 0===s?(i=l,s=r,r=t):i=t.webContents,!0===Array.isArray(r))return void r.forEach(r=>{"string"==typeof r&&e(t,r,s)});if(c(`Registering callback for ${r} on window ${h(t)}`),d(r),c(r+" seems a valid shortcut sequence."),u.has(i))c("Window has others shortcuts registered."),p=u.get(i);else if(c("This is the first shortcut of the window."),p=[],u.set(i,p),i===l){const e=f(p),t=(t,r)=>{const n=r.webContents;n.on("before-input-event",e),n.once("closed",()=>n.removeListener("before-input-event",e))};o.getAllWindows().forEach(e=>t(null,e)),n.on("browser-window-created",t),p.removeListener=()=>{o.getAllWindows().forEach(t=>t.webContents.removeListener("before-input-event",e)),n.removeListener("browser-window-created",t)}}else{const e=f(p);i.on("before-input-event",e),p.removeListener=()=>i.removeListener("before-input-event",e),i.once("closed",p.removeListener)}c("Adding shortcut to window set.");const y=a(r);p.push({eventStamp:y,callback:s,enabled:!0}),c("Shortcut registered.")},unregister:function e(t,r){let n;if(void 0===r)n=l,r=t;else{if(t.isDestroyed())return void c("Early return because window is destroyed.");n=t.webContents}if(!0===Array.isArray(r))return void r.forEach(r=>{"string"==typeof r&&e(t,r)});if(c(`Unregistering callback for ${r} on window ${h(t)}`),d(r),c(r+" seems a valid shortcut sequence."),!u.has(n))return void c("Early return because window has never had shortcuts registered.");const o=u.get(n),s=p(a(r),o);-1!==s&&(o.splice(s,1),0===o.length&&(o.removeListener(),u.delete(n)))},isRegistered:function(e,t){d(t);const r=e.webContents,n=u.get(r);return-1!==p(a(t),n)},unregisterAll:function(e){c("Unregistering all shortcuts on window "+h(e));const t=e.webContents,r=u.get(t);r&&r.removeListener&&(r.removeListener(),u.delete(t))},enableAll:function(e){c("Enabling all shortcuts on window "+h(e));const t=e.webContents,r=u.get(t);for(const e of r)e.enabled=!0},disableAll:function(e){c("Disabling all shortcuts on window "+h(e));const t=e.webContents,r=u.get(t);for(const e of r)e.enabled=!1}}},function(e,t,r){"use strict";const n=/^(Command|Cmd|Control|Ctrl|CommandOrControl|CmdOrCtrl|Alt|Option|AltGr|Shift|Super)$/,o=/^([0-9A-Z)!@#$%^&*(:+<_>?~{|}";=,\-./`[\\\]']|F1*[1-9]|F10|F2[0-4]|Plus|Space|Tab|Backspace|Delete|Insert|Return|Enter|Up|Down|Left|Right|Home|End|PageUp|PageDown|Escape|Esc|VolumeUp|VolumeDown|VolumeMute|MediaNextTrack|MediaPreviousTrack|MediaStop|MediaPlayPause|PrintScreen)$/;e.exports=function(e){let t=e.split("+"),r=!1;return t.every((e,s)=>{const i=o.test(e),a=n.test(e);if(i){if(r)return!1;r=!0}return!(s===t.length-1&&!r)&&(i||a)})}},function(e,t,r){"use strict";function n(e){return"string"!=typeof e?e:e.toLowerCase()}e.exports=function(e,t){if(e===t)return!0;for(const r of["altKey","ctrlKey","shiftKey","metaKey"]){const[n,o]=[e[r],t[r]];if(Boolean(n)!==Boolean(o))return!1}return n(e.key)===n(t.key)&&void 0!==e.key||e.code===t.code&&void 0!==e.code}},function(e,t){const r=/^(CommandOrControl|CmdOrCtrl|Command|Cmd|Control|Ctrl|AltGr|Option|Alt|Shift|Super)/i,n=/^(Plus|Space|Tab|Backspace|Delete|Insert|Return|Enter|Up|Down|Left|Right|Home|End|PageUp|PageDown|Escape|Esc|VolumeUp|VolumeDown|VolumeMute|MediaNextTrack|MediaPreviousTrack|MediaStop|MediaPlayPause|PrintScreen|F24|F23|F22|F21|F20|F19|F18|F17|F16|F15|F14|F13|F12|F11|F10|F9|F8|F7|F6|F5|F4|F3|F2|F1|[0-9A-Z)!@#$%^&*(:+<_>?~{|}";=,\-./`[\\\]'])/i,o={};function s({accelerator:e,event:t},r){switch(r){case"command":case"cmd":return function(e,t,r){if("darwin"!==process.platform)return o;if(t.metaKey)throw new Error("Double `Command` modifier specified.");return{event:Object.assign({},t,{metaKey:!0}),accelerator:e.slice(r.length)}}(e,t,r);case"super":return function(e,t,r){if(t.metaKey)throw new Error("Double `Super` modifier specified.");return{event:Object.assign({},t,{metaKey:!0}),accelerator:e.slice(r.length)}}(e,t,r);case"control":case"ctrl":return function(e,t,r){if(t.ctrlKey)throw new Error("Double `Control` modifier specified.");return{event:Object.assign({},t,{ctrlKey:!0}),accelerator:e.slice(r.length)}}(e,t,r);case"commandorcontrol":case"cmdorctrl":return function(e,t,r){if("darwin"===process.platform){if(t.metaKey)throw new Error("Double `Command` modifier specified.");return{event:Object.assign({},t,{metaKey:!0}),accelerator:e.slice(r.length)}}if(t.ctrlKey)throw new Error("Double `Control` modifier specified.");return{event:Object.assign({},t,{ctrlKey:!0}),accelerator:e.slice(r.length)}}(e,t,r);case"option":case"altgr":case"alt":return function(e,t,r){if("option"===r&&"darwin"!==process.platform)return o;if(t.altKey)throw new Error("Double `Alt` modifier specified.");return{event:Object.assign({},t,{altKey:!0}),accelerator:e.slice(r.length)}}(e,t,r);case"shift":return function(e,t,r){if(t.shiftKey)throw new Error("Double `Shift` modifier specified.");return{event:Object.assign({},t,{shiftKey:!0}),accelerator:e.slice(r.length)}}(e,t,r);default:console.error(r)}}function i({accelerator:e,event:t}){return{event:t,accelerator:e.trim().slice(1)}}const a={0:"Digit0",1:"Digit1",2:"Digit2",3:"Digit3",4:"Digit4",5:"Digit5",6:"Digit6",7:"Digit7",8:"Digit8",9:"Digit9","-":"Minus","=":"Equal",Q:"KeyQ",W:"KeyW",E:"KeyE",R:"KeyR",T:"KeyT",Y:"KeyY",U:"KeyU",I:"KeyI",O:"KeyO",P:"KeyP","[":"BracketLeft","]":"BracketRight",A:"KeyA",S:"KeyS",D:"KeyD",F:"KeyF",G:"KeyG",H:"KeyH",J:"KeyJ",K:"KeyK",L:"KeyL",";":"Semicolon","'":"Quote","`":"Backquote","/":"Backslash",Z:"KeyZ",X:"KeyX",C:"KeyC",V:"KeyV",B:"KeyB",N:"KeyN",M:"KeyM",",":"Comma",".":"Period","\\":"Slash"," ":"Space"};function c({accelerator:e,event:t},r){if(r.length>1||t.key)throw new Error(`Unvalid keycode \`${r}\`.`);const n=r.toUpperCase()in a?a[r.toUpperCase()]:null;return{event:Object.assign({},t,{key:r},n?{code:n}:null),accelerator:e.trim().slice(r.length)}}const l=Object.assign(Object.create(null),{plus:"Add",space:"Space",tab:"Tab",backspace:"Backspace",delete:"Delete",insert:"Insert",return:"Return",enter:"Return",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",pageup:"PageUp",pagedown:"PageDown",escape:"Escape",esc:"Escape",volumeup:"AudioVolumeUp",volumedown:"AudioVolumeDown",volumemute:"AudioVolumeMute",medianexttrack:"MediaTrackNext",mediaprevioustrack:"MediaTrackPrevious",mediastop:"MediaStop",mediaplaypause:"MediaPlayPause",printscreen:"PrintScreen"});for(let e=1;e<=24;e++)l["f"+e]="F"+e;function u({accelerator:e,event:t},{code:r,key:n}){if(t.code)throw new Error(`Duplicated keycode \`${n}\`.`);return{event:Object.assign({},t,{key:n},r?{code:r}:null),accelerator:e.trim().slice(n&&n.length||0)}}e.exports={UNSUPPORTED:o,reduceModifier:s,reducePlus:i,reduceKey:c,reduceCode:u,toKeyEvent:function(e){let t={accelerator:e,event:{}};for(;""!==t.accelerator;){const e=t.accelerator.match(r);if(e){if(t=s(t,e[0].toLowerCase()),t===o)return{unsupportedKeyForPlatform:!0}}else if("+"===t.accelerator.trim()[0])t=i(t);else{const e=t.accelerator.match(n);if(!e)throw new Error(`Unvalid accelerator: "${t.accelerator}"`);{const r=e[0].toLowerCase();t=r in l?u(t,{code:l[r],key:r}):c(t,r)}}}return t.event}}},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(167):e.exports=r(169)},function(e,t,r){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))}),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(90)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var r=1e3,n=6e4,o=60*n,s=24*o;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*s;case"hours":case"hour":case"hrs":case"hr":case"h":return i*o;case"minutes":case"minute":case"mins":case"min":case"m":return i*n;case"seconds":case"second":case"secs":case"sec":case"s":return i*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return i(e,t,s,"day");if(t>=o)return i(e,t,o,"hour");if(t>=n)return i(e,t,n,"minute");if(t>=r)return i(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){const n=r(170),o=r(39);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),s=`  ${o};1m${n} [0m`;r[0]=s+r[0].split("\n").join("\n"+s),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=r(171);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(90)(t);const{formatters:s}=e.exports;s.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},function(e,t){e.exports=require("tty")},function(e,t,r){"use strict";const n=r(74),o=r(172),{env:s}=process;let i;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(0===i)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!e.isTTY&&void 0===i)return 0;const t=i||0;if("dumb"===s.TERM)return t;if("win32"===process.platform){const e=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in s)||"codeship"===s.CI_NAME?1:t;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:t}(e))}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?i=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(i=1),"FORCE_COLOR"in s&&(i=!0===s.FORCE_COLOR||"true"===s.FORCE_COLOR?1:!1===s.FORCE_COLOR||"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,r){"use strict";e.exports=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)}},function(e,t,r){"use strict";var n=r(27),o=r(15),s=r(3),i=r(8),a=r(10),c=r(16).f,l=r(62),u=s.Symbol;if(o&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var h={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new u(e):void 0===e?u():u(e);return""===e&&(h[t]=!0),t};l(d,u);var p=d.prototype=u.prototype;p.constructor=d;var f=p.toString,y="Symbol(test)"==String(u("test")),m=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=f.call(e);if(i(h,e))return"";var r=y?t.slice(7,-1):t.replace(m,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:d})}},function(e,t){e.exports=require("buffer")},function(e,t,r){"use strict";class n{constructor(e,t){this.target=t,this.type=e}}class o extends n{constructor(e,t){super("message",t),this.data=e}}class s extends n{constructor(e,t,r){super("close",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=t,this.code=e}}class i extends n{constructor(e){super("open",e)}}const a={addEventListener(e,t){function r(e){t.call(this,new o(e,this))}function n(e,r){t.call(this,new s(e,r,this))}function a(e){e.type="error",e.target=this,t.call(this,e)}function c(){t.call(this,new i(this))}"function"==typeof t&&("message"===e?(r._listener=t,this.on(e,r)):"close"===e?(n._listener=t,this.on(e,n)):"error"===e?(a._listener=t,this.on(e,a)):"open"===e?(c._listener=t,this.on(e,c)):this.on(e,t))},removeEventListener(e,t){const r=this.listeners(e);for(var n=0;n<r.length;n++)r[n]!==t&&r[n]._listener!==t||this.removeListener(e,r[n])}};e.exports=a},function(e,t,r){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */try{const t=r(77);e.exports="object"==typeof t?t.Validation.isValidUTF8:t}catch(t){e.exports=()=>!0}},function(e,t,r){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */const n=r(23),o=r(12),s=r(21),i=r(92),a=r(18),c=r(19),l=r(36),u=r(93),h=r(37),d=r(91),p=n.Buffer;function f(){this.destroy()}function y(e,t,r){e.writable&&(r=r||a.STATUS_CODES[t],e.write(`HTTP/1.1 ${t} ${a.STATUS_CODES[t]}\r\nConnection: close\r\nContent-type: text/html\r\nContent-Length: ${p.byteLength(r)}\r\n\r\n`+r)),e.removeListener("error",f),e.destroy()}e.exports=class extends o{constructor(e,t){if(super(),null==(e=Object.assign({maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null},e)).port&&!e.server&&!e.noServer)throw new TypeError("missing or invalid options");null!=e.port?(this._server=a.createServer((e,t)=>{const r=a.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server&&(this._ultron=new i(this._server),this._ultron.on("listening",()=>this.emit("listening")),this._ultron.on("error",e=>this.emit("error",e)),this._ultron.on("upgrade",(e,t,r)=>{this.handleUpgrade(e,t,r,t=>{this.emit("connection",t,e)})})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}close(e){if(this.clients)for(const e of this.clients)e.terminate();const t=this._server;if(t&&(this._ultron.destroy(),this._ultron=this._server=null,null!=this.options.port))return t.close(e);e&&e()}shouldHandle(e){return!this.options.path||c.parse(e.url).pathname===this.options.path}handleUpgrade(e,t,r,n){t.on("error",f);const o=+e.headers["sec-websocket-version"],s={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!e.headers["sec-websocket-key"]||8!==o&&13!==o||!this.shouldHandle(e))return y(t,400);if(this.options.perMessageDeflate){const r=new l(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=u.parse(e.headers["sec-websocket-extensions"]);t[l.extensionName]&&(r.accept(t[l.extensionName]),s[l.extensionName]=r)}catch(e){return y(t,400)}}var i=(e.headers["sec-websocket-protocol"]||"").split(/, */);if(this.options.handleProtocols){if(!1===(i=this.options.handleProtocols(i,e)))return y(t,401)}else i=i[0];if(this.options.verifyClient){const a={origin:e.headers[""+(8===o?"sec-websocket-origin":"origin")],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(a,c,l)=>{if(!a)return y(t,c||401,l);this.completeUpgrade(i,s,o,e,t,r,n)});if(!this.options.verifyClient(a))return y(t,401)}this.completeUpgrade(i,s,o,e,t,r,n)}completeUpgrade(e,t,r,n,o,i,a){if(!o.readable||!o.writable)return o.destroy();const c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade","Sec-WebSocket-Accept: "+s.createHash("sha1").update(n.headers["sec-websocket-key"]+h.GUID,"binary").digest("base64")];if(e&&c.push("Sec-WebSocket-Protocol: "+e),t[l.extensionName]){const e=t[l.extensionName].params,r=u.format({[l.extensionName]:[e]});c.push("Sec-WebSocket-Extensions: "+r)}this.emit("headers",c,n),o.write(c.concat("\r\n").join("\r\n"));const p=new d([o,i],null,{maxPayload:this.options.maxPayload,protocolVersion:r,extensions:t,protocol:e});this.clients&&(this.clients.add(p),p.on("close",()=>this.clients.delete(p))),o.removeListener("error",f),a(p)}}},function(e,t,r){"use strict";var n=t;function o(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(98),n.BufferWriter=r(187),n.Reader=r(99),n.BufferReader=r(188),n.util=r(17),n.rpc=r(189),n.roots=r(191),n.configure=o,o()},function(e,t,r){"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,o=2,s=!0;for(;o<arguments.length;)r[n++]=arguments[o++];return new Promise((function(o,i){r[n]=function(e){if(s)if(s=!1,e)i(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){s&&(s=!1,i(e))}}))}},function(e,t,r){"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var o=new Array(64),s=new Array(123),i=0;i<64;)s[o[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;n.encode=function(e,t,r){for(var n,s=null,i=[],a=0,c=0;t<r;){var l=e[t++];switch(c){case 0:i[a++]=o[l>>2],n=(3&l)<<4,c=1;break;case 1:i[a++]=o[n|l>>4],n=(15&l)<<2,c=2;break;case 2:i[a++]=o[n|l>>6],i[a++]=o[63&l],c=0}a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,i)),a=0)}return c&&(i[a++]=o[n],i[a++]=61,1===c&&(i[a++]=61)),s?(a&&s.push(String.fromCharCode.apply(String,i.slice(0,a))),s.join("")):String.fromCharCode.apply(String,i.slice(0,a))};n.decode=function(e,t,r){for(var n,o=r,i=0,a=0;a<e.length;){var c=e.charCodeAt(a++);if(61===c&&i>1)break;if(void 0===(c=s[c]))throw Error("invalid encoding");switch(i){case 0:n=c,i=1;break;case 1:t[r++]=n<<2|(48&c)>>4,n=c,i=2;break;case 2:t[r++]=(15&n)<<4|(60&c)>>2,n=c,i=3;break;case 3:t[r++]=(3&n)<<6|c,i=0}}if(1===i)throw Error("invalid encoding");return r-o},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,r){"use strict";function n(){this._listeners={}}e.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},function(e,t,r){"use strict";function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3]}function s(e,n,o){t[0]=e,n[o]=r[3],n[o+1]=r[2],n[o+2]=r[1],n[o+3]=r[0]}function i(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?o:s,e.writeFloatBE=n?s:o,e.readFloatLE=n?i:a,e.readFloatBE=n?a:i}():function(){function t(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var s=Math.floor(Math.log(t)/Math.LN2);e((o<<31|s+127<<23|8388607&Math.round(t*Math.pow(2,-s)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),o=2*(n>>31)+1,s=n>>>23&255,i=8388607&n;return 255===s?i?NaN:o*(1/0):0===s?1401298464324817e-60*o*i:o*Math.pow(2,s-150)*(i+8388608)}e.writeFloatLE=t.bind(null,o),e.writeFloatBE=t.bind(null,s),e.readFloatLE=r.bind(null,i),e.readFloatBE=r.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3],n[o+4]=r[4],n[o+5]=r[5],n[o+6]=r[6],n[o+7]=r[7]}function s(e,n,o){t[0]=e,n[o]=r[7],n[o+1]=r[6],n[o+2]=r[5],n[o+3]=r[4],n[o+4]=r[3],n[o+5]=r[2],n[o+6]=r[1],n[o+7]=r[0]}function i(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:s,e.writeDoubleBE=n?s:o,e.readDoubleLE=n?i:a,e.readDoubleBE=n?a:i}():function(){function t(e,t,r,n,o,s){var i=n<0?1:0;if(i&&(n=-n),0===n)e(0,o,s+t),e(1/n>0?0:2147483648,o,s+r);else if(isNaN(n))e(0,o,s+t),e(2146959360,o,s+r);else if(n>17976931348623157e292)e(0,o,s+t),e((i<<31|2146435072)>>>0,o,s+r);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,o,s+t),e((i<<31|a/4294967296)>>>0,o,s+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=n*Math.pow(2,-c))>>>0,o,s+t),e((i<<31|c+1023<<20|1048576*a&1048575)>>>0,o,s+r)}}}function r(e,t,r,n,o){var s=e(n,o+t),i=e(n,o+r),a=2*(i>>31)+1,c=i>>>20&2047,l=4294967296*(1048575&i)+s;return 2047===c?l?NaN:a*(1/0):0===c?5e-324*a*l:a*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,o,0,4),e.writeDoubleBE=t.bind(null,s,4,0),e.readDoubleLE=r.bind(null,i,0,4),e.readDoubleBE=r.bind(null,a,4,0)}(),e}function o(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function s(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=n(n)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,r){"use strict";var n=t;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,s=[],i=0;t<r;)(n=e[t++])<128?s[i++]=n:n>191&&n<224?s[i++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[i++]=55296+(n>>10),s[i++]=56320+(1023&n)):s[i++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],i>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),i=0);return o?(i&&o.push(String.fromCharCode.apply(String,s.slice(0,i))),o.join("")):String.fromCharCode.apply(String,s.slice(0,i))},n.write=function(e,t,r){for(var n,o,s=r,i=0;i<e.length;++i)(n=e.charCodeAt(i))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(i+1)))?(n=65536+((1023&n)<<10)+(1023&o),++i,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-s}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=r||8192,o=n>>>1,s=null,i=n;return function(r){if(r<1||r>o)return e(r);i+r>n&&(s=e(n),i=0);var a=t.call(s,i,i+=r);return 7&i&&(i=1+(7|i)),a}}},function(e,t,r){"use strict";e.exports=o;var n=r(17);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=o.zero=new o(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var i=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return s;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new o(r,n)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(n.isString(e)){if(!n.Long)return o.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):s},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;o.fromHash=function(e){return e===i?s:new o((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},function(e,t,r){"use strict";e.exports=s;var n=r(98);(s.prototype=Object.create(n.prototype)).constructor=s;var o=r(17);function s(){n.call(this)}function i(e,t,r){e.length<40?o.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}s._configure=function(){s.alloc=o._Buffer_allocUnsafe,s.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},s.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s.writeBytesBuffer,t,e),this},s.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(i,t,e),this},s._configure()},function(e,t,r){"use strict";e.exports=s;var n=r(99);(s.prototype=Object.create(n.prototype)).constructor=s;var o=r(17);function s(e){n.call(this,e)}s._configure=function(){o.Buffer&&(s.prototype._slice=o.Buffer.prototype.slice)},s.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},s._configure()},function(e,t,r){"use strict";t.Service=r(190)},function(e,t,r){"use strict";e.exports=o;var n=r(17);function o(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(n.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,r,o,s,i){if(!s)throw TypeError("request must be specified");var a=this;if(!i)return n.asPromise(e,a,t,r,o,s);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),(function(e,r){if(e)return a.emit("error",e,t),i(e);if(null!==r){if(!(r instanceof o))try{r=o[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),i(e)}return a.emit("data",r,t),i(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){i(e)}),0)}else setTimeout((function(){i(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,r){"use strict";e.exports={}},function(e,t,r){"use strict";r.r(t),r.d(t,"connector",(function(){return N})),r.d(t,"emulator",(function(){return L})),r.d(t,"connection",(function(){return j})),r.d(t,"createEmulator",(function(){return M})),r.d(t,"deleteEmulator",(function(){return R})),r.d(t,"createConnection",(function(){return B})),r.d(t,"deleteConnection",(function(){return U})),r.d(t,"RPCClient",(function(){return F})),r.d(t,"RPCState",(function(){return G})),r.d(t,"updateRPC",(function(){return V}));r(103);var n=r(1),o=r(13),s=r(14),i=r(100),a=(r(34),r(84),r(53),r(101)),c=r(55),l=r(39),u=r(56);class h{constructor(){var e,t,r;e=this,t="memory",r=Buffer.alloc(16777215),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,this.memory.writeUInt32LE(1008369714,0),this.memory.writeUInt32LE(660239952,4),this.memory.writeInt16LE(4096,16742150),this.memory.writeInt16LE(-2048,16742154),setInterval(this.updatePlayerLocation.bind(this),500)}updatePlayerLocation(){for(let e=0;e<=256;e+=256)this.memory.writeInt16LE(this.memory.readInt16LE(16742150+e)-1,16742150+e),this.memory.writeInt16LE(this.memory.readInt16LE(16742154+e)-1,16742154+e),this.memory.writeUInt16LE((this.memory.readUInt16LE(16742152+e)+128)%65535,16742152+e),this.memory.writeUInt8(4,16742159+e)}open(){}readMemory(e,t){let r;return r=e+t>16777215?Buffer.alloc(t):this.memory.slice(e,e+t),r}writeMemory(e,t){this.memory.fill(t,e,e+t.length)}}function d(e){return Array.prototype.map.call(e,e=>("00"+e.toString(16)).slice(-2)).join(" ")}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const f=Object(l.promisify)(a.snapshot);let y;var m;"win32"===process.platform&&(y=r(161)),function(e){e[e.IS_DISCONNECTED=0]="IS_DISCONNECTED",e[e.IS_SERVER=1]="IS_SERVER",e[e.IS_CONNECTED=2]="IS_CONNECTED"}(m||(m={}));class g{static async updateEmulators(){let e=[];try{e=await this.getEmulatorsFromTasklist()}catch(t){e=await this.getEmulatorsFromNativeNodeBinaries()}N.updateEmulators(e)}static async getEmulatorsFromTasklist(){return(await Promise.all((await new Promise((e,t)=>{try{const r=Object(u.spawn)("tasklist",["/FO","CSV","/NH"]);let n="";r.stdout.on("data",e=>{n+=e.toString()}),r.stderr.on("data",e=>{console.error("tasklist stderr: "+e)}),r.on("error",e=>t(e)),r.on("close",r=>{0===r?c(n,{},(r,n)=>{r&&t(r),e(n)}):console.warn("tasklist process exited with code "+r)})}catch(e){console.error(e),t(e)}})).filter(e=>e[0].match(/project64/i)).map(e=>new Promise((t,r)=>{const n=Object(u.spawn)("tasklist",["/FI","PID eq "+e[1],"/FO","CSV","/NH","/V"]);let o="";n.stdout.on("data",e=>{o+=e.toString()}),n.stderr.on("data",e=>{console.error("tasklist stderr: "+e)}),n.on("close",n=>{0!==n&&console.warn("tasklist process exited with code "+n),c(o,{},(n,o)=>{n&&r(n),0===o.length&&r(new Error("tasklist couldn't find process with PID "+e[1])),t(o[0])})})})))).map(e=>({name:e[0],pid:parseInt(e[1]),windowName:e[8]}))}static async getEmulatorsFromNativeNodeBinaries(){return(await f({name:!0,pid:!0})).filter(({name:e})=>e.match(/project64/i))}constructor(e,t){p(this,"baseAddress",void 0),p(this,"process",void 0),this.process=-1337===e?new h:y.Process(e),this.process.open(),this.baseAddress=-1;for(let e=0;e<=1926234112;e+=4096){const t=this.process.readMemory(e,4);if("object"!=typeof t)continue;if(1008369714!==t.readUInt32LE(0))continue;const r=this.process.readMemory(e+4,4);if("object"!=typeof r)continue;660239952===r.readUInt32LE(0)&&(this.baseAddress=e)}if(!this.checkMemory())throw new Error("Memory check failed");this.patchMemory(t),N.connectEmulator()}checkMemory(){try{return this.readMemory(16736240,16),!0}catch(e){}return!1}async patchMemory(e){const t=s.readdirSync("./patches"),r=[];for(const e of t)r.push(new Promise((t,r)=>{s.readFile(o.join("./patches",e),(n,o)=>{n&&r(n),t({patchId:parseInt(e,16),data:o})})}));const n=await Promise.all(r);for(const e of n)this.writeMemory(e.patchId,e.data);this.changeCharacter(e),this.reset()}writeMemory(e,t){this.process.writeMemory(this.baseAddress+e,t)}readMemory(e,t){const r=this.process.readMemory(this.baseAddress+e,t);if(r instanceof Buffer)return r;R();let n="An unknown error occured";switch(r){case 6:n="Insufficient permission to read memory. Try starting Net64+ with admin privileges";break;case 299:n="Your memory is not set to 16MB. ",n+="You are either not using the shipped emulator or ",n+="you did not restart the emulator after changing your settings to 16MB"}throw N.setEmulatorError(n),new Error(n)}reset(){this.setGameMode(1),this.setConnectionFlag(2);const e=Buffer.alloc(28);for(let t=0;t<24;t++)this.writeMemory(16742400+256*t,e)}setPlayerId(e){const t=Buffer.allocUnsafe(1);t.writeUInt8(e,0),this.writeMemory(16742147,t)}setConnectionFlag(e){const t=Buffer.allocUnsafe(1);t.writeUInt8(e,0),this.writeMemory(16736252,t)}setGameMode(e){const t=Buffer.from(new Uint8Array([e]).buffer),r=Buffer.alloc(12);r.writeUInt8(e,6),this.writeMemory(16736247,t),this.writeMemory(16742160,r),this.writeMemory(16742416,r),N.consoleInfo("Changed Gamemode. 0xFF5FF0: ",d(this.readMemory(16736240,16)))}changeCharacter(e){const t=Buffer.allocUnsafe(1);t.writeUInt8(e+1,0),this.writeMemory(16736243,t)}displayChatMessage(e){const t=Buffer.from(e),r=Buffer.alloc(4),n=Buffer.alloc(24);try{t.copy(n,0,0,Math.min(24,n.length)),n.swap32(),this.writeMemory(16742016,r),this.writeMemory(16742020,n)}catch(e){console.error(e)}}getPlayerRotation(){return this.readMemory(16742153,1).readUInt8(0)}getPlayerPositions(){const e=new Array(24).fill(null),t={x:this.readMemory(16742150,2).readInt16LE(0),y:this.readMemory(16742154,2).readInt16LE(0),rotation:this.readMemory(16742152,2).readUInt16LE(0),course:this.readMemory(16742159,1).readUInt8(0)};for(let t=16742400,r=0;t<16748800;t+=256,r++){const n=this.readMemory(t+6,2).readInt16LE(0),o=this.readMemory(t+10,2).readInt16LE(0),s=this.readMemory(t+8,2).readUInt16LE(0),i=this.readMemory(t+15,1).readUInt8(0);e[r]={x:n,y:o,rotation:s,course:i}}return{self:t,cameraAngle:this.readMemory(3393252,2).readUInt16LE(0),positions:e}}}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const v=r(162);let b,w,O;!function(e){e.MARIO="0",e.LUIGI="1",e.YOSHI="2",e.WARIO="3",e.PEACH="4",e.TOAD="5",e.WALUIGI="6",e.ROSALINA="7",e.SONIC="8",e.KNUCKLES="9",e.GOOMBA="10",e.KIRBY="11",e.NEXT_CHARACTER="nextCharacter",e.PREVIOUS_CHARACTER="previousCharacter"}(b||(b={}));class E{constructor(){_(this,"username",""),_(this,"_hotkeysEnabled",!0),_(this,"_characterCyclingOrder",[]),_(this,"_characterCyclingIndex",0),_(this,"_hotkeyBindings",{})}set hotkeysEnabled(e){this._hotkeysEnabled=e}get hotkeysEnabled(){return this._hotkeysEnabled}hotkeyIsButton(e){return new RegExp(/^button\d+$/).test(e)}setHotkeys(e,t,r,o){this._hotkeyBindings=e,v.unregisterAll(o),n.globalShortcut.unregisterAll(),Object.entries(e).forEach(([e,s])=>{const i=this.username;if(s)for(const a of s)if(this.isNumeric(e)){const s=()=>{const t=parseInt(e,10);this.changeCharacter({username:i,characterId:t,connector:r})};this.hotkeyIsButton(a)||(t?n.globalShortcut.register(a.toLocaleUpperCase(),s):v.register(o,a.toLocaleUpperCase(),s))}else if(e===b.NEXT_CHARACTER){const e=()=>{if(this._characterCyclingOrder.length>0&&this._characterCyclingOrder.some(e=>e.on)){const e=this.getNextCharacterId(this._characterCyclingOrder,this._characterCyclingIndex);if(void 0!==e){this._characterCyclingIndex=e;const t=this._characterCyclingOrder[this._characterCyclingIndex].characterId;this.changeCharacter({username:i,characterId:t,connector:r})}}};this.hotkeyIsButton(a)||(t?n.globalShortcut.register(a.toLocaleUpperCase(),e):v.register(o,a.toLocaleUpperCase(),e))}else if(e===b.PREVIOUS_CHARACTER){const e=()=>{if(this._characterCyclingOrder.length>0&&this._characterCyclingOrder.some(e=>e.on)){const e=this.getPreviousCharacterId(this._characterCyclingOrder,this._characterCyclingIndex);if(void 0!==e){this._characterCyclingIndex=e;const t=this._characterCyclingOrder[this._characterCyclingIndex].characterId;this.changeCharacter({username:i,characterId:t,connector:r})}}};this.hotkeyIsButton(a)||(t?n.globalShortcut.register(a.toLocaleUpperCase(),e):v.register(o,a.toLocaleUpperCase(),e))}})}setCharacterCyclingOrder(e){this._characterCyclingOrder=e,this._characterCyclingIndex=0}onGamepadButtonStateChanged(e,t){if(e.some(e=>e.pressed)){const r=this.username;Object.entries(this._hotkeyBindings).filter(([e,t])=>null==t?void 0:t.some(e=>e.includes("button"))).forEach(([n,o])=>{o=o?o.filter(e=>e.includes("button")):[];for(const s of o)if(e.some(e=>s==="button"+e.key&&e.pressed))if(this.isNumeric(n)){const e=parseInt(n,10);this.changeCharacter({username:r,characterId:e,connector:t})}else if(n===b.NEXT_CHARACTER){const e=this.getNextCharacterId(this._characterCyclingOrder,this._characterCyclingIndex);if(void 0!==e){this._characterCyclingIndex=e;const n=this._characterCyclingOrder[this._characterCyclingIndex].characterId;this.changeCharacter({username:r,characterId:n,connector:t})}}else if(n===b.PREVIOUS_CHARACTER){const e=this.getPreviousCharacterId(this._characterCyclingOrder,this._characterCyclingIndex);if(void 0!==e){this._characterCyclingIndex=e;const n=this._characterCyclingOrder[this._characterCyclingIndex].characterId;this.changeCharacter({username:r,characterId:n,connector:t})}}})}}getNextCharacterId(e,t){let r=e.findIndex((e,r)=>e.on&&r>t);return-1===r&&(r=e.findIndex(e=>e.on)),-1===r?void 0:r}getPreviousCharacterId(e,t){let r;for(let n=t-1;n>=0;n--){if(e[n].on){r=n;break}}if(void 0===r)for(let n=e.length-1;n>=t;n--){if(e[n].on){r=n;break}}return r}isNumeric(e){return+e==+e}changeCharacter({username:e,characterId:t,connector:r}){this._hotkeysEnabled&&(r.setCharacter(t),r.sendPlayerUpdate({username:e,characterId:t}))}}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e.WEBSOCKET_CLOSE="WEBSOCKET_CLOSE",e.EMULATOR_DISCONNECT="EMULATOR_DISCONNECT",e.EMULATOR_CONNECTED="EMULATOR_CONNECTED",e.UPDATE_EMULATORS="UPDATE_EMULATORS",e.SET_SERVER="SET_SERVER",e.SET_PLAYERS="SET_PLAYERS",e.SET_PLAYER="SET_PLAYER",e.SET_PLAYER_ID="SET_PLAYER_ID",e.UPDATE_PLAYER_POSITIONS="UPDATE_PLAYER_POSITIONS",e.GAME_MODE="GAME_MODE",e.SERVER_FULL="SERVER_FULL",e.WRONG_VERSION="WRONG_VERSION",e.AUTHENTICATION_ACCEPTED="AUTHENTICATION_ACCEPTED",e.AUTHENTICATION_DENIED="AUTHENTICATION_DENIED",e.CHAT_GLOBAL="CHAT_GLOBAL",e.CHAT_COMMAND="CHAT_COMMAND",e.SET_CONNECTION_ERROR="SET_CONNECTION_ERROR",e.SET_EMULATOR_ERROR="SET_EMULATOR_ERROR",e.CONSOLE_INFO="CONSOLE_INFO",e.SET_CHARACTER="SET_CHARACTER"}(w||(w={})),function(e){e.CREATE_CONNECTION="CREATE_CONNECTION",e.DISCONNECT="DISCONNECT",e.UPDATE_EMULATORS="UPDATE_EMULATORS",e.CREATE_EMULATOR_CONNECTION="CREATE_EMULATOR_CONNECTION",e.DISCONNECT_EMULATOR="DISCONNECT_EMULATOR",e.PLAYER_UPDATE="PLAYER_UPDATE",e.PASSWORD="PASSWORD",e.CHAT_GLOBAL="CHAT_GLOBAL",e.CHAT_COMMAND="CHAT_COMMAND",e.EMU_CHAT="EMU_CHAT",e.HOTKEYS_CHANGED="HOTKEYS_CHANGED",e.CHARACTER_CYCLING_ORDER_CHANGED="CHARACTER_CYCLING_ORDER_CHANGED",e.GAMEPAD_BUTTON_STATE_CHANGED="GAMEPAD_BUTTON_STATE_CHANGED"}(O||(O={}));class T{constructor(e){this.window=e,C(this,"inGameChatEnabled",!1),C(this,"hotkeyManager",new E),C(this,"onCreateConnection",(e,{domain:t,ip:r,port:n,username:o,characterId:s})=>{B({domain:t,ip:r,port:n,username:o,characterId:s})}),C(this,"onDisconnect",()=>{U()}),C(this,"onUpdateEmulators",()=>{g.updateEmulators().catch(e=>{throw console.error(e),e})}),C(this,"onCreateEmulatorConnection",(e,{processId:t,characterId:r})=>{M({processId:t,characterId:r})}),C(this,"onDisconnectEmulator",()=>{R()}),C(this,"onPlayerUpdate",(e,{username:t,characterId:r})=>{this.hotkeyManager.username=t,L&&(L.changeCharacter(r),j&&j.sendPlayerUpdate({username:t,characterId:r}))}),C(this,"onEmuChatChanged",(e,{emuChat:t})=>{this.inGameChatEnabled=t}),C(this,"onHotkeysChanged",(e,{hotkeyBindings:t,globalHotkeysEnabled:r,username:n})=>{n&&(this.hotkeyManager.username=n),this.hotkeyManager.setHotkeys(t,r,this,this.window)}),C(this,"onCharacterCyclingOrderChanged",(e,{characterCyclingOrder:t})=>{this.hotkeyManager.setCharacterCyclingOrder(t)}),C(this,"onGamepadButtonStateChanged",(e,{buttonState:t})=>{this.hotkeyManager.onGamepadButtonStateChanged(t,this)}),C(this,"onSendPassword",(e,t)=>{j&&j.sendPassword(t)}),C(this,"onSendGlobalChatMessage",(e,t)=>{j&&j.sendGlobalChatMessage(t)}),C(this,"onSendCommandMessage",(e,{message:t,args:r})=>{j&&j.sendCommandMessage(t,r)}),n.ipcMain.on(O.CREATE_CONNECTION,this.onCreateConnection),n.ipcMain.on(O.DISCONNECT,this.onDisconnect),n.ipcMain.on(O.UPDATE_EMULATORS,this.onUpdateEmulators),n.ipcMain.on(O.CREATE_EMULATOR_CONNECTION,this.onCreateEmulatorConnection),n.ipcMain.on(O.DISCONNECT_EMULATOR,this.onDisconnectEmulator),n.ipcMain.on(O.PLAYER_UPDATE,this.onPlayerUpdate),n.ipcMain.on(O.PASSWORD,this.onSendPassword),n.ipcMain.on(O.CHAT_GLOBAL,this.onSendGlobalChatMessage),n.ipcMain.on(O.CHAT_COMMAND,this.onSendCommandMessage),n.ipcMain.on(O.EMU_CHAT,this.onEmuChatChanged),n.ipcMain.on(O.HOTKEYS_CHANGED,this.onHotkeysChanged),n.ipcMain.on(O.CHARACTER_CYCLING_ORDER_CHANGED,this.onCharacterCyclingOrderChanged),n.ipcMain.on(O.GAMEPAD_BUTTON_STATE_CHANGED,this.onGamepadButtonStateChanged)}sendPlayerUpdate({username:e,characterId:t}){this.onPlayerUpdate({},{username:e,characterId:t})}closeWebSocket(e,t){this.window.webContents.send(w.WEBSOCKET_CLOSE,{code:e,hasError:t})}disconnectEmulator(){this.window.webContents.send(w.EMULATOR_DISCONNECT),R()}connectEmulator(){this.window.webContents.send(w.EMULATOR_CONNECTED)}updateEmulators(e){this.window.webContents.send(w.UPDATE_EMULATORS,e)}setServer(e){this.window.webContents.send(w.SET_SERVER,e)}setPlayers(e){this.window.webContents.send(w.SET_PLAYERS,e)}setPlayer(e,t){this.window.webContents.send(w.SET_PLAYER,{playerId:e,player:t})}setPlayerId(e){this.window.webContents.send(w.SET_PLAYER_ID,e)}updatePlayerPositions(e){this.window.webContents.send(w.UPDATE_PLAYER_POSITIONS,e)}setGameMode(e){this.window.webContents.send(w.GAME_MODE,e)}serverFull(){this.window.webContents.send(w.SERVER_FULL)}wrongVersion(e,t){this.window.webContents.send(w.WRONG_VERSION,{majorVersion:e,minorVersion:t})}acceptAuthentication(){this.window.webContents.send(w.AUTHENTICATION_ACCEPTED)}denyAuthentication(e){this.window.webContents.send(w.AUTHENTICATION_DENIED,e)}globalChatMessage(e,t){this.window.webContents.send(w.CHAT_GLOBAL,{message:e,senderId:t})}commandMessage(e){this.window.webContents.send(w.CHAT_COMMAND,{message:e})}setConnectionError(e){this.window.webContents.send(w.SET_CONNECTION_ERROR,e)}setEmulatorError(e){this.window.webContents.send(w.SET_EMULATOR_ERROR,e)}consoleInfo(...e){this.window.webContents.send(w.CONSOLE_INFO,e)}setCharacter(e){this.window.webContents.send(w.SET_CHARACTER,e)}}r(173);var S=r(102),I=r(6),P=r(0),x=r(2);function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){switch(e){case 1:return{name:"Regular",imageName:"regular"};case 2:return{name:"Third Person Shooter",imageName:"shooter"};case 3:return{name:"Interactionless",imageName:"reinteractionlessgular"};case 4:return{name:"Prop Hunt",imageName:"prop_hunt"};case 5:return{name:"Boss Rush",imageName:"boss_rush"};case 6:return{name:"RegTagular",imageName:"tag"};case 8:return{name:"Wario Ware",imageName:"wario_ware"};default:return{name:"None",imageName:""}}}class A{constructor({domain:e,ip:t="127.0.0.1",port:r=3678,username:n,characterId:o}){D(this,"ws",void 0),D(this,"playerId",void 0),D(this,"loop",null),D(this,"slowLoop",null),D(this,"hasError",!1),D(this,"timer",Date.now());let s=e;e||(s=t),this.disconnect=this.disconnect.bind(this),this.sendAll=this.sendAll.bind(this),this.updatePlayerPositions=this.updatePlayerPositions.bind(this),this.ws=new S(`ws://${s}:${r}`),this.ws.on("open",this.onOpen.bind(this,o,n)),this.ws.on("error",this.onError.bind(this)),this.ws.on("close",this.onClose.bind(this)),this.ws.on("message",this.onMessage.bind(this))}disconnect(){this.onClose(0),this.ws.close()}onOpen(e,t){if(!L)return void this.disconnect();L.displayChatMessage("- connected to server -");const r={compression:P.Compression.NONE,data:{messageType:P.ClientServer.MessageType.HANDSHAKE,handshake:{major:1,minor:0,characterId:e,username:t}}},n=P.ClientServerMessage.encode(P.ClientServerMessage.create(r)).finish();this.ws.send(n)}onError(e){let t=String(e);t.includes("getaddrinfo")?t="Could not resolve host name.\nDNS lookup failed":t.includes("DTIMEDOUT")?t="Server timed out.\nIt might be offline or you inserted a wrong IP address":t.includes("ECONNREFUSED")&&(t="Server refused connection.\n",t+="The server might not have set up proper port forwarding or you inserted a wrong port"),N.setConnectionError(t),this.hasError=!0}onClose(e){this.loop&&(clearInterval(this.loop),this.loop=null),this.slowLoop&&(clearInterval(this.slowLoop),this.slowLoop=null),N.closeWebSocket(e,this.hasError),V({state:"Ready",details:"Ready",largeImageKey:"net64",largeImageText:"Net64+ 2.5.2"},!0),L&&L.reset()}async onMessage(e){if(!L)return void this.disconnect();const t=x.ServerClientMessage.decode(e);let r;switch(t.compression){case P.Compression.ZSTD:throw new Error("ZSTD decompression not yet implemented!");case P.Compression.GZIP:if(!t.compressedData)return;r=await this.decompressGzipMessage(t.compressedData);break;default:r=t.data}if(r)try{switch(r.messageType){case x.ServerClient.MessageType.HANDSHAKE:this.onHandshake(r);break;case x.ServerClient.MessageType.PING:this.onPing(r);break;case x.ServerClient.MessageType.SERVER_MESSAGE:this.onServerMessage(r);break;case x.ServerClient.MessageType.PLAYER_LIST_UPDATE:this.onPlayerListUpdate(r);break;case x.ServerClient.MessageType.PLAYER_UPDATE:this.onPlayerUpdate(r);break;case x.ServerClient.MessageType.PLAYER_DATA:this.onPlayerData(r);break;case x.ServerClient.MessageType.META_DATA:this.onMetaData(r);break;case x.ServerClient.MessageType.CHAT:this.onChatMessage(r)}}catch(e){this.catchError(e)}}async decompressGzipMessage(e){const t=await new Promise((t,r)=>{I.gunzip(e,(e,n)=>{e&&r(e),t(n)})});return x.ServerClient.decode(t)}onHandshake(e){const t=e.handshake;if(t&&null!=t.playerId&&null!=t.ip&&null!=t.port&&null!=t.domain&&null!=t.name&&null!=t.description&&null!=t.countryCode&&null!=t.gameMode){if(this.playerId=t.playerId,t.playerList){const e=t.playerList.playerUpdates;if(!e)return;const r=new Array(25).fill(null);for(const t of e)t.player&&null!=t.playerId&&(r[t.playerId]=t.player);N.setServer({ip:t.ip,port:t.port,domain:t.domain,name:t.name,description:t.description,countryCode:t.countryCode,gameMode:t.gameMode,players:r,passwordRequired:t.passwordRequired});const n=k(t.gameMode);V({state:"Playing in "+t.name,details:`Playing in ${n.name} mode`,smallImageKey:n.imageName,smallImageText:n.name,startTimestamp:Date.now(),partySize:r.length,partyMax:24})}L.setPlayerId(this.playerId),L.setGameMode(t.gameMode),N.setPlayerId(this.playerId),this.loop=setInterval(this.sendAll,32),this.slowLoop=setInterval(this.updatePlayerPositions,200)}}onPing(e){}onServerMessage(e){if(!e.serverMessage)return;const t=e.serverMessage;switch(t.messageType){case x.ServerMessage.MessageType.CONNECTION_DENIED:this.onConnectionDenied(t);break;case x.ServerMessage.MessageType.GAME_MODE:this.onGameMode(t);break;case x.ServerMessage.MessageType.PLAYER_REORDER:this.onPlayerReorder(t);break;case x.ServerMessage.MessageType.AUTHENTICATION:this.onAuthentication(t)}}onConnectionDenied(e){const t=e.connectionDenied;if(t){switch(t.reason){case x.ConnectionDenied.Reason.SERVER_FULL:this.onServerFull(t);break;case x.ConnectionDenied.Reason.WRONG_VERSION:this.onWrongVersion(t)}this.disconnect()}}onServerFull(e){e.serverFull&&N.serverFull()}onWrongVersion(e){const t=e.wrongVersion;t&&null!=t.majorVersion&&null!=t.minorVersion&&N.wrongVersion(t.majorVersion,t.minorVersion)}onGameMode(e){const t=e.gameMode;if(!t||!t.gameMode)return;L.setGameMode(t.gameMode),N.setGameMode(t.gameMode);const r=k(t.gameMode);V({details:`Playing in ${r.name} mode`,smallImageKey:r.imageName,smallImageText:r.name}),N.commandMessage("Gamemode changed to "+t.gameMode)}onPlayerReorder(e){const t=e.playerReorder;if(!t)return;t.grantToken&&L.setConnectionFlag(1);const r=t.playerId;null!=r&&(this.playerId=r,L.setPlayerId(r),N.setPlayerId(r))}onAuthentication(e){const t=e.authentication;if(!t)return;const{status:r,throttle:n}=t;if(null!=r)switch(r){case x.Authentication.Status.ACCEPTED:N.acceptAuthentication();break;case x.Authentication.Status.DENIED:if(null==n)return;N.denyAuthentication(n)}}onPlayerListUpdate(e){if(!e.playerListUpdate)return;const t=e.playerListUpdate.playerUpdates;t&&(N.setPlayers(t),V({partySize:t.length}))}onPlayerUpdate(e){const t=e.playerUpdate;if(!t||!t.playerId||!t.player)return;const r=t.player;null!=r.username&&null!=r.characterId&&N.setPlayer(t.playerId,r)}onPlayerData(e){const t=e.playerData;if(!t||!t.dataLength||!t.playerBytes)return;const r=t.playerBytes;let n=1;const o=L.readMemory(16736247,1).readUInt8(0);for(const e of r){const t=e.playerId,r=e.playerData;if(null==t||t===this.playerId||!r||28!==r.length)continue;n=Math.max(n,t);r.readUInt8(22)===o&&L.writeMemory(16742144+256*t,r)}const s=Buffer.alloc(28);for(let e=n+1;e<25;e++)L.writeMemory(16742144+256*e,s)}onMetaData(e){if(!e.metaData)return;const t=e.metaData.metaData;if(t)for(const e of t){const t=e.length,r=e.address,n=e.data;t&&r&&n&&L.writeMemory(r,n)}}onChatMessage(e){const t=e.chat;if(!t)return;const r=t.message,n=t.senderId;if(r&&null!=n)switch(t.chatType){case P.Chat.ChatType.GLOBAL:N.inGameChatEnabled&&L.displayChatMessage(r),N.globalChatMessage(r,n);break;case P.Chat.ChatType.PRIVATE:break;case P.Chat.ChatType.COMMAND:N.commandMessage(r)}}sendAll(){if(L)try{this.sendPlayerData(),this.sendMetaData()}catch(e){this.catchError()}else this.disconnect()}catchError(e){e&&console.error(e),this.disconnect(),N.disconnectEmulator()}printPlayerData(){if(Date.now()-this.timer<1e4)return;const e=[];for(let t=0;t<24;t++)e.push(d(L.readMemory(16742144+256*t,28)));N.consoleInfo("Player Buffers:",e.reduce((e,t)=>e+"\n"+t,"")),N.consoleInfo("0xFF5FF0: ",d(L.readMemory(16736240,16))),this.timer=Date.now()}sendPlayerData(){const e=L.readMemory(16742144,28);if(this.playerId&&L.writeMemory(16742144+256*this.playerId,e),0!==e[3])try{const t={compression:P.Compression.NONE,data:{messageType:P.ClientServer.MessageType.PLAYER_DATA,playerData:{dataLength:28,playerBytes:[{playerData:e}]}}},r=P.ClientServerMessage.encode(P.ClientServerMessage.fromObject(t)).finish();this.ws.send(r)}catch(e){throw e}}sendMetaData(){const e=[];for(let t=16741376,r=0;r<576;r+=12){const n=L.readMemory(t+r,4).readUInt32LE(0)-2147483648;if(-2147483648===n)break;if(n>=16742144&&n<16748800)continue;const o=L.readMemory(t+r+4,4).readUInt32LE(0),s=L.readMemory(t+r,8).readUInt32LE(0)-2147483648;e.push({length:o,address:s,data:L.readMemory(n,o)})}try{const t={compression:P.Compression.NONE,data:{messageType:P.ClientServer.MessageType.META_DATA,metaData:{metaData:e}}},r=P.ClientServerMessage.encode(P.ClientServerMessage.fromObject(t)).finish();this.ws.send(r)}catch(e){throw e}}updatePlayerPositions(){if(!L)return;const e=L.getPlayerPositions();N.updatePlayerPositions(e)}sendPassword(e){const t={compression:P.Compression.NONE,data:{messageType:P.ClientServer.MessageType.AUTHENTICATE,authenticate:{password:e}}},r=P.ClientServerMessage.encode(P.ClientServerMessage.fromObject(t)).finish();this.ws.send(r)}sendGlobalChatMessage(e){const t={compression:P.Compression.NONE,data:{messageType:P.ClientServer.MessageType.CHAT,chat:{chatType:P.Chat.ChatType.GLOBAL,message:e}}},r=P.ClientServerMessage.encode(P.ClientServerMessage.fromObject(t)).finish();this.ws.send(r)}sendCommandMessage(e,t){const r={compression:P.Compression.NONE,data:{messageType:P.ClientServer.MessageType.CHAT,chat:{chatType:P.Chat.ChatType.COMMAND,message:e,command:{arguments:t}}}},n=P.ClientServerMessage.encode(P.ClientServerMessage.fromObject(r)).finish();this.ws.send(n)}sendPlayerUpdate({username:e,characterId:t}){const r={compression:P.Compression.NONE,data:{messageType:P.ClientServer.MessageType.PLAYER_UPDATE,player:{characterId:t,username:e}}},n=P.ClientServerMessage.encode(P.ClientServerMessage.fromObject(r)).finish();this.ws.send(n)}}let N,L,j;const M=({processId:e,characterId:t})=>{try{L=new g(e,t),L.displayChatMessage("- Net64 connected -")}catch(e){console.warn(e)}},R=()=>{L=void 0},B=({domain:e,ip:t,port:r,username:n,characterId:o})=>{j=new A({domain:e,ip:t,port:r,username:n,characterId:o})},U=()=>{j&&j.disconnect(),j=void 0},F=new i("560060224321355811");F.on("error",e=>{0});let G={};function V(e,t){t&&(G={}),Object.assign(G,e),F.updatePresence(G)}(()=>{const e=()=>{const e=new n.BrowserWindow({width:670,height:840,icon:o.join(__dirname,"img/icon.png"),title:"Net64+ 2.5.2",webPreferences:{webSecurity:!1,nodeIntegrationInWorker:!0}});N=new T(e),V({state:"Ready",details:"Ready",largeImageKey:"net64",largeImageText:"Net64+ 2.5.2"}),e.loadURL(o.normalize(`file://${__dirname}/index.html`))};n.app.on("ready",e),n.app.on("window-all-closed",()=>{F.disconnect(),n.app.quit()}),n.app.on("activate",()=>{e()}),process.on("uncaughtException",e=>{const t=o.resolve(__dirname,"error"),r=o.resolve(t,`./error_log_${(new Date).toISOString().split(".")[0].replace(/:/g,"").replace(/-/g,"")}.log`);s.existsSync(t)||s.mkdirSync(t),s.writeFileSync(r,`Here is a detailed error log of the unhandled exception that caused Net64+ to crash.\n\nPlease report this error log on GitHub: https://github.com/tarnadas/net64plus/issues\n\nError name: ${e.name}\nError message: ${e.message}\nStackTrace: ${e.stack}`),n.app.quit()})})()}]);